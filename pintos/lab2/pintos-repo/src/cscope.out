cscope 15 $HOME/Desktop/Operating System/lab2/pintos-repo/src               0000732333
	@devices/block.c

1 
	~"deviûs/block.h
"

3 
	~<li¡.h
>

4 
	~<¡ršg.h
>

5 
	~<¡dio.h
>

6 
	~"deviûs/ide.h
"

7 
	~"th»ads/m®loc.h
"

8 
	~"th»ads/synch.h
"

11 
	sblock


13 
li¡_–em
 
	mli¡_–em
;

15 
	mÇme
[16];

16 
block_ty³
 
	mty³
;

17 
block_£ùÜ_t
 
	msize
;

19 cÚ¡ 
block_İ”©iÚs
 *
	mİs
;

20 *
	maux
;

22 
lock
 
	mlock
;

23 
	m»ad_út
;

24 
	mwr™e_út
;

28 
li¡
 
	g®l_blocks
 = 
LIST_INITIALIZER
 (
®l_blocks
);

31 
block
 *
	gblock_by_rŞe
[
BLOCK_ROLE_CNT
];

33 
block
 *
li¡_–em_to_block
 (
li¡_–em
 *);

38 
	$block_ty³_Çme
 (
block_ty³
 
ty³
)

40 cÚ¡ *
block_ty³_Çmes
[
BLOCK_CNT
] =

50 
	`ASSERT
 (
ty³
 < 
BLOCK_CNT
);

51  
block_ty³_Çmes
[
ty³
];

52 
	}
}

56 
block
 *

57 
	$block_g‘_rŞe
 (
block_ty³
 
rŞe
)

59 
	`ASSERT
 (
rŞe
 < 
BLOCK_ROLE_CNT
);

60  
block_by_rŞe
[
rŞe
];

61 
	}
}

65 
	$block_£t_rŞe
 (
block_ty³
 
rŞe
, 
block
 *block)

67 
	`ASSERT
 (
rŞe
 < 
BLOCK_ROLE_CNT
);

68 
block_by_rŞe
[
rŞe
] = 
block
;

69 
	}
}

73 
block
 *

74 
	$block_fœ¡
 ()

76  
	`li¡_–em_to_block
 (
	`li¡_begš
 (&
®l_blocks
));

77 
	}
}

81 
block
 *

82 
	$block_Ãxt
 (
block
 *block)

84  
	`li¡_–em_to_block
 (
	`li¡_Ãxt
 (&
block
->
li¡_–em
));

85 
	}
}

89 
block
 *

90 
	$block_g‘_by_Çme
 (cÚ¡ *
Çme
)

92 
li¡_–em
 *
e
;

94 
e
 = 
	`li¡_begš
 (&
®l_blocks
);ƒ !ğ
	`li¡_’d
 (&all_blocks);

95 
e
 = 
	`li¡_Ãxt
 (e))

97 
block
 *block = 
	`li¡_’Œy
 (
e
, block, 
li¡_–em
);

98 ià(!
	`¡rcmp
 (
Çme
, 
block
->name))

99  
block
;

102  
NULL
;

103 
	}
}

108 
	$check_£ùÜ
 (
block
 *block, 
block_£ùÜ_t
 
£ùÜ
)

110 ià(
£ùÜ
 >ğ
block
->
size
)

114 
	`PANIC
 ("Acûs ·¡ƒnd oàdeviû % (£ùÜ=%"
PRDSNu
", "

115 "size=%"
PRDSNu
")\n", 
	`block_Çme
 (
block
), 
£ùÜ
, block->
size
);

117 
	}
}

124 
	$block_»ad
 (
block
 *block, 
block_£ùÜ_t
 
£ùÜ
, *
bufãr
)

126 
	`check_£ùÜ
 (
block
, 
£ùÜ
);

127 
block
->
İs
->
	`»ad
 (block->
aux
, 
£ùÜ
, 
bufãr
);

128 
	`lock_acquœe
 (&
block
->
lock
);

129 
block
->
»ad_út
++;

130 
	`lock_»Ëa£
 (&
block
->
lock
);

131 
	}
}

139 
	$block_wr™e
 (
block
 *block, 
block_£ùÜ_t
 
£ùÜ
, cÚ¡ *
bufãr
)

141 
	`check_£ùÜ
 (
block
, 
£ùÜ
);

142 
	`ASSERT
 (
block
->
ty³
 !ğ
BLOCK_FOREIGN
);

143 
block
->
İs
->
	`wr™e
 (block->
aux
, 
£ùÜ
, 
bufãr
);

144 
	`lock_acquœe
 (&
block
->
lock
);

145 
block
->
wr™e_út
++;

146 
	`lock_»Ëa£
 (&
block
->
lock
);

147 
	}
}

150 
block_£ùÜ_t


151 
	$block_size
 (
block
 *block)

153  
block
->
size
;

154 
	}
}

158 
	$block_Çme
 (
block
 *block)

160  
block
->
Çme
;

161 
	}
}

164 
block_ty³


165 
	$block_ty³
 (
block
 *block)

167  
block
->
ty³
;

168 
	}
}

172 
	$block_´št_¡©s
 ()

174 
i
;

176 
i
 = 0; i < 
BLOCK_CNT
; i++)

178 
block
 *block = 
block_by_rŞe
[
i
];

179 ià(
block
 !ğ
NULL
)

181 
	`lock_acquœe
 (&
block
->
lock
);

182 
	`´štf
 ("%s (%s): %llu„eads, %llu writes\n",

183 
block
->
Çme
, 
	`block_ty³_Çme
 (block->
ty³
),

184 
block
->
»ad_út
, block->
wr™e_út
);

185 
	`lock_»Ëa£
 (&
block
->
lock
);

188 
	}
}

195 
block
 *

196 
	$block_»gi¡”
 (cÚ¡ *
Çme
, 
block_ty³
 
ty³
,

197 cÚ¡ *
exŒa_šfo
, 
block_£ùÜ_t
 
size
,

198 cÚ¡ 
block_İ”©iÚs
 *
İs
, *
aux
)

200 
block
 *block = 
	`m®loc
 ( *block);

201 ià(
block
 =ğ
NULL
)

202 
	`PANIC
 ("Failedo‡llocate memory for block device descriptor");

204 
	`li¡_push_back
 (&
®l_blocks
, &
block
->
li¡_–em
);

205 
	`¡¾ıy
 (
block
->
Çme
,‚ame,  block->name);

206 
block
->
ty³
 =ype;

207 
block
->
size
 = size;

208 
block
->
İs
 = ops;

209 
block
->
aux
 =‡ux;

210 
block
->
»ad_út
 = 0;

211 
block
->
wr™e_út
 = 0;

212 
	`lock_š™
 (&
block
->
lock
);

214 
	`´štf
 ("%s: %'"
PRDSNu
" seùÜ (", 
block
->
Çme
, block->
size
);

215 
	`´št_humª_»adabË_size
 ((
ušt64_t
è
block
->
size
 * 
BLOCK_SECTOR_SIZE
);

216 
	`´štf
 (")");

217 ià(
exŒa_šfo
 !ğ
NULL
)

218 
	`´štf
 (", %s", 
exŒa_šfo
);

219 
	`´štf
 ("\n");

221  
block
;

222 
	}
}

226 
block
 *

227 
	$li¡_–em_to_block
 (
li¡_–em
 *list_elem)

229  (
li¡_–em
 !ğ
	`li¡_’d
 (&
®l_blocks
)

230 ? 
	`li¡_’Œy
 (
li¡_–em
, 
block
,†ist_elem)

231 : 
NULL
);

232 
	}
}

	@devices/block.h

1 #iâdeà
DEVICES_BLOCK_H


3 
	#DEVICES_BLOCK_H


	)

5 
	~<¡ddef.h
>

6 
	~<š‰y³s.h
>

12 
	#BLOCK_SECTOR_SIZE
 512

	)

16 
ušt32_t
 
	tblock_£ùÜ_t
;

20 
	#PRDSNu
 
PRIu32


	)

24 
	gblock
;

27 
	eblock_ty³


30 
	mBLOCK_KERNEL
,

31 
	mBLOCK_FILESYS
,

32 
	mBLOCK_SCRATCH
,

33 
	mBLOCK_SWAP
,

34 
	mBLOCK_ROLE_CNT
,

38 
	mBLOCK_RAW
 = 
BLOCK_ROLE_CNT
,

39 
	mBLOCK_FOREIGN
,

40 
	mBLOCK_CNT


43 cÚ¡ *
block_ty³_Çme
 (
block_ty³
);

46 
block
 *
block_g‘_rŞe
 (
block_ty³
);

47 
block_£t_rŞe
 (
block_ty³
, 
block
 *);

48 
block
 *
block_g‘_by_Çme
 (cÚ¡ *
Çme
);

50 
block
 *
block_fœ¡
 ();

51 
block
 *
block_Ãxt
 (block *);

54 
block_£ùÜ_t
 
block_size
 (
block
 *);

55 
block_»ad
 (
block
 *, 
block_£ùÜ_t
, *);

56 
block_wr™e
 (
block
 *, 
block_£ùÜ_t
, const *);

57 cÚ¡ *
block_Çme
 (
block
 *);

58 
block_ty³
 block_ty³ (
block
 *);

61 
block_´št_¡©s
 ();

65 
	sblock_İ”©iÚs


67 (*
	m»ad
è(*
	maux
, 
	mblock_£ùÜ_t
, *
	mbufãr
);

68 (*
	mwr™e
è(*
	maux
, 
	mblock_£ùÜ_t
, cÚ¡ *
	mbufãr
);

71 
block
 *
block_»gi¡”
 (cÚ¡ *
Çme
, 
block_ty³
,

72 cÚ¡ *
exŒa_šfo
, 
block_£ùÜ_t
 
size
,

73 cÚ¡ 
block_İ”©iÚs
 *, *
aux
);

	@devices/ide.c

1 
	~"deviûs/ide.h
"

3 
	~<ùy³.h
>

4 
	~<debug.h
>

5 
	~<¡dboŞ.h
>

6 
	~<¡dio.h
>

7 
	~"deviûs/block.h
"

8 
	~"deviûs/·¹™iÚ.h
"

9 
	~"deviûs/tim”.h
"

10 
	~"th»ads/io.h
"

11 
	~"th»ads/š‹¼u±.h
"

12 
	~"th»ads/synch.h
"

18 
	#»g_d©a
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 0è

	)

19 
	#»g_”rÜ
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 1è

	)

20 
	#»g_n£ù
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 2è

	)

21 
	#»g_lb®
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 3è

	)

22 
	#»g_lbam
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 4è

	)

23 
	#»g_lbah
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 5è

	)

24 
	#»g_deviû
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 6è

	)

25 
	#»g_¡©us
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 7è

	)

26 
	#»g_commªd
(
CHANNEL
è
	`»g_¡©us
 (CHANNELè

	)

31 
	#»g_ùl
(
CHANNEL
è((CHANNEL)->
»g_ba£
 + 0x206è

	)

32 
	#»g_®t_¡©us
(
CHANNEL
è
	`»g_ùl
 (CHANNELè

	)

35 
	#STA_BSY
 0x80

	)

36 
	#STA_DRDY
 0x40

	)

37 
	#STA_DRQ
 0x08

	)

40 
	#CTL_SRST
 0x04

	)

43 
	#DEV_MBS
 0xa0

	)

44 
	#DEV_LBA
 0x40

	)

45 
	#DEV_DEV
 0x10

	)

50 
	#CMD_IDENTIFY_DEVICE
 0xeø

	)

51 
	#CMD_READ_SECTOR_RETRY
 0x20

	)

52 
	#CMD_WRITE_SECTOR_RETRY
 0x30

	)

55 
	s©a_disk


57 
	mÇme
[8];

58 
chªÃl
 *
	mchªÃl
;

59 
	mdev_no
;

60 
boŞ
 
	mis_©a
;

65 
	schªÃl


67 
	mÇme
[8];

68 
ušt16_t
 
	m»g_ba£
;

69 
ušt8_t
 
	mœq
;

71 
lock
 
	mlock
;

72 
boŞ
 
	mex³ùšg_š‹¼u±
;

74 
£m­hÜe
 
	mcom¶‘iÚ_wa™
;

76 
©a_disk
 
	mdeviûs
[2];

80 
	#CHANNEL_CNT
 2

	)

81 
chªÃl
 
	gchªÃls
[
CHANNEL_CNT
];

83 
block_İ”©iÚs
 
	gide_İ”©iÚs
;

85 
»£t_chªÃl
 (
chªÃl
 *);

86 
boŞ
 
check_deviû_ty³
 (
©a_disk
 *);

87 
id’tify_©a_deviû
 (
©a_disk
 *);

89 
£Ëù_£ùÜ
 (
©a_disk
 *, 
block_£ùÜ_t
);

90 
issue_pio_commªd
 (
chªÃl
 *, 
ušt8_t
 
commªd
);

91 
šput_£ùÜ
 (
chªÃl
 *, *);

92 
ouut_£ùÜ
 (
chªÃl
 *, const *);

94 
wa™_uÁ_idË
 (cÚ¡ 
©a_disk
 *);

95 
boŞ
 
wa™_whe_busy
 (cÚ¡ 
©a_disk
 *);

96 
£Ëù_deviû
 (cÚ¡ 
©a_disk
 *);

97 
£Ëù_deviû_wa™
 (cÚ¡ 
©a_disk
 *);

99 
š‹¼u±_hªdËr
 (
šŒ_äame
 *);

103 
	$ide_š™
 ()

105 
size_t
 
chª_no
;

107 
chª_no
 = 0; chª_nØ< 
CHANNEL_CNT
; chan_no++)

109 
chªÃl
 *
c
 = &
chªÃls
[
chª_no
];

110 
dev_no
;

113 
	`¢´štf
 (
c
->
Çme
,  c->Çme, "ide%zu", 
chª_no
);

114 
chª_no
)

117 
c
->
»g_ba£
 = 0x1f0;

118 
c
->
œq
 = 14 + 0x20;

121 
c
->
»g_ba£
 = 0x170;

122 
c
->
œq
 = 15 + 0x20;

125 
	`NOT_REACHED
 ();

127 
	`lock_š™
 (&
c
->
lock
);

128 
c
->
ex³ùšg_š‹¼u±
 = 
çl£
;

129 
	`£ma_š™
 (&
c
->
com¶‘iÚ_wa™
, 0);

132 
dev_no
 = 0; dev_no < 2; dev_no++)

134 
©a_disk
 *
d
 = &
c
->
deviûs
[
dev_no
];

135 
	`¢´štf
 (
d
->
Çme
,  d->name,

136 "hd%c", 'a' + 
chª_no
 * 2 + 
dev_no
);

137 
d
->
chªÃl
 = 
c
;

138 
d
->
dev_no
 = dev_no;

139 
d
->
is_©a
 = 
çl£
;

143 
	`šŒ_»gi¡”_ext
 (
c
->
œq
, 
š‹¼u±_hªdËr
, c->
Çme
);

146 
	`»£t_chªÃl
 (
c
);

149 ià(
	`check_deviû_ty³
 (&
c
->
deviûs
[0]))

150 
	`check_deviû_ty³
 (&
c
->
deviûs
[1]);

153 
dev_no
 = 0; dev_no < 2; dev_no++)

154 ià(
c
->
deviûs
[
dev_no
].
is_©a
)

155 
	`id’tify_©a_deviû
 (&
c
->
deviûs
[
dev_no
]);

157 
	}
}

161 *
desüambË_©a_¡ršg
 (*, 
size
);

166 
	$»£t_chªÃl
 (
chªÃl
 *
c
)

168 
boŞ
 
´e£Á
[2];

169 
dev_no
;

173 
dev_no
 = 0; dev_no < 2; dev_no++)

175 
©a_disk
 *
d
 = &
c
->
deviûs
[
dev_no
];

177 
	`£Ëù_deviû
 (
d
);

179 
	`outb
 (
	`»g_n£ù
 (
c
), 0x55);

180 
	`outb
 (
	`»g_lb®
 (
c
), 0xaa);

182 
	`outb
 (
	`»g_n£ù
 (
c
), 0xaa);

183 
	`outb
 (
	`»g_lb®
 (
c
), 0x55);

185 
	`outb
 (
	`»g_n£ù
 (
c
), 0x55);

186 
	`outb
 (
	`»g_lb®
 (
c
), 0xaa);

188 
´e£Á
[
dev_no
] = (
	`šb
 (
	`»g_n£ù
 (
c
)) == 0x55

189 && 
	`šb
 (
	`»g_lb®
 (
c
)) == 0xaa);

194 
	`outb
 (
	`»g_ùl
 (
c
), 0);

195 
	`tim”_u¦“p
 (10);

196 
	`outb
 (
	`»g_ùl
 (
c
), 
CTL_SRST
);

197 
	`tim”_u¦“p
 (10);

198 
	`outb
 (
	`»g_ùl
 (
c
), 0);

200 
	`tim”_m¦“p
 (150);

203 ià(
´e£Á
[0])

205 
	`£Ëù_deviû
 (&
c
->
deviûs
[0]);

206 
	`wa™_whe_busy
 (&
c
->
deviûs
[0]);

210 ià(
´e£Á
[1])

212 
i
;

214 
	`£Ëù_deviû
 (&
c
->
deviûs
[1]);

215 
i
 = 0; i < 3000; i++)

217 ià(
	`šb
 (
	`»g_n£ù
 (
c
)è=ğ1 && inb (
	`»g_lb®
 (c)) == 1)

219 
	`tim”_m¦“p
 (10);

221 
	`wa™_whe_busy
 (&
c
->
deviûs
[1]);

223 
	}
}

230 
boŞ


231 
	$check_deviû_ty³
 (
©a_disk
 *
d
)

233 
chªÃl
 *
c
 = 
d
->channel;

234 
ušt8_t
 
”rÜ
, 
lbam
, 
lbah
, 
¡©us
;

236 
	`£Ëù_deviû
 (
d
);

238 
”rÜ
 = 
	`šb
 (
	`»g_”rÜ
 (
c
));

239 
lbam
 = 
	`šb
 (
	`»g_lbam
 (
c
));

240 
lbah
 = 
	`šb
 (
	`»g_lbah
 (
c
));

241 
¡©us
 = 
	`šb
 (
	`»g_¡©us
 (
c
));

243 ià((
”rÜ
 !ğ1 && (”rÜ !ğ0x81 || 
d
->
dev_no
 == 1))

244 || (
¡©us
 & 
STA_DRDY
) == 0

245 || (
¡©us
 & 
STA_BSY
) != 0)

247 
d
->
is_©a
 = 
çl£
;

248  
”rÜ
 != 0x81;

252 
d
->
is_©a
 = (
lbam
 =ğ0 && 
lbah
 == 0) || (lbam == 0x3c &&†bah == 0xc3);

253  
Œue
;

255 
	}
}

261 
	$id’tify_©a_deviû
 (
©a_disk
 *
d
)

263 
chªÃl
 *
c
 = 
d
->channel;

264 
id
[
BLOCK_SECTOR_SIZE
];

265 
block_£ùÜ_t
 
ÿ·c™y
;

266 *
mod–
, *
£rŸl
;

267 
exŒa_šfo
[128];

268 
block
 *block;

270 
	`ASSERT
 (
d
->
is_©a
);

275 
	`£Ëù_deviû_wa™
 (
d
);

276 
	`issue_pio_commªd
 (
c
, 
CMD_IDENTIFY_DEVICE
);

277 
	`£ma_down
 (&
c
->
com¶‘iÚ_wa™
);

278 ià(!
	`wa™_whe_busy
 (
d
))

280 
d
->
is_©a
 = 
çl£
;

283 
	`šput_£ùÜ
 (
c
, 
id
);

287 
ÿ·c™y
 = *(
ušt32_t
 *è&
id
[60 * 2];

288 
mod–
 = 
	`desüambË_©a_¡ršg
 (&
id
[10 * 2], 20);

289 
£rŸl
 = 
	`desüambË_©a_¡ršg
 (&
id
[27 * 2], 40);

290 
	`¢´štf
 (
exŒa_šfo
, ƒxtra_info,

291 "mod– \"%s\", s”ŸÈ\"%s\"", 
mod–
, 
£rŸl
);

298 ià(
ÿ·c™y
 >ğ1024 * 1024 * 1024 / 
BLOCK_SECTOR_SIZE
)

300 
	`´štf
 ("%s: ignÜšg ", 
d
->
Çme
);

301 
	`´št_humª_»adabË_size
 (
ÿ·c™y
 * 512);

302 
	`´štf
 ("disk for safety\n");

303 
d
->
is_©a
 = 
çl£
;

308 
block
 = 
	`block_»gi¡”
 (
d
->
Çme
, 
BLOCK_RAW
, 
exŒa_šfo
, 
ÿ·c™y
,

309 &
ide_İ”©iÚs
, 
d
);

310 
	`·¹™iÚ_sÿn
 (
block
);

311 
	}
}

317 
	$desüambË_©a_¡ršg
 (*
¡ršg
, 
size
)

319 
i
;

322 
i
 = 0; i + 1 < 
size
; i += 2)

324 
tmp
 = 
¡ršg
[
i
];

325 
¡ršg
[
i
] = string[i + 1];

326 
¡ršg
[
i
 + 1] = 
tmp
;

330 
size
--; size > 0; size--)

332 
c
 = 
¡ršg
[
size
 - 1];

333 ià(
c
 !ğ'\0' && !
	`is¥aû
 (c))

336 
¡ršg
[
size
] = '\0';

338  
¡ršg
;

339 
	}
}

346 
	$ide_»ad
 (*
d_
, 
block_£ùÜ_t
 
£c_no
, *
bufãr
)

348 
©a_disk
 *
d
 = 
d_
;

349 
chªÃl
 *
c
 = 
d
->channel;

350 
	`lock_acquœe
 (&
c
->
lock
);

351 
	`£Ëù_£ùÜ
 (
d
, 
£c_no
);

352 
	`issue_pio_commªd
 (
c
, 
CMD_READ_SECTOR_RETRY
);

353 
	`£ma_down
 (&
c
->
com¶‘iÚ_wa™
);

354 ià(!
	`wa™_whe_busy
 (
d
))

355 
	`PANIC
 ("%s: disk„—d faed, seùÜ=%"
PRDSNu
, 
d
->
Çme
, 
£c_no
);

356 
	`šput_£ùÜ
 (
c
, 
bufãr
);

357 
	`lock_»Ëa£
 (&
c
->
lock
);

358 
	}
}

366 
	$ide_wr™e
 (*
d_
, 
block_£ùÜ_t
 
£c_no
, cÚ¡ *
bufãr
)

368 
©a_disk
 *
d
 = 
d_
;

369 
chªÃl
 *
c
 = 
d
->channel;

370 
	`lock_acquœe
 (&
c
->
lock
);

371 
	`£Ëù_£ùÜ
 (
d
, 
£c_no
);

372 
	`issue_pio_commªd
 (
c
, 
CMD_WRITE_SECTOR_RETRY
);

373 ià(!
	`wa™_whe_busy
 (
d
))

374 
	`PANIC
 ("%s: disk wr™çed, seùÜ=%"
PRDSNu
, 
d
->
Çme
, 
£c_no
);

375 
	`ouut_£ùÜ
 (
c
, 
bufãr
);

376 
	`£ma_down
 (&
c
->
com¶‘iÚ_wa™
);

377 
	`lock_»Ëa£
 (&
c
->
lock
);

378 
	}
}

380 
block_İ”©iÚs
 
	gide_İ”©iÚs
 =

382 
ide_»ad
,

383 
ide_wr™e


390 
	$£Ëù_£ùÜ
 (
©a_disk
 *
d
, 
block_£ùÜ_t
 
£c_no
)

392 
chªÃl
 *
c
 = 
d
->channel;

394 
	`ASSERT
 (
£c_no
 < (1UL << 28));

396 
	`£Ëù_deviû_wa™
 (
d
);

397 
	`outb
 (
	`»g_n£ù
 (
c
), 1);

398 
	`outb
 (
	`»g_lb®
 (
c
), 
£c_no
);

399 
	`outb
 (
	`»g_lbam
 (
c
), 
£c_no
 >> 8);

400 
	`outb
 (
	`»g_lbah
 (
c
), (
£c_no
 >> 16));

401 
	`outb
 (
	`»g_deviû
 (
c
),

402 
DEV_MBS
 | 
DEV_LBA
 | (
d
->
dev_no
 =ğ1 ? 
DEV_DEV
 : 0è| (
£c_no
 >> 24));

403 
	}
}

408 
	$issue_pio_commªd
 (
chªÃl
 *
c
, 
ušt8_t
 
commªd
)

412 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_ON
);

414 
c
->
ex³ùšg_š‹¼u±
 = 
Œue
;

415 
	`outb
 (
	`»g_commªd
 (
c
), 
commªd
);

416 
	}
}

421 
	$šput_£ùÜ
 (
chªÃl
 *
c
, *
£ùÜ
)

423 
	`šsw
 (
	`»g_d©a
 (
c
), 
£ùÜ
, 
BLOCK_SECTOR_SIZE
 / 2);

424 
	}
}

429 
	$ouut_£ùÜ
 (
chªÃl
 *
c
, cÚ¡ *
£ùÜ
)

431 
	`outsw
 (
	`»g_d©a
 (
c
), 
£ùÜ
, 
BLOCK_SECTOR_SIZE
 / 2);

432 
	}
}

442 
	$wa™_uÁ_idË
 (cÚ¡ 
©a_disk
 *
d
)

444 
i
;

446 
i
 = 0; i < 1000; i++)

448 ià((
	`šb
 (
	`»g_¡©us
 (
d
->
chªÃl
)è& (
STA_BSY
 | 
STA_DRQ
)) == 0)

450 
	`tim”_u¦“p
 (10);

453 
	`´štf
 ("%s: idËimeout\n", 
d
->
Çme
);

454 
	}
}

460 
boŞ


461 
	$wa™_whe_busy
 (cÚ¡ 
©a_disk
 *
d
)

463 
chªÃl
 *
c
 = 
d
->channel;

464 
i
;

466 
i
 = 0; i < 3000; i++)

468 ià(
i
 == 700)

469 
	`´štf
 ("%s: busy, wa™šg...", 
d
->
Çme
);

470 ià(!(
	`šb
 (
	`»g_®t_¡©us
 (
c
)è& 
STA_BSY
))

472 ià(
i
 >= 700)

473 
	`´štf
 ("ok\n");

474  (
	`šb
 (
	`»g_®t_¡©us
 (
c
)è& 
STA_DRQ
) != 0;

476 
	`tim”_m¦“p
 (10);

479 
	`´štf
 ("failed\n");

480  
çl£
;

481 
	}
}

485 
	$£Ëù_deviû
 (cÚ¡ 
©a_disk
 *
d
)

487 
chªÃl
 *
c
 = 
d
->channel;

488 
ušt8_t
 
dev
 = 
DEV_MBS
;

489 ià(
d
->
dev_no
 == 1)

490 
dev
 |ğ
DEV_DEV
;

491 
	`outb
 (
	`»g_deviû
 (
c
), 
dev
);

492 
	`šb
 (
	`»g_®t_¡©us
 (
c
));

493 
	`tim”_n¦“p
 (400);

494 
	}
}

499 
	$£Ëù_deviû_wa™
 (cÚ¡ 
©a_disk
 *
d
)

501 
	`wa™_uÁ_idË
 (
d
);

502 
	`£Ëù_deviû
 (
d
);

503 
	`wa™_uÁ_idË
 (
d
);

504 
	}
}

508 
	$š‹¼u±_hªdËr
 (
šŒ_äame
 *
f
)

510 
chªÃl
 *
c
;

512 
c
 = 
chªÃls
; c < chªÃl + 
CHANNEL_CNT
; c++)

513 ià(
f
->
vec_no
 =ğ
c
->
œq
)

515 ià(
c
->
ex³ùšg_š‹¼u±
)

517 
	`šb
 (
	`»g_¡©us
 (
c
));

518 
	`£ma_up
 (&
c
->
com¶‘iÚ_wa™
);

521 
	`´štf
 ("%s: uÃx³ùed iÁ”ru±\n", 
c
->
Çme
);

525 
	`NOT_REACHED
 ();

526 
	}
}

	@devices/ide.h

1 #iâdeà
DEVICES_IDE_H


3 
	#DEVICES_IDE_H


	)

5 
ide_š™
 ();

	@devices/input.c

1 
	~"deviûs/šput.h
"

3 
	~<debug.h
>

4 
	~"deviûs/štq.h
"

5 
	~"deviûs/£rŸl.h
"

8 
štq
 
	gbufãr
;

12 
	$šput_š™
 ()

14 
	`štq_š™
 (&
bufãr
);

15 
	}
}

20 
	$šput_putc
 (
ušt8_t
 
key
)

22 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

23 
	`ASSERT
 (!
	`štq_fuÎ
 (&
bufãr
));

25 
	`štq_putc
 (&
bufãr
, 
key
);

26 
	`£rŸl_nÙify
 ();

27 
	}
}

31 
ušt8_t


32 
	$šput_g‘c
 ()

34 
šŒ_Ëv–
 
Şd_Ëv–
;

35 
ušt8_t
 
key
;

37 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

38 
key
 = 
	`štq_g‘c
 (&
bufãr
);

39 
	`£rŸl_nÙify
 ();

40 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

42  
key
;

43 
	}
}

48 
boŞ


49 
	$šput_fuÎ
 ()

51 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

52  
	`štq_fuÎ
 (&
bufãr
);

53 
	}
}

	@devices/input.h

1 #iâdeà
DEVICES_INPUT_H


3 
	#DEVICES_INPUT_H


	)

5 
	~<¡dboŞ.h
>

6 
	~<¡dšt.h
>

8 
šput_š™
 ();

9 
šput_putc
 (
ušt8_t
);

10 
ušt8_t
 
šput_g‘c
 ();

11 
boŞ
 
šput_fuÎ
 ();

	@devices/intq.c

1 
	~"deviûs/štq.h
"

3 
	~<debug.h
>

4 
	~"th»ads/th»ad.h
"

6 
Ãxt
 (
pos
);

7 
wa™
 (
štq
 *
q
, 
th»ad
 **
wa™”
);

8 
sigÇl
 (
štq
 *
q
, 
th»ad
 **
wa™”
);

12 
	$štq_š™
 (
štq
 *
q
)

14 
	`lock_š™
 (&
q
->
lock
);

15 
q
->
nÙ_fuÎ
 = q->
nÙ_em±y
 = 
NULL
;

16 
q
->
h—d
 = q->

 = 0;

17 
	}
}

20 
boŞ


21 
	$štq_em±y
 (cÚ¡ 
štq
 *
q
)

23 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

24  
q
->
h—d
 =ğq->

;

25 
	}
}

28 
boŞ


29 
	$štq_fuÎ
 (cÚ¡ 
štq
 *
q
)

31 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

32  
	`Ãxt
 (
q
->
h—d
è=ğq->

;

33 
	}
}

38 
ušt8_t


39 
	$štq_g‘c
 (
štq
 *
q
)

41 
ušt8_t
 
by‹
;

43 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

44 
	`štq_em±y
 (
q
))

46 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

47 
	`lock_acquœe
 (&
q
->
lock
);

48 
	`wa™
 (
q
, &q->
nÙ_em±y
);

49 
	`lock_»Ëa£
 (&
q
->
lock
);

52 
by‹
 = 
q
->
buf
[q->

];

53 
q
->

 = 
	`Ãxt
 (q->tail);

54 
	`sigÇl
 (
q
, &q->
nÙ_fuÎ
);

55  
by‹
;

56 
	}
}

62 
	$štq_putc
 (
štq
 *
q
, 
ušt8_t
 
by‹
)

64 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

65 
	`štq_fuÎ
 (
q
))

67 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

68 
	`lock_acquœe
 (&
q
->
lock
);

69 
	`wa™
 (
q
, &q->
nÙ_fuÎ
);

70 
	`lock_»Ëa£
 (&
q
->
lock
);

73 
q
->
buf
[q->
h—d
] = 
by‹
;

74 
q
->
h—d
 = 
	`Ãxt
 (q->head);

75 
	`sigÇl
 (
q
, &q->
nÙ_em±y
);

76 
	}
}

80 
	$Ãxt
 (
pos
)

82  (
pos
 + 1è% 
INTQ_BUFSIZE
;

83 
	}
}

88 
	$wa™
 (
štq
 *
q
 
UNUSED
, 
th»ad
 **
wa™”
)

90 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

91 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

92 
	`ASSERT
 ((
wa™”
 =ğ&
q
->
nÙ_em±y
 && 
	`štq_em±y
 (q))

93 || (
wa™”
 =ğ&
q
->
nÙ_fuÎ
 && 
	`štq_fuÎ
 (q)));

95 *
wa™”
 = 
	`th»ad_cu¼’t
 ();

96 
	`th»ad_block
 ();

97 
	}
}

104 
	$sigÇl
 (
štq
 *
q
 
UNUSED
, 
th»ad
 **
wa™”
)

106 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

107 
	`ASSERT
 ((
wa™”
 =ğ&
q
->
nÙ_em±y
 && !
	`štq_em±y
 (q))

108 || (
wa™”
 =ğ&
q
->
nÙ_fuÎ
 && !
	`štq_fuÎ
 (q)));

110 ià(*
wa™”
 !ğ
NULL
)

112 
	`th»ad_unblock
 (*
wa™”
);

113 *
wa™”
 = 
NULL
;

115 
	}
}

	@devices/intq.h

1 #iâdeà
DEVICES_INTQ_H


3 
	#DEVICES_INTQ_H


	)

5 
	~"th»ads/š‹¼u±.h
"

6 
	~"th»ads/synch.h
"

22 
	#INTQ_BUFSIZE
 64

	)

25 
	sštq


28 
lock
 
	mlock
;

29 
th»ad
 *
	mnÙ_fuÎ
;

30 
th»ad
 *
	mnÙ_em±y
;

33 
ušt8_t
 
	mbuf
[
INTQ_BUFSIZE
];

34 
	mh—d
;

35 
	m
;

38 
štq_š™
 (
štq
 *);

39 
boŞ
 
štq_em±y
 (cÚ¡ 
štq
 *);

40 
boŞ
 
štq_fuÎ
 (cÚ¡ 
štq
 *);

41 
ušt8_t
 
štq_g‘c
 (
štq
 *);

42 
štq_putc
 (
štq
 *, 
ušt8_t
);

	@devices/kbd.c

1 
	~"deviûs/kbd.h
"

3 
	~<ùy³.h
>

4 
	~<debug.h
>

5 
	~<¡dio.h
>

6 
	~<¡ršg.h
>

7 
	~"deviûs/šput.h
"

8 
	~"th»ads/š™.h
"

9 
	~"th»ads/š‹¼u±.h
"

10 
	~"th»ads/io.h
"

13 
	#DATA_REG
 0x60

	)

17 
boŞ
 
	gËá_shiá
, 
	gright_shiá
;

18 
boŞ
 
	gËá_®t
, 
	gright_®t
;

19 
boŞ
 
	gËá_ù¾
, 
	gright_ù¾
;

23 
boŞ
 
	gÿps_lock
;

26 
št64_t
 
	gkey_út
;

28 
šŒ_hªdËr_func
 
	gkeybßrd_š‹¼u±
;

32 
	$kbd_š™
 ()

34 
	`šŒ_»gi¡”_ext
 (0x21, 
keybßrd_š‹¼u±
, "8042 Keyboard");

35 
	}
}

39 
	$kbd_´št_¡©s
 ()

41 
	`´štf
 ("Keybßrd: %Îd key ´es£d\n", 
key_út
);

42 
	}
}

45 
	skeym­


47 
ušt8_t
 
	mfœ¡_sÿncode
;

48 cÚ¡ *
	mch¬s
;

56 cÚ¡ 
keym­
 
	gšv¬ŸÁ_keym­
[] =

67 {0, 
NULL
},

72 cÚ¡ 
keym­
 
	gunshiáed_keym­
[] =

79 {0, 
NULL
},

84 cÚ¡ 
keym­
 
	gshiáed_keym­
[] =

91 {0, 
NULL
},

94 
boŞ
 
m­_key
 (cÚ¡ 
keym­
[], 
sÿncode
, 
ušt8_t
 *);

97 
	$keybßrd_š‹¼u±
 (
šŒ_äame
 *
¬gs
 
UNUSED
)

100 
boŞ
 
shiá
 = 
Ëá_shiá
 || 
right_shiá
;

101 
boŞ
 
®t
 = 
Ëá_®t
 || 
right_®t
;

102 
boŞ
 
ù¾
 = 
Ëá_ù¾
 || 
right_ù¾
;

105 
code
;

108 
boŞ
 
»Ëa£
;

111 
ušt8_t
 
c
;

114 
code
 = 
	`šb
 (
DATA_REG
);

115 ià(
code
 == 0xe0)

116 
code
 = (cod<< 8è| 
	`šb
 (
DATA_REG
);

120 
»Ëa£
 = (
code
 & 0x80) != 0;

121 
code
 &= ~0x80u;

124 ià(
code
 == 0x3a)

127 ià(!
»Ëa£
)

128 
ÿps_lock
 = !caps_lock;

130 ià(
	`m­_key
 (
šv¬ŸÁ_keym­
, 
code
, &
c
)

131 || (!
shiá
 && 
	`m­_key
 (
unshiáed_keym­
, 
code
, &
c
))

132 || (
shiá
 && 
	`m­_key
 (
shiáed_keym­
, 
code
, &
c
)))

135 ià(!
»Ëa£
)

138 ià(
c
 =ğ0177 && 
ù¾
 && 
®t
)

139 
	`»boÙ
 ();

142 ià(
c
 =ğ'A' && 
ù¾
 && 
®t
)

143 
	`debug_backŒaû_®l
 ();

147 ià(
ù¾
 && 
c
 >= 0x40 && c < 0x60)

150 
c
 -= 0x40;

152 ià(
shiá
 =ğ
ÿps_lock
)

153 
c
 = 
	`tŞow”
 (c);

158 ià(
®t
)

159 
c
 += 0x80;

162 ià(!
	`šput_fuÎ
 ())

164 
key_út
++;

165 
	`šput_putc
 (
c
);

172 
	sshiá_key


174 
sÿncode
;

175 
boŞ
 *
¡©e_v¬
;

179 cÚ¡ 
shiá_key
 
shiá_keys
[] =

181 { 0x2a, &
Ëá_shiá
},

182 { 0x36, &
right_shiá
},

183 { 0x38, &
Ëá_®t
},

184 {0xe038, &
right_®t
},

185 { 0x1d, &
Ëá_ù¾
},

186 {0xe01d, &
right_ù¾
},

187 {0, 
NULL
},

190 cÚ¡ 
shiá_key
 *
key
;

193 
key
 = 
shiá_keys
; key->
sÿncode
 != 0; key++)

194 ià(
key
->
sÿncode
 =ğ
code
)

196 *
key
->
¡©e_v¬
 = !
»Ëa£
;

200 
	}
}

206 
boŞ


207 
	$m­_key
 (cÚ¡ 
keym­
 
k
[], 
sÿncode
, 
ušt8_t
 *
c
)

209 ; 
k
->
fœ¡_sÿncode
 != 0; k++)

210 ià(
sÿncode
 >ğ
k
->
fœ¡_sÿncode


211 && 
sÿncode
 < 
k
->
fœ¡_sÿncode
 + 
	`¡¾’
 (k->
ch¬s
))

213 *
c
 = 
k
->
ch¬s
[
sÿncode
 - k->
fœ¡_sÿncode
];

214  
Œue
;

217  
çl£
;

218 
	}
}

	@devices/kbd.h

1 #iâdeà
DEVICES_KBD_H


3 
	#DEVICES_KBD_H


	)

5 
	~<¡dšt.h
>

7 
kbd_š™
 ();

8 
kbd_´št_¡©s
 ();

	@devices/partition.c

1 
	~"deviûs/·¹™iÚ.h
"

3 
	~<·cked.h
>

4 
	~<¡dlib.h
>

5 
	~<¡ršg.h
>

6 
	~<¡dio.h
>

7 
	~"deviûs/block.h
"

8 
	~"th»ads/m®loc.h
"

11 
	s·¹™iÚ


13 
block
 *
	mblock
;

14 
block_£ùÜ_t
 
	m¡¬t
;

17 
block_İ”©iÚs
 
	g·¹™iÚ_İ”©iÚs
;

19 
»ad_·¹™iÚ_bË
 (
block
 *, 
block_£ùÜ_t
 
£ùÜ
,

20 
block_£ùÜ_t
 
´im¬y_ex‹nded_£ùÜ
,

21 *
·¹_Ä
);

22 
found_·¹™iÚ
 (
block
 *, 
ušt8_t
 
ty³
,

23 
block_£ùÜ_t
 
¡¬t
, block_£ùÜ_ˆ
size
,

24 
·¹_Ä
);

25 cÚ¡ *
·¹™iÚ_ty³_Çme
 (
ušt8_t
);

29 
	$·¹™iÚ_sÿn
 (
block
 *block)

31 
·¹_Ä
 = 0;

32 
	`»ad_·¹™iÚ_bË
 (
block
, 0, 0, &
·¹_Ä
);

33 ià(
·¹_Ä
 == 0)

34 
	`´štf
 ("%s: Deviû cÚš nØ·¹™iÚs\n", 
	`block_Çme
 (
block
));

35 
	}
}

51 
	$»ad_·¹™iÚ_bË
 (
block
 *block, 
block_£ùÜ_t
 
£ùÜ
,

52 
block_£ùÜ_t
 
´im¬y_ex‹nded_£ùÜ
,

53 *
·¹_Ä
)

56 
	s·¹™iÚ_bË_’Œy


58 
ušt8_t
 
boÙabË
;

59 
ušt8_t
 
¡¬t_chs
[3];

60 
ušt8_t
 
ty³
;

61 
ušt8_t
 
’d_chs
[3];

62 
ušt32_t
 
off£t
;

63 
ušt32_t
 
size
;

65 
PACKED
;

68 
	s·¹™iÚ_bË


70 
ušt8_t
 
lßd”
[446];

71 
·¹™iÚ_bË_’Œy
 
·¹™iÚs
[4];

72 
ušt16_t
 
sigÇtu»
;

74 
PACKED
;

76 
·¹™iÚ_bË
 *
±
;

77 
size_t
 
i
;

80 ià(
£ùÜ
 >ğ
	`block_size
 (
block
))

82 
	`´štf
 ("%s: P¬t™iÚabË‡ˆ£ùÜ %"
PRDSNu
"…astƒnd of device.\n",

83 
	`block_Çme
 (
block
), 
£ùÜ
);

88 
	`ASSERT
 ( *
±
 =ğ
BLOCK_SECTOR_SIZE
);

89 
±
 = 
	`m®loc
 ( *pt);

90 ià(
±
 =ğ
NULL
)

91 
	`PANIC
 ("Failedo‡llocate memory for…artitionable.");

92 
	`block_»ad
 (
block
, 0, 
±
);

95 ià(
±
->
sigÇtu»
 != 0xaa55)

97 ià(
´im¬y_ex‹nded_£ùÜ
 == 0)

98 
	`´štf
 ("%s: Inv®id…¬t™iÚabË sigÇtu»\n", 
	`block_Çme
 (
block
));

100 
	`´štf
 ("%s: Inv®idƒx‹nded…¬t™iÚabË iÀ£ùÜ %"
PRDSNu
"\n",

101 
	`block_Çme
 (
block
), 
£ùÜ
);

102 
	`ä“
 (
±
);

107 
i
 = 0; i <  
±
->
·¹™iÚs
 /  *pt->partitions; i++)

109 
·¹™iÚ_bË_’Œy
 *
e
 = &
±
->
·¹™iÚs
[
i
];

111 ià(
e
->
size
 =ğ0 ||ƒ->
ty³
 == 0)

115 ià(
e
->
ty³
 == 0x05

116 || 
e
->
ty³
 == 0x0f

117 || 
e
->
ty³
 == 0x85

118 || 
e
->
ty³
 == 0xc5)

120 
	`´štf
 ("%s: Ex‹nded…¬t™iÚ iÀ£ùÜ %"
PRDSNu
"\n",

121 
	`block_Çme
 (
block
), 
£ùÜ
);

131 ià(
£ùÜ
 == 0)

132 
	`»ad_·¹™iÚ_bË
 (
block
, 
e
->
off£t
,ƒ->off£t, 
·¹_Ä
);

134 
	`»ad_·¹™iÚ_bË
 (
block
, 
e
->
off£t
 + 
´im¬y_ex‹nded_£ùÜ
,

135 
´im¬y_ex‹nded_£ùÜ
, 
·¹_Ä
);

139 ++*
·¹_Ä
;

141 
	`found_·¹™iÚ
 (
block
, 
e
->
ty³
,ƒ->
off£t
 + 
£ùÜ
,

142 
e
->
size
, *
·¹_Ä
);

146 
	`ä“
 (
±
);

147 
	}
}

155 
	$found_·¹™iÚ
 (
block
 *block, 
ušt8_t
 
·¹_ty³
,

156 
block_£ùÜ_t
 
¡¬t
, block_£ùÜ_ˆ
size
,

157 
·¹_Ä
)

159 ià(
¡¬t
 >ğ
	`block_size
 (
block
))

160 
	`´štf
 ("%s%d: P¬t™iÚ s¹ ·¡ƒnd oàdeviû (£ùÜ %"
PRDSNu
")\n",

161 
	`block_Çme
 (
block
), 
·¹_Ä
, 
¡¬t
);

162 ià(
¡¬t
 + 
size
 < s¹ || s¹ + siz> 
	`block_size
 (
block
))

163 
	`´štf
 ("%s%d: P¬t™iÚƒnd (%"
PRDSNu
")…astƒnd of device (%"PRDSNu")\n",

164 
	`block_Çme
 (
block
), 
·¹_Ä
, 
¡¬t
 + 
size
, 
	`block_size
 (block));

167 
block_ty³
 
ty³
 = (
·¹_ty³
 =ğ0x20 ? 
BLOCK_KERNEL


168 : 
·¹_ty³
 =ğ0x21 ? 
BLOCK_FILESYS


169 : 
·¹_ty³
 =ğ0x22 ? 
BLOCK_SCRATCH


170 : 
·¹_ty³
 =ğ0x23 ? 
BLOCK_SWAP


171 : 
BLOCK_FOREIGN
);

172 
·¹™iÚ
 *
p
;

173 
exŒa_šfo
[128];

174 
Çme
[16];

176 
p
 = 
	`m®loc
 ( *p);

177 ià(
p
 =ğ
NULL
)

178 
	`PANIC
 ("Failedo‡llocate memory for…artition descriptor");

179 
p
->
block
 = block;

180 
p
->
¡¬t
 = start;

182 
	`¢´štf
 (
Çme
, ‚ame, "%s%d", 
	`block_Çme
 (
block
), 
·¹_Ä
);

183 
	`¢´štf
 (
exŒa_šfo
, ƒxtra_info, "%s (%02x)",

184 
	`·¹™iÚ_ty³_Çme
 (
·¹_ty³
),…art_type);

185 
	`block_»gi¡”
 (
Çme
, 
ty³
, 
exŒa_šfo
, 
size
, &
·¹™iÚ_İ”©iÚs
, 
p
);

187 
	}
}

191 
	$·¹™iÚ_ty³_Çme
 (
ušt8_t
 
ty³
)

197 cÚ¡ *
ty³_Çmes
[256] =

299  
ty³_Çmes
[
ty³
] !ğ
NULL
 ?ype_names[type] : "Unknown";

300 
	}
}

305 
	$·¹™iÚ_»ad
 (*
p_
, 
block_£ùÜ_t
 
£ùÜ
, *
bufãr
)

307 
·¹™iÚ
 *
p
 = 
p_
;

308 
	`block_»ad
 (
p
->
block
,…->
¡¬t
 + 
£ùÜ
, 
bufãr
);

309 
	}
}

315 
	$·¹™iÚ_wr™e
 (*
p_
, 
block_£ùÜ_t
 
£ùÜ
, cÚ¡ *
bufãr
)

317 
·¹™iÚ
 *
p
 = 
p_
;

318 
	`block_wr™e
 (
p
->
block
,…->
¡¬t
 + 
£ùÜ
, 
bufãr
);

319 
	}
}

321 
block_İ”©iÚs
 
	g·¹™iÚ_İ”©iÚs
 =

323 
·¹™iÚ_»ad
,

324 
·¹™iÚ_wr™e


	@devices/partition.h

1 #iâdeà
DEVICES_PARTITION_H


3 
	#DEVICES_PARTITION_H


	)

5 
	gblock
;

7 
·¹™iÚ_sÿn
 (
block
 *);

	@devices/pci.c

1 
	#PCI_TRANSLATION_ENABLE
 1

	)

4 
	~"deviûs/pci.h
"

5 
	~"th»ads/m®loc.h
"

6 
	~"th»ads/š‹¼u±.h
"

7 
	~"th»ads/±e.h
"

8 
	~"th»ads/io.h
"

9 
	~"pci_lookup.h
"

10 
	~<round.h
>

11 
	~<li¡.h
>

12 
	~<¡dšt.h
>

13 
	~<¡ršg.h
>

14 
	~<¡dio.h
>

16 
ušt32_t
 *
ba£_·ge_dœ
;

18 
	#PCI_REG_ADDR
 0xcf8

	)

19 
	#PCI_REG_DATA
 0xcfc

	)

20 
	#pci_cÚfig_off£t
(
bus
, 
dev
, 
func
, 
»g
è(0x80000000 | ((busè<< 16è| ((devè<< 11è| ((funcè<< 8è| (»g & (~3)))

	)

22 
	#PCI_MAX_DEV_PER_BUS
 32

	)

23 
	#PCI_MAX_FUNC_PER_DEV
 8

	)

25 
	#PCI_HEADER_SZ
 256

	)

27 
	#PCI_CMD_IO
 0x001

	)

28 
	#PCI_CMD_MEMORY
 0x002

	)

29 
	#PCI_CMD_MASTER
 0x004

	)

30 
	#PCI_CMD_SPECIAL
 0x008

	)

31 
	#PCI_CMD_INVALIDATE
 0x010

	)

32 
	#PCI_CMD_PALETTE
 0x020

	)

33 
	#PCI_CMD_PARITY
 0x040

	)

34 
	#PCI_CMD_WAIT
 0x080

	)

35 
	#PCI_CMD_SERR
 0x100

	)

36 
	#PCI_CMD_FASTBACK
 0x200

	)

37 
	#PCI_CMD_INTX_DISABLE
 0x400

	)

39 
	#PCI_STATUS_CAPLIST
 0x10

	)

40 
	#PCI_STATUS_66MHZ
 0x20

	)

41 
	#PCI_STATUS_UDF
 0x40

	)

42 
	#PCI_STATUS_FASTBACK
 0x80

	)

43 
	#PCI_STATUS_PARITY
 0x100

	)

44 
	#PCI_STATUS_DEVSEL
 0x600

	)

45 
	#PCI_STATUS_DEVSEL_FAST
 0

	)

46 
	#PCI_STATUS_DEVSEL_MED
 0x200

	)

47 
	#PCI_STATUS_DEVSEL_SLOW
 0x400

	)

48 
	#PCI_STATUS_SIG_ABORT
 0x0800

	)

49 
	#PCI_STATUS_REC_ABORT
 0x1000

	)

50 
	#PCI_STATUS_REC_ABORT_M
 0x2000

	)

51 
	#PCI_STATUS_SERR
 0x4000

	)

52 
	#PCI_STATUS_PARITY2
 0x8000

	)

54 
	#PCI_HEADER_NORMAL
 0

	)

55 
	#PCI_HEADER_BRIDGE
 1

	)

56 
	#PCI_HEADER_CARDBUS
 2

	)

58 
	#PCI_HEADER_MASK
 0x7f

	)

59 
	#PCI_HEADER_MULTIFUNC
 0x80

	)

61 
	#pci_g‘_»g_off£t
(
x
è(&(((
pci_cÚfig_h—d”
*)(
NULL
))->x))

	)

63 
	#PCI_VENDOR_INVALID
 0xffff

	)

65 
	#PCI_BASEADDR_IO
 0x00000001

	)

66 
	#PCI_BASEADDR_TYPEMASK
 0x00000006

	)

67 
	#PCI_BASEADDR_32BIT
 0x00000000

	)

68 
	#PCI_BASEADDR_64BIT
 0x00000004

	)

69 
	#PCI_BASEADDR_PREFETCH
 0x00000008

	)

70 
	#PCI_BASEADDR_ADDR32
 0xfffffff0

	)

71 
	#PCI_BASEADDR_ADDR64
 0xfffffffffffffff0

	)

72 
	#PCI_BASEADDR_IOPORT
 0xfffffffc

	)

74 #´agm¨
·ck
(1)

76 
	spci_cÚfig_h—d”


78 
ušt16_t
 
	mpci_v’dÜ_id
;

79 
ušt16_t
 
	mpci_deviû_id
;

81 
ušt16_t
 
	mpci_commªd
;

82 
ušt16_t
 
	mpci_¡©us
;

84 
ušt8_t
 
	mpci_»visiÚ
;

87 
ušt8_t
 
	mpci_š‹rçû
;

88 
ušt8_t
 
	mpci_mšÜ
;

89 
ušt8_t
 
	mpci_majÜ
;

91 
ušt8_t
 
	mpci_ÿch–šesz
;

92 
ušt8_t
 
	mpci_Ï‹ncy
;

93 
ušt8_t
 
	mpci_h—d”
;

94 
ušt8_t
 
	mpci_bi¡
;

96 
ušt32_t
 
	mpci_ba£_»g
[6];

97 
ušt32_t
 
	mpci_cis
;

98 
ušt16_t
 
	mpci_sub_v’dÜ_id
;

99 
ušt16_t
 
	mpci_sub_id
;

100 
ušt32_t
 
	mpci_rom_addr
;

101 
ušt8_t
 
	mpci_ÿ·b™›s
;

102 
ušt8_t
 
	mpci_»sv
[7];

103 
ušt8_t
 
	mpci_št_lše
;

104 
ušt8_t
 
	mpci_št_pš
;

105 
ušt8_t
 
	mpci_mš_gÁ
;

106 
ušt8_t
 
	mpci_max_Ï‹ncy
;

109 #´agm¨
·ck
()

111 
	#PCI_BASE_COUNT
 6

	)

112 
	spci_dev


114 
pci_cÚfig_h—d”
 
	mpch
;

115 
ušt8_t
 
	mbus
, 
	mdev
, 
	mfunc
;

116 
	mba£_»g_size
[
PCI_BASE_COUNT
];

118 
pci_hªdËr_func
 *
	mœq_hªdËr
;

119 *
	mœq_hªdËr_aux
;

121 
li¡
 
	mio_¿nges
;

122 
li¡_–em
 
	m³”
;

123 
li¡_–em
 
	mšt_³”
;

126 
	epci_io_ty³


127 { 
	mPCI_IO_MEM
, 
	mPCI_IO_PORT
 };

130 
	spci_io


132 
pci_dev
 *
	mdev
;

133 
pci_io_ty³
 
	mty³
;

134 
size_t
 
	msize
;

137 *
	m±r
;

138 
	mpÜt
;

139 } 
	maddr
;

140 
li¡_–em
 
	m³”
;

144 
pci_wr™e_cÚfig
 (
bus
, 
dev
, 
func
, 
»g
,

145 
size
, 
ušt32_t
 
d©a
);

146 
ušt32_t
 
pci_»ad_cÚfig
 (
bus
, 
dev
, 
func
, 
»g
,

147 
size
);

148 
pci_»ad_®l_cÚfig
 (
bus
, 
dev
, 
func
,

149 
pci_cÚfig_h—d”
 *
pch
);

150 
pci_sÿn_bus
 (
bus
);

151 
pci_´obe
 (
bus
, 
dev
, 
func
,

152 
pci_cÚfig_h—d”
 *
ph
);

153 
pci_pci_bridge
 (
pci_dev
 *
pd
);

154 
pci_pow”_Ú
 (
pci_dev
 *
pd
);

155 
pci_£tup_io
 (
pci_dev
 *
pd
);

156 
pci_š‹¼u±
 (
šŒ_äame
 *);

157 
pci_´št_dev_šfo
 (
pci_dev
 *
pd
);

158 *
pci_®loc_mem
 (*
phys_±r
, 
·ges
);

160 
li¡
 
	gdeviûs
;

161 
li¡
 
	gšt_deviûs
;

164 
	gnum_pci_·ges
;

167 
	$pci_š™
 ()

169 
	`li¡_š™
 (&
deviûs
);

170 
	`li¡_š™
 (&
št_deviûs
);

172 
num_pci_·ges
 = 0;

174 
	`pci_sÿn_bus
 (0);

175 
	`pci_´št_¡©s
 ();

176 
	}
}

178 
pci_dev
 *

179 
	$pci_g‘_deviû
 (
v’dÜ
, 
deviû
, 
func
, 
n
)

181 
li¡_–em
 *
e
;

182 
couÁ
;

184 
couÁ
 = 0;

185 
e
 = 
	`li¡_begš
 (&
deviûs
);

186 
e
 !ğ
	`li¡_’d
 (&
deviûs
))

188 
pci_dev
 *
pd
;

190 
pd
 = 
	`li¡_’Œy
 (
e
, 
pci_dev
, 
³”
);

191 ià(
pd
->
pch
.
pci_v’dÜ_id
 =ğ
v’dÜ
 &&…d->pch.
pci_deviû_id
 =ğ
deviû
)

192 ià(
pd
->
func
 == func)

194 ià(
couÁ
 =ğ
n
)

195  
pd
;

196 
couÁ
++;

199 
e
 = 
	`li¡_Ãxt
 (e);

202  
NULL
;

203 
	}
}

205 
pci_dev
 *

206 
	$pci_g‘_dev_by_şass
 (
majÜ
, 
mšÜ
, 
içû
, 
n
)

208 
li¡_–em
 *
e
;

209 
couÁ
;

211 
couÁ
 = 0;

212 
e
 = 
	`li¡_begš
 (&
deviûs
);

213 
e
 !ğ
	`li¡_’d
 (&
deviûs
))

215 
pci_dev
 *
pd
;

217 
pd
 = 
	`li¡_’Œy
 (
e
, 
pci_dev
, 
³”
);

218 ià(
pd
->
pch
.
pci_majÜ
 =ğ
majÜ
 &&…d->pch.
pci_mšÜ
 =ğ
mšÜ
 &&

219 
pd
->
pch
.
pci_š‹rçû
 =ğ
içû
)

221 ià(
couÁ
 =ğ
n
)

222  
pd
;

223 
couÁ
++;

226 
e
 = 
	`li¡_Ãxt
 (e);

229  
NULL
;

231 
	}
}

233 
pci_io
 *

234 
	$pci_io_’um
 (
pci_dev
 *
pio
, 
pci_io
 *
Ï¡
)

236 
li¡_–em
 *
e
;

238 ià(
Ï¡
 !ğ
NULL
)

239 
e
 = 
	`li¡_Ãxt
 (&
Ï¡
->
³”
);

241 
e
 = 
	`li¡_begš
 (&
pio
->
io_¿nges
);

243 ià(
e
 =ğ
	`li¡_’d
 (&
pio
->
io_¿nges
))

244  
NULL
;

246  
	`li¡_’Œy
 (
e
, 
pci_io
, 
³”
);

247 
	}
}

250 
	$pci_»gi¡”_œq
 (
pci_dev
 *
pd
, 
pci_hªdËr_func
 * 
f
, *
aux
)

252 
št_vec
;

253 
	`ASSERT
 (
pd
 !ğ
NULL
);

254 
	`ASSERT
 (
pd
->
œq_hªdËr
 =ğ
NULL
);

256 
pd
->
œq_hªdËr_aux
 = 
aux
;

257 
pd
->
œq_hªdËr
 = 
f
;

258 
št_vec
 = 
pd
->
pch
.
pci_št_lše
 + 0x20;

260 
	`li¡_push_back
 (&
št_deviûs
, &
pd
->
št_³”
);

263 ià(!
	`šŒ_is_»gi¡”ed
 (
št_vec
))

264 
	`šŒ_»gi¡”_ext
 (
št_vec
, 
pci_š‹¼u±
, "PCI");

265 
	}
}

268 
	$pci_uÄegi¡”_œq
 (
pci_dev
 *
pd
)

270 
	`ASSERT
 (
pd
 !ğ
NULL
);

272 
	`šŒ_di§bË
 ();

273 
	`li¡_»move
 (&
pd
->
št_³”
);

274 
	`šŒ_’abË
 ();

276 
pd
->
œq_hªdËr
 = 
NULL
;

277 
pd
->
œq_hªdËr_aux
 = 
NULL
;

278 
	}
}

280 
size_t


281 
	$pci_io_size
 (
pci_io
 *
pio
)

283 
	`ASSERT
 (
pio
 !ğ
NULL
);

285  
pio
->
size
;

286 
	}
}

289 
	$pci_»g_wr™e32
 (
pci_io
 *
pio
, 
»g
, 
ušt32_t
 
d©a
)

291 
	`ASSERT
 (
pio
 !ğ
NULL
);

292 
	`ASSERT
 ((è
»g
 < 
pio
->
size
);

294 ià(
pio
->
ty³
 =ğ
PCI_IO_MEM
)

296 *((
ušt32_t
 *è(
pio
->
addr
.
±r
 + 
»g
)èğ
d©a
;

298 ià(
pio
->
ty³
 =ğ
PCI_IO_PORT
)

300 
	`ou
 (
pio
->
addr
.
pÜt
 + 
»g
, 
d©a
);

303 
	`PANIC
 ("pci: Invalid IOype\n");

304 
	}
}

307 
	$pci_»g_wr™e16
 (
pci_io
 *
pio
, 
»g
, 
ušt16_t
 
d©a
)

309 
	`ASSERT
 (
pio
 !ğ
NULL
);

310 
	`ASSERT
 ((è
»g
 < 
pio
->
size
);

312 ià(
pio
->
ty³
 =ğ
PCI_IO_MEM
)

314 *((
ušt16_t
 *è(
pio
->
addr
.
±r
 + 
»g
)èğ
d©a
;

316 ià(
pio
->
ty³
 =ğ
PCI_IO_PORT
)

318 
	`outw
 (
pio
->
addr
.
pÜt
 + 
»g
, 
d©a
);

321 
	`PANIC
 ("pci: Invalid IOype\n");

322 
	}
}

325 
	$pci_»g_wr™e8
 (
pci_io
 *
pio
, 
»g
, 
ušt8_t
 
d©a
)

327 
	`ASSERT
 (
pio
 !ğ
NULL
);

328 
	`ASSERT
 ((è
»g
 < 
pio
->
size
);

330 ià(
pio
->
ty³
 =ğ
PCI_IO_MEM
)

332 *((
ušt8_t
 *è(
pio
->
addr
.
±r
 + 
»g
)èğ
d©a
;

334 ià(
pio
->
ty³
 =ğ
PCI_IO_PORT
)

336 
	`outb
 (
pio
->
addr
.
pÜt
 + 
»g
, 
d©a
);

339 
	`PANIC
 ("pci: Invalid IOype\n");

340 
	}
}

342 
ušt32_t


343 
	$pci_»g_»ad32
 (
pci_io
 *
pio
, 
»g
)

345 
ušt32_t
 
»t
;

347 
	`ASSERT
 (
pio
 !ğ
NULL
);

348 
	`ASSERT
 ((è
»g
 < 
pio
->
size
);

350 ià(
pio
->
ty³
 =ğ
PCI_IO_MEM
)

352 
»t
 = *((
ušt32_t
 *è(
pio
->
addr
.
±r
 + 
»g
));

354 ià(
pio
->
ty³
 =ğ
PCI_IO_PORT
)

356 
»t
 = 
	`šl
 (
pio
->
addr
.
pÜt
 + 
»g
);

359 
	`PANIC
 ("pci: Invalid IOype\n");

361  
»t
;

362 
	}
}

364 
ušt16_t


365 
	$pci_»g_»ad16
 (
pci_io
 * 
pio
, 
»g
)

367 
ušt16_t
 
»t
;

369 
	`ASSERT
 (
pio
 !ğ
NULL
);

370 
	`ASSERT
 ((è
»g
 < 
pio
->
size
);

372 
»t
 = 0;

373 ià(
pio
->
ty³
 =ğ
PCI_IO_MEM
)

375 
»t
 = *((
ušt16_t
 *è(
pio
->
addr
.
±r
 + 
»g
));

377 ià(
pio
->
ty³
 =ğ
PCI_IO_PORT
)

379 
»t
 = 
	`šw
 (
pio
->
addr
.
pÜt
 + 
»g
);

382 
	`PANIC
 ("pci: Invalid IOype\n");

384  
»t
;

386 
	}
}

388 
ušt8_t


389 
	$pci_»g_»ad8
 (
pci_io
 * 
pio
, 
»g
)

391 
ušt8_t
 
»t
;

393 
	`ASSERT
 (
pio
 !ğ
NULL
);

394 
	`ASSERT
 ((è
»g
 < 
pio
->
size
);

396 ià(
pio
->
ty³
 =ğ
PCI_IO_MEM
)

398 
»t
 = *((
ušt8_t
 *è(
pio
->
addr
.
±r
 + 
»g
));

400 ià(
pio
->
ty³
 =ğ
PCI_IO_PORT
)

402 
»t
 = 
	`šb
 (
pio
->
addr
.
pÜt
 + 
»g
);

405 
	`PANIC
 ("pci: Invalid IOype\n");

407  
»t
;

408 
	}
}

411 
	$pci_»ad_š
 (
pci_io
 *
pio
 
UNUSED
, 
off
 UNUSED, 
size_t
 
size
 UNUSED,

412 *
buf
 
UNUSED
)

414 
	`PANIC
 ("pci_read_in: STUB");

415 
	}
}

418 
	$pci_wr™e_out
 (
pci_io
 *
pio
 
UNUSED
, 
off
 UNUSED, 
size_t
 
size
 UNUSED,

419 cÚ¡ *
buf
 
UNUSED
)

421 
	`PANIC
 ("pci_write_out: STUB");

422 
	}
}

425 
	$pci_wr™e_cÚfig
 (
bus
, 
dev
, 
func
, 
»g
,

426 
size
, 
ušt32_t
 
d©a
)

428 
cÚfig_off£t
;

430 
cÚfig_off£t
 = 
	`pci_cÚfig_off£t
 (
bus
, 
dev
, 
func
, 
»g
);

432 
	`ou
 (
PCI_REG_ADDR
, 
cÚfig_off£t
);

434 
size
)

437 
	`outb
 (
PCI_REG_DATA
 + (
»g
 & 3), 
d©a
);

441 
	`outw
 (
PCI_REG_DATA
 + (
»g
 & 3), 
d©a
);

445 
	`ou
 (
PCI_REG_DATA
, 
d©a
);

448 
	}
}

450 
ušt32_t


451 
	$pci_»ad_cÚfig
 (
bus
, 
dev
, 
func
, 
»g
, 
size
)

453 
ušt32_t
 
»t
;

454 
cÚfig_off£t
;

456 
cÚfig_off£t
 = 
	`pci_cÚfig_off£t
 (
bus
, 
dev
, 
func
, 
»g
);

458 
	`ou
 (
PCI_REG_ADDR
, 
cÚfig_off£t
);

460 
size
)

463 
»t
 = 
	`šb
 (
PCI_REG_DATA
);

466 
»t
 = 
	`šw
 (
PCI_REG_DATA
);

469 
»t
 = 
	`šl
 (
PCI_REG_DATA
);

472 
	`PANIC
 ("pci: Strange config„ead size\n");

475  
»t
;

476 
	}
}

480 
	$pci_»ad_®l_cÚfig
 (
bus
, 
dev
, 
func
,

481 
pci_cÚfig_h—d”
 *
pch
)

483 
i
;

484 
i
 = 0; i < (( (
pci_cÚfig_h—d”
) + 3) & ~3) / 4; i++)

486 ((
ušt32_t
 *è
pch
)[
i
] = 
	`pci_»ad_cÚfig
 (
bus
, 
dev
, 
func
, i * 4, 4);

488 
	}
}

493 
	$pci_sÿn_bus
 (
bus
)

495 
dev
;

496 
max_bus
;

498 
max_bus
 = 0;

500 
dev
 = 0; dev < 
PCI_MAX_DEV_PER_BUS
; dev++)

502 
pci_cÚfig_h—d”
 
pch
;

503 
func_út
, 
func
;

505 
	`pci_»ad_®l_cÚfig
 (
bus
, 
dev
, 0, &
pch
);

507 ià(
pch
.
pci_v’dÜ_id
 =ğ
PCI_VENDOR_INVALID
)

510 
func_út
 = 8;

511 ià(!(
pch
.
pci_h—d”
 & 
PCI_HEADER_MULTIFUNC
))

513 
func_út
 = 1;

516 
func
 = 0; funø< 
func_út
; func++)

518 
»tbus
;

519 
»tbus
 = 
	`pci_´obe
 (
bus
, 
dev
, 
func
, &
pch
);

520 ià(
»tbus
 > 
max_bus
)

521 
max_bus
 = 
»tbus
;

525  
max_bus
;

526 
	}
}

533 
	$pci_´obe
 (
bus
, 
dev
, 
func
, 
pci_cÚfig_h—d”
 *
ph
)

535 
pci_dev
 *
pd
;

537 ià(
func
 != 0)

539 
	`pci_»ad_®l_cÚfig
 (
bus
, 
dev
, 
func
, 
ph
);

540 ià(
ph
->
pci_v’dÜ_id
 =ğ
PCI_VENDOR_INVALID
)

541  
bus
;

544 
pd
 = 
	`m®loc
 ( (
pci_dev
));

545 
	`memıy
 (&
pd
->
pch
, 
ph
,  (
pci_cÚfig_h—d”
));

546 
pd
->
œq_hªdËr
 = 
NULL
;

547 
pd
->
œq_hªdËr_aux
 = 
NULL
;

548 
pd
->
bus
 = bus;

549 
pd
->
dev
 = dev;

550 
pd
->
func
 = func;

552 
	`li¡_š™
 (&
pd
->
io_¿nges
);

553 
	`li¡_push_back
 (&
deviûs
, &
pd
->
³”
);

556 ià(
ph
->
pci_majÜ
 =ğ
PCI_MAJOR_BRIDGE
)

558 ià(
ph
->
pci_mšÜ
 =ğ
PCI_MINOR_PCI
)

559  
	`pci_pci_bridge
 (
pd
);

562 
	`pci_£tup_io
 (
pd
);

563 
	`pci_pow”_Ú
 (
pd
);

565  
bus
;

566 
	}
}

569 
	$pci_£tup_io
 (
pci_dev
 *
pd
)

571 
i
;

572 
i
 = 0; i < 
PCI_BASE_COUNT
; i++)

574 
ušt32_t
 
tmp
;

575 
pci_io
 *
pio
;

577 ià(
pd
->
pch
.
pci_ba£_»g
[
i
] == 0)

583 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
,

584 
	`off£tof
 (
pci_cÚfig_h—d”
, 
pci_ba£_»g
[
i
]),

587 
tmp
 =

588 
	`pci_»ad_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
,

589 
	`off£tof
 (
pci_cÚfig_h—d”
, 
pci_ba£_»g
[
i
]),

593 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
,

594 
	`off£tof
 (
pci_cÚfig_h—d”
, 
pci_ba£_»g
[
i
]),

595 4, 
pd
->
pch
.
pci_ba£_»g
[
i
]);

597 
pio
 = 
	`m®loc
 ( (
pci_io
));

598 
pio
->
dev
 = 
pd
;

600 ià(
tmp
 & 
PCI_BASEADDR_IO
)

602 
pio
->
ty³
 = 
PCI_IO_PORT
;

603 
pio
->
size
 = (
ušt16_t
è((~
tmp
 + 1) & 0xffff) + 1;

604 
pio
->
addr
.
pÜt
 = 
pd
->
pch
.
pci_ba£_»g
[
i
] & ~1;

608 
ušt32_t
 
ofs
;

610 
pio
->
ty³
 = 
PCI_IO_MEM
;

611 
pio
->
size
 = 
	`ROUND_UP
 ((~
tmp
 + 1), 
PGSIZE
);

612 
ofs
 = (
pd
->
pch
.
pci_ba£_»g
[
i
] & 0xfffffff0 & 
PGMASK
);

613 
pio
->
addr
.
±r
 = 
	`pci_®loc_mem
 ((*è
pd
->
pch
.
pci_ba£_»g
[
i
],

614 
pio
->
size
 / 
PGSIZE
);

615 ià(
pio
->
addr
.
±r
 =ğ
NULL
)

617 
	`´štf
 ("PCI: %d…ages for %d:%d.%d failed - may‚ot work\n",

618 
pio
->
size
 / 
PGSIZE
, 
pd
->
bus
,…d->
dev
,…d->
func
);

619 
	`ä“
 (
pio
);

620 
pio
 = 
NULL
;

624 
pio
->
addr
.
±r
 = (*è((
ušŒ_t
èpio->addr.±¸+ 
ofs
);

629 ià(
pio
 !ğ
NULL
)

630 
	`li¡_push_back
 (&
pd
->
io_¿nges
, &
pio
->
³”
);

633 
	}
}

636 
	$pci_pow”_Ú
 (
pci_dev
 *
pd
 
UNUSED
)

639 
	}
}

642 
	$pci_pci_bridge
 (
pci_dev
 *
pd
)

644 
max_bus
;

645 
ušt16_t
 
commªd
;

648 
commªd
 = 
pd
->
pch
.
pci_commªd
;

649 
commªd
 &= ~0x3;

650 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
,

651 
	`off£tof
 (
pci_cÚfig_h—d”
, 
pci_commªd
),

652 2, 
commªd
);

653 
pd
->
pch
.
pci_commªd
 = 
commªd
;

656 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 0x18, 1,…d->bus);

658 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 0x19, 1,…d->bus + 1);

661 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 0x1a, 1, 0xff);

664 
max_bus
 = 
	`pci_sÿn_bus
 (
pd
->
bus
 + 1);

667 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 0x1a, 1, 
max_bus
);

670 
commªd
 |= 0x03;

671 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
,

672 
	`off£tof
 (
pci_cÚfig_h—d”
, 
pci_commªd
),

673 2, 
commªd
);

674 
pd
->
pch
.
pci_commªd
 = 
commªd
;

676  
max_bus
;

677 
	}
}

681 
	$pci_š‹¼u±
 (
šŒ_äame
 *
äame
)

683 
li¡_–em
 *
e
;

684 
št_lše
;

686 
št_lše
 = 
äame
->
vec_no
 - 0x20;

687 
e
 = 
	`li¡_begš
 (&
št_deviûs
);

688 
e
 !ğ
	`li¡_’d
 (&
št_deviûs
))

690 
pci_dev
 *
pd
;

692 
pd
 = 
	`li¡_’Œy
 (
e
, 
pci_dev
, 
št_³”
);

693 ià(
pd
->
pch
.
pci_št_lše
 =ğ
št_lše
)

694 
pd
->
	`œq_hªdËr
 (pd->
œq_hªdËr_aux
);

695 
e
 = 
	`li¡_Ãxt
 (e);

697 
	}
}

701 
	$pci_´št_¡©s
 ()

703 
li¡_–em
 *
e
;

705 
e
 = 
	`li¡_begš
 (&
deviûs
);

706 
e
 !ğ
	`li¡_’d
 (&
deviûs
))

708 
pci_dev
 *
pd
;

710 
pd
 = 
	`li¡_’Œy
 (
e
, 
pci_dev
, 
³”
);

711 
	`pci_´št_dev_šfo
 (
pd
);

713 
e
 = 
	`li¡_Ãxt
 (e);

715 
	}
}

718 
	$pci_´št_dev_šfo
 (
pci_dev
 *
pd
)

720 
	`´štf
 ("PCI Device %d:%d.%d (%x,%x): %s - %s (%s) IRQ %d\n",

721 
pd
->
bus
,…d->
dev
,…d->
func
,

722 
pd
->
pch
.
pci_v’dÜ_id
,

723 
pd
->
pch
.
pci_deviû_id
,

724 
	`pci_lookup_v’dÜ
 (
pd
->
pch
.
pci_v’dÜ_id
),

725 
	`pci_lookup_deviû
 (
pd
->
pch
.
pci_v’dÜ_id
,…d->pch.
pci_deviû_id
),

726 
	`pci_lookup_şass
 (
pd
->
pch
.
pci_majÜ
,…d->pch.
pci_mšÜ
,

727 
pd
->
pch
.
pci_š‹rçû
),…d->pch.
pci_št_lše
);

728 
	}
}

731 
	$pci_mask_œq
 (
pci_dev
 *
pd
)

733 
	`šŒ_œq_mask
 (
pd
->
pch
.
pci_št_lše
);

734 
	}
}

737 
	$pci_unmask_œq
 (
pci_dev
 *
pd
)

739 
	`šŒ_œq_unmask
 (
pd
->
pch
.
pci_št_lše
);

740 
	}
}

743 
	$pci_wr™e_cÚfig16
 (
pci_dev
 *
pd
, 
off
, 
ušt16_t
 
d©a
)

745 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 
off
, 2, 
d©a
);

746 
	}
}

749 
	$pci_wr™e_cÚfig32
 (
pci_dev
 *
pd
, 
off
, 
ušt32_t
 
d©a
)

751 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 
off
, 4, 
d©a
);

752 
	}
}

755 
	$pci_wr™e_cÚfig8
 (
pci_dev
 *
pd
, 
off
, 
ušt8_t
 
d©a
)

757 
	`pci_wr™e_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 
off
, 1, 
d©a
);

758 
	}
}

760 
ušt8_t


761 
	$pci_»ad_cÚfig8
 (
pci_dev
 *
pd
, 
off
)

763  
	`pci_»ad_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 
off
, 1);

764 
	}
}

766 
ušt16_t


767 
	$pci_»ad_cÚfig16
 (
pci_dev
 * 
pd
, 
off
)

769  
	`pci_»ad_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 
off
, 2);

770 
	}
}

772 
ušt32_t


773 
	$pci_»ad_cÚfig32
 (
pci_dev
 * 
pd
, 
off
)

775  
	`pci_»ad_cÚfig
 (
pd
->
bus
,…d->
dev
,…d->
func
, 
off
, 4);

776 
	}
}

781 
	$pci_®loc_mem
 (*
phys_±r
, 
·ges
)

783 *
vaddr
;

784 
i
;

786 
phys_±r
 = (*è((
ušŒ_t
èphys_±¸& ~
PGMASK
);

789 ià((è(
num_pci_·ges
 + 
·ges
è>ğ(è
PCI_ADDR_ZONE_PAGES
)

791  
NULL
;

795 
i
 = 0; i < 
·ges
; i++)

797 
ušt32_t
 
±e_idx
 = (
num_pci_·ges
 + 
i
) % 1024;

798 
ušt32_t
 
pde_idx
 = (
num_pci_·ges
 + 
i
) / 1024;

799 
ušt32_t
 *
±
;

800 
ušt32_t
 
±e
;

802 
pde_idx
 +ğ
	`pd_no
 ((*è
PCI_ADDR_ZONE_BEGIN
);

803 
±e
 = ((
ušt32_t
è
phys_±r
 + (
i
 * 
PGSIZE
)è| 
PTE_P
 | 
PTE_W
 | 
PTE_CD
;

804 
±
 = (
ušt32_t
 *è(
	`±ov
 (
ba£_·ge_dœ
[
pde_idx
] & ~
PGMASK
));

805 
±
[
±e_idx
] = 
±e
;

808 
vaddr
 = (*è(
PCI_ADDR_ZONE_BEGIN
 + (
num_pci_·ges
 * 
PGSIZE
));

809 
num_pci_·ges
 +ğ
·ges
;

811  
vaddr
;

812 
	}
}

	@devices/pci.h

1 #iâdeà
DEVICES_PCI_H


3 
	#DEVICES_PCI_H


	)

5 
	~<¡dšt.h
>

6 
	~<¡ddef.h
>

11 
	#PCI_MAJOR_EARLY
 0

	)

12 
	#PCI_MINOR_VGA
 1

	)

14 
	#PCI_MAJOR_MASS_STORAGE
 1

	)

15 
	#PCI_MINOR_SCSI
 0

	)

16 
	#PCI_MINOR_IDE
 1

	)

17 
	#PCI_MINOR_FLOPPY
 2

	)

18 
	#PCI_MINOR_IPI
 3

	)

19 
	#PCI_MINOR_RAID
 4

	)

20 
	#PCI_MINOR_MS_OTHER
 0x80

	)

22 
	#PCI_MAJOR_NETWORK
 2

	)

23 
	#PCI_MINOR_ETHERNET
 0

	)

24 
	#PCI_MINOR_TOKENRING
 1

	)

25 
	#PCI_MINOR_FDDI
 2

	)

26 
	#PCI_MINOR_ATM
 3

	)

27 
	#PCI_MINOR_ISDN
 4

	)

28 
	#PCI_MINOR_NET_OTHER
 0x80

	)

30 
	#PCI_MAJOR_DISPLAY
 3

	)

31 
	#PCI_MAJOR_MULTIMEDIA
 4

	)

32 
	#PCI_MAJOR_MEMORY
 5

	)

34 
	#PCI_MAJOR_BRIDGE
 6

	)

35 
	#PCI_MINOR_HOST
 0

	)

36 
	#PCI_MINOR_ISA
 1

	)

37 
	#PCI_MINOR_EISA
 2

	)

38 
	#PCI_MINOR_MCA
 3

	)

39 
	#PCI_MINOR_PCI
 4

	)

40 
	#PCI_MINOR_PCMCIA
 5

	)

41 
	#PCI_MINOR_NUBUS
 6

	)

42 
	#PCI_MINOR_CARDBUS
 7

	)

43 
	#PCI_MINOR_RACEWAY
 8

	)

45 
	#PCI_MAJOR_SIMPLE_COMM
 7

	)

47 
	#PCI_MAJOR_BASE_PERIPHERAL
 8

	)

48 
	#PCI_MINOR_PIC
 0

	)

49 
	#PCI_MINOR_DMA
 1

	)

50 
	#PCI_MINOR_TIMER
 2

	)

51 
	#PCI_MINOR_RTC
 3

	)

52 
	#PCI_MINOR_HOTPLUG
 4

	)

55 
	#PCI_MAJOR_INPUT
 9

	)

56 
	#PCI_MAJOR_DOCK
 10

	)

57 
	#PCI_MAJOR_PROCESSOR
 11

	)

58 
	#PCI_MINOR_386
 0

	)

59 
	#PCI_MINOR_486
 1

	)

60 
	#PCI_MINOR_PENTIUM
 2

	)

61 
	#PCI_MINOR_ALPHA
 0x10

	)

62 
	#PCI_MINOR_PPC
 0x20

	)

63 
	#PCI_MINOR_MIPS
 0x30

	)

64 
	#PCI_MINOR_COPROC
 0x40

	)

66 
	#PCI_MAJOR_SERIALBUS
 12

	)

67 
	#PCI_MINOR_FIREWIRE
 0

	)

68 
	#PCI_MINOR_ACCESS
 1

	)

69 
	#PCI_MINOR_SSA
 2

	)

70 
	#PCI_MINOR_USB
 3

	)

71 
	#PCI_USB_IFACE_UHCI
 0

	)

72 
	#PCI_USB_IFACE_OHCI
 0x10

	)

73 
	#PCI_USB_IFACE_EHCI
 0x20

	)

74 
	#PCI_MINOR_FIBRE
 4

	)

75 
	#PCI_MAJOR_UNDEF
 0xff

	)

77 
	tpci_hªdËr_func
 (*
	tAUX
);

80 
	gpci_io
;

83 
	gpci_dev
;

85 
pci_š™
 ();

86 
pci_dev
 *
pci_g‘_deviû
 (
v’dÜ
, 
deviû
, 
func
, 
n
);

87 
pci_dev
 *
pci_g‘_dev_by_şass
 (
majÜ
, 
mšÜ
, 
içû
, 
n
);

88 
pci_io
 *
pci_io_’um
 (
pci_dev
 *, pci_iØ*
Ï¡
);

89 
pci_»gi¡”_œq
 (
pci_dev
 *, 
pci_hªdËr_func
 *, *
AUX
);

90 
pci_uÄegi¡”_œq
 (
pci_dev
 *);

91 
size_t
 
pci_io_size
 (
pci_io
 *);

93 
pci_wr™e_cÚfig8
 (
pci_dev
 *, 
»g
, 
ušt8_t
);

94 
pci_wr™e_cÚfig16
 (
pci_dev
 *, 
»g
, 
ušt16_t
);

95 
pci_wr™e_cÚfig32
 (
pci_dev
 *, 
»g
, 
ušt32_t
);

96 
ušt8_t
 
pci_»ad_cÚfig8
 (
pci_dev
 *, 
»g
);

97 
ušt16_t
 
pci_»ad_cÚfig16
 (
pci_dev
 *, 
»g
);

98 
ušt32_t
 
pci_»ad_cÚfig32
 (
pci_dev
 *, 
»g
);

100 
pci_»g_wr™e32
 (
pci_io
 *, 
»g
, 
ušt32_t
);

101 
pci_»g_wr™e16
 (
pci_io
 *, 
»g
, 
ušt16_t
);

102 
pci_»g_wr™e8
 (
pci_io
 *, 
»g
, 
ušt8_t
);

103 
ušt32_t
 
pci_»g_»ad32
 (
pci_io
 *, 
»g
);

104 
ušt16_t
 
pci_»g_»ad16
 (
pci_io
 *, 
»g
);

105 
ušt8_t
 
pci_»g_»ad8
 (
pci_io
 *, 
»g
);

107 
pci_»ad_š
 (
pci_io
 *, 
off
, 
size_t
 
sz
, *
buf
);

108 
pci_wr™e_out
 (
pci_io
 *, 
off
, 
size_t
 
sz
, cÚ¡ *
buf
);

109 
pci_´št_¡©s
 ();

110 
pci_mask_œq
 (
pci_dev
 *);

111 
pci_unmask_œq
 (
pci_dev
 *);

	@devices/pci_lookup.h

1 #iâdeà
PCILOOKUP_H


3 
	#PCILOOKUP_H


	)

5 #ifdeà
PCI_TRANSLATION_ENABLE


7 
	spci_v’dÜ


9 
ušt16_t
 
	mv’dÜ_id
;

10 *
	mv’dÜ
;

13 
pci_v’dÜ
 
	gpci_v’dÜ_bË
[] = {

21 
	spci_deviû


23 
ušt16_t
 
	mv’dÜ_id
;

24 
ušt16_t
 
	mdeviû_id
;

25 *
	mdeviû
;

28 
pci_deviû
 
	gpci_deviû_bË
[] = {

40 
	#PCI_DEVICE_TABLE_SZ
 ( (
pci_deviû_bË
è/  (
pci_deviû
 ))

	)

41 
	#PCI_VENDOR_TABLE_SZ
 ( (
pci_v’dÜ_bË
è/  (
pci_v’dÜ
))

	)

45 cÚ¡ *
pci_lookup_v’dÜ
 (
ušt16_t
 
v’dÜ
);

46 cÚ¡ *
pci_lookup_deviû
 (
ušt16_t
 
v’dÜ
, ušt16_ˆ
deviû
);

49 
	$pci_lookup_v’dÜ
 (
ušt16_t
 
v’dÜ
)

51 
i
;

52 
i
 = 0; i < 
PCI_VENDOR_TABLE_SZ
; i++)

54 ià(
pci_v’dÜ_bË
[
i
].
v’dÜ_id
 > 
v’dÜ
)

56 ià(
pci_v’dÜ_bË
[
i
].
v’dÜ_id
 =ğ
v’dÜ
)

57  
pci_v’dÜ_bË
[
i
].
v’dÜ
;

61 
	}
}

64 
	$pci_lookup_deviû
 (
ušt16_t
 
v’dÜ
, ušt16_ˆ
deviû
)

66 
i
;

67 
i
 = 0; i < 
PCI_DEVICE_TABLE_SZ
; i++)

69 ià(
pci_deviû_bË
[
i
].
v’dÜ_id
 > 
v’dÜ
)

71 ià(
pci_deviû_bË
[
i
].
v’dÜ_id
 =ğ
v’dÜ
 &&

72 
pci_deviû_bË
[
i
].
deviû_id
 =ğ
deviû
)

73  
pci_deviû_bË
[
i
].
deviû
;

77 
	}
}

81 
	#pci_lookup_v’dÜ
(
x
è"UnknowÀV’dÜ"

	)

82 
	#pci_lookup_deviû
(
x
,
y
è"UnknowÀDeviû"

	)

86 
	spci_şass


88 
ušt8_t
 
	mmajÜ
;

89 
ušt8_t
 
	mmšÜ
;

90 
ušt8_t
 
	miçû
;

91 *
	mÇme
;

94 
pci_şass
 
	gpci_şass_bË
[] = {

116 
	#PCI_CLASS_TABLE_SZ
 ((
pci_şass_bË
è/ (
pci_şass
))

	)

118 cÚ¡ *
pci_lookup_şass
 (
ušt8_t
 
majÜ
, ušt8_ˆ
mšÜ
, ušt8_ˆ
içû
);

120 
	$pci_lookup_şass
 (
ušt8_t
 
majÜ
, ušt8_ˆ
mšÜ
, ušt8_ˆ
içû
)

122 
i
;

123 
i
 = 0; i < 
PCI_CLASS_TABLE_SZ
; i++)

125 ià(
pci_şass_bË
[
i
].
majÜ
 > major)

127 ià(
pci_şass_bË
[
i
].
majÜ
 != major)

129 ià(
pci_şass_bË
[
i
].
mšÜ
 != minor)

131 ià(
pci_şass_bË
[
i
].
içû
 != iface)

133  
pci_şass_bË
[
i
].
Çme
;

137 
	}
}

	@devices/pit.c

1 
	~"deviûs/p™.h
"

3 
	~<debug.h
>

4 
	~<¡dšt.h
>

5 
	~"th»ads/š‹¼u±.h
"

6 
	~"th»ads/io.h
"

12 
	#PIT_PORT_CONTROL
 0x43

	)

13 
	#PIT_PORT_COUNTER
(
CHANNEL
è(0x40 + (CHANNEL)è

	)

16 
	#PIT_HZ
 1193180

	)

47 
	$p™_cÚfigu»_chªÃl
 (
chªÃl
, 
mode
, 
äequ’cy
)

49 
ušt16_t
 
couÁ
;

50 
šŒ_Ëv–
 
Şd_Ëv–
;

52 
	`ASSERT
 (
chªÃl
 == 0 || channel == 2);

53 
	`ASSERT
 (
mode
 == 2 || mode == 3);

58 ià(
äequ’cy
 < 19)

64 
couÁ
 = 0;

66 ià(
äequ’cy
 > 
PIT_HZ
)

73 
couÁ
 = 2;

76 
couÁ
 = (
PIT_HZ
 + 
äequ’cy
 / 2) / frequency;

79 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

80 
	`outb
 (
PIT_PORT_CONTROL
, (
chªÃl
 << 6è| 0x30 | (
mode
 << 1));

81 
	`outb
 (
	`PIT_PORT_COUNTER
 (
chªÃl
), 
couÁ
);

82 
	`outb
 (
	`PIT_PORT_COUNTER
 (
chªÃl
), 
couÁ
 >> 8);

83 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

84 
	}
}

	@devices/pit.h

1 #iâdeà
DEVICES_PIT_H


3 
	#DEVICES_PIT_H


	)

5 
	~<¡dšt.h
>

7 
p™_cÚfigu»_chªÃl
 (
chªÃl
, 
mode
, 
äequ’cy
);

	@devices/rtc.c

1 
	~"deviûs/¹c.h
"

3 
	~<¡dio.h
>

4 
	~"th»ads/io.h
"

11 
	#CMOS_REG_SET
 0x70

	)

12 
	#CMOS_REG_IO
 0x71

	)

17 
	#RTC_REG_SEC
 0

	)

18 
	#RTC_REG_MIN
 2

	)

19 
	#RTC_REG_HOUR
 4

	)

20 
	#RTC_REG_MDAY
 7

	)

21 
	#RTC_REG_MON
 8

	)

22 
	#RTC_REG_YEAR
 9

	)

25 
	#RTC_REG_A
 0x0¨

	)

26 
	#RTC_REG_B
 0x0b

	)

27 
	#RTC_REG_C
 0x0ø

	)

28 
	#RTC_REG_D
 0x0d

	)

31 
	#RTCSA_UIP
 0x80

	)

34 
	#RTCSB_SET
 0x80

	)

35 
	#RTCSB_DM
 0x04

	)

36 
	#RTCSB_24HR
 0x02

	)

38 
bcd_to_bš
 (
ušt8_t
);

39 
ušt8_t
 
cmos_»ad
 (ušt8_ˆ
šdex
);

43 
time_t


44 
	$¹c_g‘_time
 ()

46 cÚ¡ 
days_³r_mÚth
[12] =

50 
£c
, 
mš
, 
hour
, 
mday
, 
mÚ
, 
y—r
;

51 
time_t
 
time
;

52 
i
;

68 
£c
 = 
	`bcd_to_bš
 (
	`cmos_»ad
 (
RTC_REG_SEC
));

69 
mš
 = 
	`bcd_to_bš
 (
	`cmos_»ad
 (
RTC_REG_MIN
));

70 
hour
 = 
	`bcd_to_bš
 (
	`cmos_»ad
 (
RTC_REG_HOUR
));

71 
mday
 = 
	`bcd_to_bš
 (
	`cmos_»ad
 (
RTC_REG_MDAY
));

72 
mÚ
 = 
	`bcd_to_bš
 (
	`cmos_»ad
 (
RTC_REG_MON
));

73 
y—r
 = 
	`bcd_to_bš
 (
	`cmos_»ad
 (
RTC_REG_YEAR
));

75 
£c
 !ğ
	`bcd_to_bš
 (
	`cmos_»ad
 (
RTC_REG_SEC
)));

81 ià(
y—r
 < 70)

82 
y—r
 += 100;

83 
y—r
 -= 70;

86 
time
 = (
y—r
 * 365 + (year - 1) / 4) * 24 * 60 * 60;

87 
i
 = 1; i <ğ
mÚ
; i++)

88 
time
 +ğ
days_³r_mÚth
[
i
 - 1] * 24 * 60 * 60;

89 ià(
mÚ
 > 2 && 
y—r
 % 4 == 0)

90 
time
 += 24 * 60 * 60;

91 
time
 +ğ(
mday
 - 1) * 24 * 60 * 60;

92 
time
 +ğ
hour
 * 60 * 60;

93 
time
 +ğ
mš
 * 60;

94 
time
 +ğ
£c
;

96  
time
;

97 
	}
}

101 
	$bcd_to_bš
 (
ušt8_t
 
x
)

103  (
x
 & 0x0f) + ((x >> 4) * 10);

104 
	}
}

108 
ušt8_t


109 
	$cmos_»ad
 (
ušt8_t
 
šdex
)

111 
	`outb
 (
CMOS_REG_SET
, 
šdex
);

112  
	`šb
 (
CMOS_REG_IO
);

113 
	}
}

	@devices/rtc.h

1 #iâdeà
RTC_H


3 
	#RTC_H


	)

5 
	ttime_t
;

7 
time_t
 
¹c_g‘_time
 ();

	@devices/serial.c

1 
	~"deviûs/£rŸl.h
"

3 
	~<debug.h
>

4 
	~"deviûs/šput.h
"

5 
	~"deviûs/štq.h
"

6 
	~"deviûs/tim”.h
"

7 
	~"th»ads/io.h
"

8 
	~"th»ads/š‹¼u±.h
"

9 
	~"th»ads/synch.h
"

10 
	~"th»ads/th»ad.h
"

19 
	#IO_BASE
 0x3f8

	)

22 
	#RBR_REG
 (
IO_BASE
 + 0è

	)

23 
	#THR_REG
 (
IO_BASE
 + 0è

	)

24 
	#IER_REG
 (
IO_BASE
 + 1è

	)

27 
	#LS_REG
 (
IO_BASE
 + 0è

	)

28 
	#MS_REG
 (
IO_BASE
 + 1è

	)

31 
	#IIR_REG
 (
IO_BASE
 + 2è

	)

32 
	#FCR_REG
 (
IO_BASE
 + 2è

	)

33 
	#LCR_REG
 (
IO_BASE
 + 3è

	)

34 
	#MCR_REG
 (
IO_BASE
 + 4è

	)

35 
	#LSR_REG
 (
IO_BASE
 + 5è

	)

38 
	#IER_RECV
 0x01

	)

39 
	#IER_XMIT
 0x02

	)

42 
	#LCR_N81
 0x03

	)

43 
	#LCR_DLAB
 0x80

	)

46 
	#MCR_OUT2
 0x08

	)

49 
	#LSR_DR
 0x01

	)

50 
	#LSR_THRE
 0x20

	)

53 ’um { 
	mUNINIT
, 
	mPOLL
, 
	mQUEUE
 } 
	gmode
;

56 
štq
 
	gtxq
;

58 
£t_£rŸl
 (
bps
);

59 
putc_pŞl
 (
ušt8_t
);

60 
wr™e_›r
 ();

61 
šŒ_hªdËr_func
 
	g£rŸl_š‹¼u±
;

68 
	$š™_pŞl
 ()

70 
	`ASSERT
 (
mode
 =ğ
UNINIT
);

71 
	`outb
 (
IER_REG
, 0);

72 
	`outb
 (
FCR_REG
, 0);

73 
	`£t_£rŸl
 (9600);

74 
	`outb
 (
MCR_REG
, 
MCR_OUT2
);

75 
	`štq_š™
 (&
txq
);

76 
mode
 = 
POLL
;

77 
	}
}

83 
	$£rŸl_š™_queue
 ()

85 
šŒ_Ëv–
 
Şd_Ëv–
;

87 ià(
mode
 =ğ
UNINIT
)

88 
	`š™_pŞl
 ();

89 
	`ASSERT
 (
mode
 =ğ
POLL
);

91 
	`šŒ_»gi¡”_ext
 (0x20 + 4, 
£rŸl_š‹¼u±
, "serial");

92 
mode
 = 
QUEUE
;

93 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

94 
	`wr™e_›r
 ();

95 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

96 
	}
}

100 
	$£rŸl_putc
 (
ušt8_t
 
by‹
)

102 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

104 ià(
mode
 !ğ
QUEUE
)

108 ià(
mode
 =ğ
UNINIT
)

109 
	`š™_pŞl
 ();

110 
	`putc_pŞl
 (
by‹
);

116 ià(
Şd_Ëv–
 =ğ
INTR_OFF
 && 
	`štq_fuÎ
 (&
txq
))

123 
	`putc_pŞl
 (
	`štq_g‘c
 (&
txq
));

126 
	`štq_putc
 (&
txq
, 
by‹
);

127 
	`wr™e_›r
 ();

130 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

131 
	}
}

136 
	$£rŸl_æush
 ()

138 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

139 !
	`štq_em±y
 (&
txq
))

140 
	`putc_pŞl
 (
	`štq_g‘c
 (&
txq
));

141 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

142 
	}
}

149 
	$£rŸl_nÙify
 ()

151 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

152 ià(
mode
 =ğ
QUEUE
)

153 
	`wr™e_›r
 ();

154 
	}
}

158 
	$£t_£rŸl
 (
bps
)

160 
ba£_¿‹
 = 1843200 / 16;

161 
ušt16_t
 
divisÜ
 = 
ba£_¿‹
 / 
bps
;

163 
	`ASSERT
 (
bps
 >= 300 && bps <= 115200);

166 
	`outb
 (
LCR_REG
, 
LCR_N81
 | 
LCR_DLAB
);

169 
	`outb
 (
LS_REG
, 
divisÜ
 & 0xff);

170 
	`outb
 (
MS_REG
, 
divisÜ
 >> 8);

173 
	`outb
 (
LCR_REG
, 
LCR_N81
);

174 
	}
}

178 
	$wr™e_›r
 ()

180 
ušt8_t
 
›r
 = 0;

182 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

186 ià(!
	`štq_em±y
 (&
txq
))

187 
›r
 |ğ
IER_XMIT
;

191 ià(!
	`šput_fuÎ
 ())

192 
›r
 |ğ
IER_RECV
;

194 
	`outb
 (
IER_REG
, 
›r
);

195 
	}
}

200 
	$putc_pŞl
 (
ušt8_t
 
by‹
)

202 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

204 (
	`šb
 (
LSR_REG
è& 
LSR_THRE
) == 0)

206 
	`outb
 (
THR_REG
, 
by‹
);

207 
	}
}

211 
	$£rŸl_š‹¼u±
 (
šŒ_äame
 *
f
 
UNUSED
)

215 
	`šb
 (
IIR_REG
);

219 !
	`šput_fuÎ
 (è&& (
	`šb
 (
LSR_REG
è& 
LSR_DR
) != 0)

220 
	`šput_putc
 (
	`šb
 (
RBR_REG
));

224 !
	`štq_em±y
 (&
txq
è&& (
	`šb
 (
LSR_REG
è& 
LSR_THRE
) != 0)

225 
	`outb
 (
THR_REG
, 
	`štq_g‘c
 (&
txq
));

228 
	`wr™e_›r
 ();

229 
	}
}

	@devices/serial.h

1 #iâdeà
DEVICES_SERIAL_H


3 
	#DEVICES_SERIAL_H


	)

5 
	~<¡dšt.h
>

7 
£rŸl_š™_queue
 ();

8 
£rŸl_putc
 (
ušt8_t
);

9 
£rŸl_æush
 ();

10 
£rŸl_nÙify
 ();

	@devices/speaker.c

1 
	~"deviûs/¥—k”.h
"

3 
	~"deviûs/p™.h
"

4 
	~"th»ads/io.h
"

5 
	~"th»ads/š‹¼u±.h
"

6 
	~"deviûs/tim”.h
"

9 
	#SPEAKER_PORT_GATE
 0x61

	)

12 
	#SPEAKER_GATE_ENABLE
 0x03

	)

17 
	$¥—k”_Ú
 (
äequ’cy
)

19 ià(
äequ’cy
 >= 20 && frequency <= 20000)

24 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

25 
	`p™_cÚfigu»_chªÃl
 (2, 3, 
äequ’cy
);

26 
	`outb
 (
SPEAKER_PORT_GATE
, 
	`šb
 (SPEAKER_PORT_GATEè| 
SPEAKER_GATE_ENABLE
);

27 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

33 
	`¥—k”_off
 ();

35 
	}
}

40 
	$¥—k”_off
 ()

42 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

43 
	`outb
 (
SPEAKER_PORT_GATE
, 
	`šb
 (SPEAKER_PORT_GATEè& ~
SPEAKER_GATE_ENABLE
);

44 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

45 
	}
}

49 
	$¥—k”_b“p
 ()

63 ià(
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_ON
)

65 
	`¥—k”_Ú
 (440);

66 
	`tim”_m¦“p
 (250);

67 
	`¥—k”_off
 ();

69 
	}
}

	@devices/speaker.h

1 #iâdeà
DEVICES_SPEAKER_H


3 
	#DEVICES_SPEAKER_H


	)

5 
¥—k”_Ú
 (
äequ’cy
);

6 
¥—k”_off
 ();

7 
¥—k”_b“p
 ();

	@devices/timer.c

1 
	~"deviûs/tim”.h
"

3 
	~<debug.h
>

4 
	~<š‰y³s.h
>

5 
	~<round.h
>

6 
	~<¡dio.h
>

7 
	~"deviûs/p™.h
"

8 
	~"th»ads/š‹¼u±.h
"

9 
	~"th»ads/synch.h
"

10 
	~"th»ads/th»ad.h
"

14 #ià
TIMER_FREQ
 < 19

15 #”rÜ 8254 
tim”
 
»quœes
 
TIMER_FREQ
 >= 19

17 #ià
TIMER_FREQ
 > 1000

18 #”rÜ 
TIMER_FREQ
 <ğ1000 
»comm’ded


22 
št64_t
 
	gticks
;

26 
	gloİs_³r_tick
;

28 
šŒ_hªdËr_func
 
	gtim”_š‹¼u±
;

29 
boŞ
 
too_mªy_loİs
 (
loİs
);

30 
busy_wa™
 (
št64_t
 
loİs
);

31 
»®_time_¦“p
 (
št64_t
 
num
, 
št32_t
 
d’om
);

32 
»®_time_d–ay
 (
št64_t
 
num
, 
št32_t
 
d’om
);

37 
	$tim”_š™
 ()

39 
	`p™_cÚfigu»_chªÃl
 (0, 2, 
TIMER_FREQ
);

40 
	`šŒ_»gi¡”_ext
 (0x20, 
tim”_š‹¼u±
, "8254 Timer");

41 
	}
}

45 
	$tim”_ÿlib¿‹
 ()

47 
high_b™
, 
‹¡_b™
;

49 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_ON
);

50 
	`´štf
 ("Calibratingimer... ");

54 
loİs_³r_tick
 = 1u << 10;

55 !
	`too_mªy_loİs
 (
loİs_³r_tick
 << 1))

57 
loİs_³r_tick
 <<= 1;

58 
	`ASSERT
 (
loİs_³r_tick
 != 0);

62 
high_b™
 = 
loİs_³r_tick
;

63 
‹¡_b™
 = 
high_b™
 >> 1;est_bit != high_bit >> 10;est_bit >>= 1)

64 ià(!
	`too_mªy_loİs
 (
high_b™
 | 
‹¡_b™
))

65 
loİs_³r_tick
 |ğ
‹¡_b™
;

67 
	`´štf
 ("%'"
PRIu64
"†oİs/s.\n", (
ušt64_t
è
loİs_³r_tick
 * 
TIMER_FREQ
);

68 
	}
}

71 
št64_t


72 
	$tim”_ticks
 ()

74 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

75 
št64_t
 
t
 = 
ticks
;

76 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

77 
	`b¬r›r
 ();

78  
t
;

79 
	}
}

83 
št64_t


84 
	$tim”_–­£d
 (
št64_t
 
th’
)

86  
	`tim”_ticks
 (è- 
th’
;

87 
	}
}

92 
	$tim”_¦“p
 (
št64_t
 
ticks
)

94 
št64_t
 
¡¬t
 = 
	`tim”_ticks
 ();

96 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_ON
);

97 
	`tim”_–­£d
 (
¡¬t
è< 
ticks
)

98 
	`th»ad_y›ld
 ();

99 
	}
}

104 
	$tim”_m¦“p
 (
št64_t
 
ms
)

106 
	`»®_time_¦“p
 (
ms
, 1000);

107 
	}
}

112 
	$tim”_u¦“p
 (
št64_t
 
us
)

114 
	`»®_time_¦“p
 (
us
, 1000 * 1000);

115 
	}
}

120 
	$tim”_n¦“p
 (
št64_t
 
ns
)

122 
	`»®_time_¦“p
 (
ns
, 1000 * 1000 * 1000);

123 
	}
}

133 
	$tim”_md–ay
 (
št64_t
 
ms
)

135 
	`»®_time_d–ay
 (
ms
, 1000);

136 
	}
}

146 
	$tim”_ud–ay
 (
št64_t
 
us
)

148 
	`»®_time_d–ay
 (
us
, 1000 * 1000);

149 
	}
}

159 
	$tim”_nd–ay
 (
št64_t
 
ns
)

161 
	`»®_time_d–ay
 (
ns
, 1000 * 1000 * 1000);

162 
	}
}

166 
	$tim”_´št_¡©s
 ()

168 
	`´štf
 ("Tim”: %"
PRId64
"icks\n", 
	`tim”_ticks
 ());

169 
	}
}

173 
	$tim”_š‹¼u±
 (
šŒ_äame
 *
¬gs
 
UNUSED
)

175 
ticks
++;

176 
	`th»ad_tick
 ();

177 
	}
}

181 
boŞ


182 
	$too_mªy_loİs
 (
loİs
)

185 
št64_t
 
¡¬t
 = 
ticks
;

186 
ticks
 =ğ
¡¬t
)

187 
	`b¬r›r
 ();

190 
¡¬t
 = 
ticks
;

191 
	`busy_wa™
 (
loİs
);

194 
	`b¬r›r
 ();

195  
¡¬t
 !ğ
ticks
;

196 
	}
}

205 
NO_INLINE


206 
	$busy_wa™
 (
št64_t
 
loİs
)

208 
loİs
-- > 0)

209 
	`b¬r›r
 ();

210 
	}
}

214 
	$»®_time_¦“p
 (
št64_t
 
num
, 
št32_t
 
d’om
)

222 
št64_t
 
ticks
 = 
num
 * 
TIMER_FREQ
 / 
d’om
;

224 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_ON
);

225 ià(
ticks
 > 0)

230 
	`tim”_¦“p
 (
ticks
);

236 
	`»®_time_d–ay
 (
num
, 
d’om
);

238 
	}
}

242 
	$»®_time_d–ay
 (
št64_t
 
num
, 
št32_t
 
d’om
)

246 
	`ASSERT
 (
d’om
 % 1000 == 0);

247 
	`busy_wa™
 (
loİs_³r_tick
 * 
num
 / 1000 * 
TIMER_FREQ
 / (
d’om
 / 1000));

248 
	}
}

	@devices/timer.h

1 #iâdeà
DEVICES_TIMER_H


3 
	#DEVICES_TIMER_H


	)

5 
	~<round.h
>

6 
	~<¡dšt.h
>

9 
	#TIMER_FREQ
 100

	)

11 
tim”_š™
 ();

12 
tim”_ÿlib¿‹
 ();

14 
št64_t
 
tim”_ticks
 ();

15 
št64_t
 
tim”_–­£d
 (int64_t);

18 
tim”_¦“p
 (
št64_t
 
ticks
);

19 
tim”_m¦“p
 (
št64_t
 
mli£cÚds
);

20 
tim”_u¦“p
 (
št64_t
 
miüo£cÚds
);

21 
tim”_n¦“p
 (
št64_t
 
Çno£cÚds
);

24 
tim”_md–ay
 (
št64_t
 
mli£cÚds
);

25 
tim”_ud–ay
 (
št64_t
 
miüo£cÚds
);

26 
tim”_nd–ay
 (
št64_t
 
Çno£cÚds
);

28 
tim”_´št_¡©s
 ();

	@devices/usb.c

1 
	~"deviûs/usb.h
"

3 
	~"deviûs/usb_hub.h
"

4 
	~"th»ads/synch.h
"

5 
	~"th»ads/m®loc.h
"

6 
	~"deviûs/tim”.h
"

7 
	~<k”Ãl/b™m­.h
>

8 
	~<¡ršg.h
>

9 
	~<¡dio.h
>

11 
	#ADDRS_PER_HOST
 127

	)

12 
	#ADDR_DEFAULT
 0

	)

13 
	#ADDR_FIRST
 1

	)

17 
	#SETUP_DESC_DEVICE
 1

	)

18 
	#SETUP_DESC_CONFIG
 2

	)

19 
	#SETUP_DESC_STRING
 3

	)

20 
	#SETUP_DESC_IFACE
 4

	)

21 
	#SETUP_DESC_ENDPOINT
 5

	)

22 
	#SETUP_DESC_DEVQUAL
 6

	)

23 
	#SETUP_DESC_SPDCONFIG
 7

	)

24 
	#SETUP_DESC_IFACEPWR
 8

	)

26 #´agm¨
·ck
(1)

27 
	sdesc_h—d”


29 
ušt8_t
 
	mËngth
;

30 
ušt8_t
 
	mty³
;

37 
	sdeviû_desütÜ


39 
desc_h—d”
 
	mhdr
;

40 
ušt16_t
 
	musb_¥ec
;

41 
ušt8_t
 
	mdev_şass
;

42 
ušt8_t
 
	mdev_subşass
;

43 
ušt8_t
 
	mdev_´Ùo
;

44 
ušt8_t
 
	mmax_pktsz
;

46 
ušt16_t
 
	mv’dÜ_id
;

47 
ušt16_t
 
	m´oduù_id
;

48 
ušt16_t
 
	mdeviû_id
;

49 
ušt8_t
 
	mmªuçùu»r
;

50 
ušt8_t
 
	m´oduù
;

51 
ušt8_t
 
	m£rŸl
;

52 
ušt8_t
 
	mnum_cÚfigs
;

55 
	sdeviû_qu®if›r


57 
ušt16_t
 
	musb_¥ec
;

58 
ušt8_t
 
	mdev_şass
;

59 
ušt8_t
 
	mdev_subşass
;

60 
ušt8_t
 
	mdev_´Ùo
;

61 
ušt8_t
 
	mmax_pktsz
;

62 
ušt8_t
 
	mnum_cÚfigs
;

63 
ušt8_t
 
	m»sv
;

66 
	scÚfig_desütÜ


68 
desc_h—d”
 
	mhdr
;

69 
ušt16_t
 
	mtÙ®_Ëngth
;

70 
ušt8_t
 
	mnum_içûs
;

71 
ušt8_t
 
	mcÚfig_v®
;

72 
ušt8_t
 
	mcÚfig_desc
;

73 
ušt8_t
 
	m©Œibu‹s
;

74 
ušt8_t
 
	mmax_pow”
;

77 
	sš‹rçû_desütÜ


79 
desc_h—d”
 
	mhdr
;

80 
ušt8_t
 
	miçû_num
;

81 
ušt8_t
 
	m®t_£‰šg
;

82 
ušt8_t
 
	mnum_’dpošts
;

83 
ušt8_t
 
	miçû_şass
;

84 
ušt8_t
 
	miçû_subşass
;

85 
ušt8_t
 
	miçû_´Ùo
;

86 
ušt8_t
 
	miçû_desc
;

89 
	s’dpošt_desütÜ


91 
desc_h—d”
 
	mhdr
;

93 
ušt8_t
 
	m’dpošt_num
:4;

94 
ušt8_t
 
	m»sv1
:3;

95 
ušt8_t
 
	mdœeùiÚ
:1;

98 
ušt8_t
 
	mŒªsãr
:2;

99 
ušt8_t
 
	msynch
:2;

100 
ušt8_t
 
	mu§ge
:2;

101 
ušt8_t
 
	m»sv2
:2;

103 
ušt16_t
 
	mmax_pktsz
;

104 
ušt8_t
 
	mš‹rv®
;

108 #´agm¨
·ck
()

110 
	#USB_CLASS_HUB
 0x09

	)

111 
	sho¡


113 
usb_ho¡
 *
	mdev
;

114 
ho¡_šfo
 
	mšfo
;

115 
b™m­
 *
	musb_dev_addrs
;

116 
li¡
 
	mho¡_usb_devs
;

117 
li¡_–em
 
	m³”s
;

120 
	gşass


121 
	s
{

122 
usb_şass
 *
	mdev
;

123 
li¡
 
	musb_içûs
;

124 
li¡_–em
 
	m³”s
;

127 
li¡
 
	gusb_dev_li¡
;

128 
li¡
 
	gşass_li¡
;

129 
li¡
 
	gho¡_li¡
;

130 
lock
 
	gusb_sys_lock
;

132 
	#usb_lock
(è
	`lock_acquœe
(&
usb_sys_lock
)

	)

133 
	#usb_uÆock
(è
	`lock_»Ëa£
(&
usb_sys_lock
)

	)

135 
usb_sÿn_deviûs
 (
ho¡
 *
h
);

136 
usb_dev
 *
usb_cÚfigu»_deçuÉ
 (
ho¡
 *
h
);

137 *
usb_g‘_¡ršg
 (
usb_dev
 *
d
, 
ndx
);

138 
şass
 *
usb_g‘_şass_by_id
 (
id
);

139 
usb_£tup_dev_addr
 (
usb_dev
 *
dev
);

140 
usb_cÚfig_dev
 (
usb_dev
 *
dev
, 
cÚfig_v®
);

141 
usb_lßd_cÚfig
 (
usb_dev
 *
dev
, 
idx
, *
d©a
,

142 
dsz
);

143 
usb_tx_®l
 (
usb_’dpošt
 *
eİ
, *
buf
,

144 
max_by‹s
, 
baout
, 
boŞ
 
š
);

145 
usb_©ch_š‹rçûs
 (
usb_dev
 *
dev
);

146 
usb_­¶y_şass_to_š‹rçûs
 (
şass
 *
c
);

147 
size_t
 
wch¬_to_ascii
 (*
d¡
, cÚ¡ *
¤c
);

149 
uhci_š™
 ();

150 
ehci_š™
 ();

153 
	$usb_š™
 ()

155 
	`li¡_š™
 (&
ho¡_li¡
);

156 
	`li¡_š™
 (&
şass_li¡
);

157 
	`li¡_š™
 (&
usb_dev_li¡
);

158 
	`lock_š™
 (&
usb_sys_lock
);

160 
	`usb_hub_š™
 ();

163 
	`´štf
 ("Initializing EHCI\n");

164 
	`ehci_š™
 ();

165 
	`´štf
 ("Initializing UHCI\n");

166 
	`uhci_š™
 ();

167 
	}
}

171 
	$usb_»gi¡”_ho¡
 (
usb_ho¡
 *
uh
, 
ho¡_šfo
 
šfo
)

173 
ho¡
 *
h
;

175 
h
 = 
	`m®loc
 ( (
ho¡
));

176 
h
->
dev
 = 
uh
;

177 
h
->
šfo
 = info;

178 
h
->
usb_dev_addrs
 = 
	`b™m­_ü—‹
 (
ADDRS_PER_HOST
);

179 
	`li¡_š™
 (&
h
->
ho¡_usb_devs
);

181 
	`usb_lock
 ();

182 
	`li¡_push_back
 (&
ho¡_li¡
, &
h
->
³”s
);

183 
	`usb_uÆock
 ();

185 
	`usb_sÿn_deviûs
 (
h
);

186 
	}
}

189 
	$usb_»gi¡”_şass
 (
usb_şass
 *
uc
)

191 
şass
 *
c
;

193 
	`usb_lock
 ();

196 ià(
	`usb_g‘_şass_by_id
 (
uc
->
şass_id
è!ğ
NULL
)

198 
	`usb_uÆock
 ();

204 
c
 = 
	`m®loc
 ( (
şass
));

205 
c
->
dev
 = 
uc
;

206 
	`li¡_š™
 (&
c
->
usb_içûs
);

207 
	`li¡_push_back
 (&
şass_li¡
, &
c
->
³”s
);

209 
	`usb_­¶y_şass_to_š‹rçûs
 (
c
);

211 
	`usb_uÆock
 ();

214 
	}
}

217 
	$usb_sÿn_deviûs
 (
ho¡
 *
h
)

221 
	`´štf
 ("USB: scanning devices...\n");

224 
usb_dev
 *
dev
;

226 
dev
 = 
	`usb_cÚfigu»_deçuÉ
 (
h
);

227 ià(
dev
 =ğ
NULL
)

230 ià(
dev
->
ignÜe_deviû
 =ğ
çl£
)

231 
	`´štf
 ("USB Device %d: %s (%s)\n",

232 
dev
->
addr
, dev->
´oduù
, dev->
mªuçùu»r
);

234 
	`li¡_push_back
 (&
h
->
ho¡_usb_devs
, &
dev
->
ho¡_³”s
);

235 
	`li¡_push_back
 (&
usb_dev_li¡
, &
dev
->
sys_³”s
);

236 
	`usb_©ch_š‹rçûs
 (
dev
);

238 
	}
}

241 
	$£nd_¡©us
 (
ho¡
 *
h
, 
ho¡_eİ_šfo
 
cfg_eİ
)

243 
sz
;

244 
”r
;

246 
h
->
dev
->
	`£t_toggË
 (
cfg_eİ
, 1);

247 
sz
 = 0;

248 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
cfg_eİ
, 
USB_TOKEN_OUT
, 
NULL
, 0, 0, &
sz
, 
Œue
);

249 ià(
”r
)

250 
	`´štf
 ("”rÜ %d iÀ¡©u Œª§ùiÚ\n", 
”r
);

251  
”r
;

252 
	}
}

254 
usb_dev
 *

255 
	$usb_cÚfigu»_deçuÉ
 (
ho¡
 *
h
)

257 
usb_dev
 *
dev
;

258 
usb_£tup_pkt
 
¥
;

259 
d©a
[256];

260 
deviû_desütÜ
 *
dd
;

261 
ho¡_dev_šfo
 
hi
;

262 
ho¡_eİ_šfo
 
cfg_eİ
;

263 
boŞ
 
ignÜe_deviû
 = 
çl£
;

264 
”r
, 
sz
;

265 
txed
;

266 
cÚfig_v®
;

268 
hi
 = 
h
->
dev
->
	`ü—‹_dev_chªÃl
 (h->
šfo
, 
ADDR_DEFAULT
, 
USB_VERSION_1_1
);

269 
cfg_eİ
 = 
h
->
dev
->
	`ü—‹_eİ
 (
hi
, 0, 64);

272 
¥
.
»c›Á
 = 
USB_SETUP_RECIP_DEV
;

273 
¥
.
ty³
 = 
USB_SETUP_TYPE_STD
;

274 
¥
.
dœeùiÚ
 = 1;

275 
¥
.
»que¡
 = 
REQ_STD_GET_DESC
;

276 
¥
.
v®ue
 = 
SETUP_DESC_DEVICE
 << 8;

277 
¥
.
šdex
 = 0;

278 
¥
.
Ëngth
 = 8;

280 
”r
 =

281 
h
->
dev
->
	`tx_pkt
 (
cfg_eİ
, 
USB_TOKEN_SETUP
, &
¥
, 0,  (¥), 
NULL
,

282 
Œue
);

283 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

284 
”rÜ
;

286 
dd
 = (*è&
d©a
;

287 
	`mem£t
 (
dd
, 0,  (
d©a
));

288 
txed
 = 0;

289 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
cfg_eİ
, 
USB_TOKEN_IN
, 
d©a
, 0, 8, &
sz
, 
Œue
);

290 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

291 
”rÜ
;

293 
”r
 = 
	`£nd_¡©us
 (
h
, 
cfg_eİ
);

294 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

295  
NULL
;

298 ià(
dd
->
usb_¥ec
 =ğ
USB_VERSION_1_0
)

301 
	`´štf
 ("USB 1.0 device detected - skipping\n");

302 
”rÜ
;

307 ià(
dd
->
max_pktsz
 != 8 && dd->max_pktsz != 16

308 && 
dd
->
max_pktsz
 != 32 && dd->max_pktsz != 64)

309 
”rÜ
;

311 
h
->
dev
->
	`»move_eİ
 (
cfg_eİ
);

312 
cfg_eİ
 = 
h
->
dev
->
	`ü—‹_eİ
 (
hi
, 0, 
dd
->
max_pktsz
);

315 
¥
.
Ëngth
 =  *
dd
;

316 
”r
 =

317 
h
->
dev
->
	`tx_pkt
 (
cfg_eİ
, 
USB_TOKEN_SETUP
, &
¥
, 0,  (¥), 
NULL
,

318 
Œue
);

319 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

320 
”rÜ
;

322 
txed
 = 0;

323 
txed
 <  *
dd
)

325 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
cfg_eİ
, 
USB_TOKEN_IN
, 
d©a
 + 
txed
, 0,

326  *
dd
 - 
txed
, &
sz
, 
Œue
);

327 ià(
”r
)

328 
”rÜ
;

329 
txed
 +ğ
sz
;

332 
”r
 = 
	`£nd_¡©us
 (
h
, 
cfg_eİ
);

333 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

334  
NULL
;

336 ià(
dd
->
num_cÚfigs
 == 0)

337 
ignÜe_deviû
 = 
Œue
;

340 
dev
 = 
	`m®loc
 ( (
usb_dev
));

341 
	`mem£t
 (
dev
, 0,  (
usb_dev
));

342 
	`li¡_š™
 (&
dev
->
š‹rçûs
);

344 
dev
->
ignÜe_deviû
 = ignore_device;

345 
dev
->
h_dev
 = 
hi
;

346 
dev
->
h_cfg_eİ
 = 
cfg_eİ
;

348 
dev
->
cfg_eİ
.
h_eİ
 = cfg_eop;

350 
dev
->
usb_v”siÚ
 = 
dd
->
usb_¥ec
;

351 
dev
->
deçuÉ_içû
.
şass_id
 = 
dd
->
dev_şass
;

352 
dev
->
deçuÉ_içû
.
subşass_id
 = 
dd
->
dev_subşass
;

353 
dev
->
deçuÉ_içû
.
içû_num
 = 0;

354 
dev
->
deçuÉ_içû
.
´Ùo
 = 
dd
->
dev_´Ùo
;

355 
dev
->
deçuÉ_içû
.
şass
 = 
NULL
;

356 
dev
->
deçuÉ_içû
.
c_šfo
 = 
NULL
;

357 
dev
->
deçuÉ_içû
.dev = dev;

359 
dev
->
cfg_eİ
.
içû
 = &dev->
deçuÉ_içû
;

360 
dev
->
cfg_eİ
.
max_pkt
 = 
dd
->
max_pktsz
;

361 
dev
->
cfg_eİ
.
eİ
 = 0;

363 
dev
->
ho¡
 = 
h
;

365 
dev
->
v’dÜ_id
 = 
dd
->vendor_id;

366 
dev
->
´oduù_id
 = 
dd
->product_id;

367 
dev
->
deviû_id
 = 
dd
->device_id;

369 ià(
ignÜe_deviû
 =ğ
çl£
)

371 
dev
->
´oduù
 = 
	`usb_g‘_¡ršg
 (dev, 
dd
->product);

372 
dev
->
mªuçùu»r
 = 
	`usb_g‘_¡ršg
 (dev, 
dd
->manufacturer);

375 
cÚfig_v®
 = -123;

378 ià(
dd
->
num_cÚfigs
 > 0 && 
ignÜe_deviû
 =ğ
çl£
)

380 
cÚfig_v®
 = 
	`usb_lßd_cÚfig
 (
dev
, 0, 
d©a
,  (data));

381 ià(
cÚfig_v®
 < 0)

383 
´štf


385 
cÚfig_v®
, 
dev
->
´oduù
, dev->
mªuçùu»r
, dev->
v’dÜ_id
,

386 
dev
->
´oduù_id
, dev->
deviû_id
);

390 
	`usb_£tup_dev_addr
 (
dev
);

392 
	`usb_cÚfig_dev
 (
dev
, (
cÚfig_v®
 < 0) ? 1 : config_val);

394  
dev
;

396 
”rÜ
:

397 
h
->
dev
->
	`»move_eİ
 (
cfg_eİ
);

398 
h
->
dev
->
	`»move_dev_chªÃl
 (
hi
);

399  
NULL
;

400 
	}
}

407 
	$usb_lßd_cÚfig
 (
usb_dev
 *
dev
, 
idx
, *
d©a
, 
dsz
)

409 
usb_£tup_pkt
 
¥
;

410 
cÚfig_desütÜ
 *
cd
;

411 
ho¡
 *
h
;

412 
ho¡_eİ_šfo
 
cfg
;

413 *
±r
;

414 
cÚfig_v®
, 
”r
, 
sz
;

415 
i
;

417 
h
 = 
dev
->
ho¡
;

418 
cfg
 = 
dev
->
h_cfg_eİ
;

420 
¥
.
»c›Á
 = 
USB_SETUP_RECIP_DEV
;

421 
¥
.
ty³
 = 
USB_SETUP_TYPE_STD
;

422 
¥
.
dœeùiÚ
 = 1;

423 
¥
.
»que¡
 = 
REQ_STD_GET_DESC
;

424 
¥
.
v®ue
 = 
SETUP_DESC_CONFIG
 << 8 | 
idx
;

425 
¥
.
šdex
 = 0;

426 
¥
.
Ëngth
 = 
dsz
;

427 
cd
 = 
d©a
;

429 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
cfg
, 
USB_TOKEN_SETUP
, &
¥
, 0,  (¥), &
sz
, 
Œue
);

430 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

432 
	`´štf
 ("USB: Could‚ot setup GET descriptor\n");

433  -
”r
;

436 
sz
 = 
	`usb_tx_®l
 (&
dev
->
cfg_eİ
, 
cd
, 
dsz
,

437  (
cÚfig_desütÜ
), 
Œue
);

438 ià(
sz
 < (è (
cÚfig_desütÜ
))

440 
	`´štf
 ("USB: Did‚Ù„x GET desütÜ (%d by‹s,ƒx³ùed %d)\n", 
sz
,

441  (
cÚfig_desütÜ
));

442  -
”r
;

445 ià(
sz
 =ğ0 || 
cd
->
hdr
.
ty³
 !ğ
SETUP_DESC_CONFIG
)

447 
	`´štf
 ("USB: Invalid descriptor\n");

451 ià(
sz
 < 
cd
->
tÙ®_Ëngth
)

452 
sz
 +ğ
	`usb_tx_®l
 (&
dev
->
cfg_eİ
, 
d©a
+sz, 
dsz
, 
cd
->
tÙ®_Ëngth
 - sz, 
Œue
);

454 
	`£nd_¡©us
 (
h
, 
cfg
);

456 
dev
->
pwr
 = 
cd
->
max_pow”
;

460 
±r
 = 
d©a
 +  (
cÚfig_desütÜ
);

462 
i
 = 0; i < 
cd
->
num_içûs
; i++)

464 
š‹rçû_desütÜ
 *
içû
;

465 
usb_içû
 *
ui
;

466 
j
;

468 
içû
 = 
±r
;

469 ià(
içû
->
hdr
.
ty³
 !ğ
SETUP_DESC_IFACE
)

471 
	`hex_dump
 (0, 
içû
, 64, 
çl£
);

472 
	`PANIC
 ("Ex³ùed %d, found %d\n", 
SETUP_DESC_IFACE
,

473 
içû
->
hdr
.
ty³
);

476 
ui
 = 
	`m®loc
 ( (
usb_içû
));

477 
ui
->
şass_id
 = 
içû
->
içû_şass
;

478 
ui
->
subşass_id
 = 
içû
->
içû_subşass
;

479 
ui
->
içû_num
 = 
içû
->iface_num;

480 
ui
->
´Ùo
 = 
içû
->
içû_´Ùo
;

481 
ui
->
şass
 = 
NULL
;

482 
ui
->
c_šfo
 = 
NULL
;

483 
ui
->
dev
 = dev;

484 
	`li¡_š™
 (&
ui
->
’dpošts
);

488 
±r
 +ğ (
š‹rçû_desütÜ
);

489 
j
 = 0; j < 
içû
->
num_’dpošts
;

490 
j
++, 
±r
 +ğ (
’dpošt_desütÜ
))

492 
usb_’dpošt
 *
ue
;

493 
’dpošt_desütÜ
 *
ed
;

495 
ed
 = 
±r
;

497 
ue
 = 
	`m®loc
 ( (
usb_’dpošt
));

498 
ue
->
eİ
 = 
ed
->
’dpošt_num
;

499 
ue
->
dœeùiÚ
 = 
ed
->direction;

500 
ue
->
©Œ
 = 
ed
->
Œªsãr
;

501 
ue
->
max_pkt
 = 
ed
->
max_pktsz
;

502 
ue
->
š‹rv®
 = 
ed
->interval;

503 
ue
->
içû
 = 
ui
;

504 
ue
->
h_eİ
 = 
h
->
dev
->
	`ü—‹_eİ
 (dev->
h_dev
, ue->
eİ
, ue->
max_pkt
);

506 
	`li¡_push_back
 (&
ui
->
’dpošts
, &
ue
->
³”s
);

509 
	`li¡_push_back
 (&
dev
->
š‹rçûs
, &
ui
->
³”s
);

512 
cÚfig_v®
 = 
cd
->config_val;

514  
cÚfig_v®
;

515 
	}
}

521 
	$usb_cÚfig_dev
 (
usb_dev
 *
dev
, 
cÚfig_v®
)

523 
usb_£tup_pkt
 
¥
;

524 
ho¡
 *
h
;

525 
ho¡_eİ_šfo
 
cfg
;

526 
”r
;

528 
h
 = 
dev
->
ho¡
;

529 
cfg
 = 
dev
->
h_cfg_eİ
;

531 
¥
.
»c›Á
 = 
USB_SETUP_RECIP_DEV
;

532 
¥
.
ty³
 = 
USB_SETUP_TYPE_STD
;

533 
¥
.
dœeùiÚ
 = 0;

534 
¥
.
»que¡
 = 
REQ_STD_SET_CONFIG
;

535 
¥
.
v®ue
 = 
cÚfig_v®
;

536 
¥
.
šdex
 = 0;

537 
¥
.
Ëngth
 = 0;

538 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
cfg
, 
USB_TOKEN_SETUP
, &
¥
, 0,  (¥), 
NULL
, 
Œue
);

539 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

540 
	`PANIC
 ("USB: Config setup…acket did‚otx\n");

542 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
cfg
, 
USB_TOKEN_IN
, 
NULL
, 0, 0, NULL, 
Œue
);

543 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

544 
	`PANIC
 ("USB: Could‚ot configure device!\n");

545 
	}
}

551 
	$usb_£tup_dev_addr
 (
usb_dev
 *
dev
)

553 
usb_£tup_pkt
 
¥
;

554 
ho¡
 *
h
;

555 
ho¡_eİ_šfo
 
cfg
;

556 
”r
;

558 
	`ASSERT
 (
dev
->
addr
 == 0);

560 
h
 = 
dev
->
ho¡
;

561 
cfg
 = 
dev
->
h_cfg_eİ
;

563 
dev
->
addr
 = 
	`b™m­_sÿn_ªd_æ
 (
h
->
usb_dev_addrs
, 1, 1, 
çl£
);

565 
¥
.
»c›Á
 = 
USB_SETUP_RECIP_DEV
;

566 
¥
.
ty³
 = 
USB_SETUP_TYPE_STD
;

567 
¥
.
dœeùiÚ
 = 0;

568 
¥
.
»que¡
 = 
REQ_STD_SET_ADDRESS
;

569 
¥
.
v®ue
 = 
dev
->
addr
;

570 
¥
.
šdex
 = 0;

571 
¥
.
Ëngth
 = 0;

572 
”r
 =

573 
h
->
dev
->
	`tx_pkt
 (
cfg
, 
USB_TOKEN_SETUP
, &
¥
, 0,  (¥), 
NULL
, 
Œue
);

574 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

576 
	`PANIC
 ("USB: WHOOPS!!!!!!!\n");

578 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
cfg
, 
USB_TOKEN_IN
, 
NULL
, 0, 0, NULL, 
Œue
);

579 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

581 
	`PANIC
 ("USB: E¼Ü oÀ£‰šg deviû‡dd»s Ó¼ = %d)\n", 
”r
);

584 
h
->
dev
->
	`modify_dev_chªÃl
 (dev->
h_dev
, dev->
addr
, dev->
usb_v”siÚ
);

585 
	}
}

587 
	#MAX_USB_STR
 128

	)

590 
	$usb_g‘_¡ršg
 (
usb_dev
 *
udev
, 
ndx
)

592 
usb_£tup_pkt
 
¥
;

593 
¡r
[
MAX_USB_STR
];

594 *
»t
;

595 
sz
;

597 
¥
.
»c›Á
 = 
USB_SETUP_RECIP_DEV
;

598 
¥
.
ty³
 = 
USB_SETUP_TYPE_STD
;

599 
¥
.
dœeùiÚ
 = 1;

600 
¥
.
»que¡
 = 
REQ_STD_GET_DESC
;

601 
¥
.
v®ue
 = (
SETUP_DESC_STRING
 << 8è| 
ndx
;

602 
¥
.
šdex
 = 0;

603 
¥
.
Ëngth
 = 
MAX_USB_STR
;

605 ià(
udev
->
ho¡
->
dev
->
	`tx_pkt
 (udev->
h_cfg_eİ
, 
USB_TOKEN_SETUP
,

606 &
¥
, 0,  (¥), 
NULL
, 
Œue
)

607 !ğ
USB_HOST_ERR_NONE
)

608  
NULL
;

610 
sz
 = 
	`usb_tx_®l
 (&
udev
->
cfg_eİ
, &
¡r
, 
MAX_USB_STR
, 2, 
Œue
);

611 
sz
 +=

612 
	`usb_tx_®l
 (&
udev
->
cfg_eİ
, 
¡r
 + 
sz
, (
ušt8_t
è(¡r[0]è- sz, 0, 
Œue
);

615 ià(
sz
 == 0)

616  
NULL
;

618 
	`£nd_¡©us
 (
udev
->
ho¡
, udev->
h_cfg_eİ
);

623 
¡r
[(
sz
 < (
MAX_USB_STR
 - 1)) ? (sz) : (MAX_USB_STR - 1)] = '\0';

626 
	`wch¬_to_ascii
 (
¡r
, str + 2);

627 
»t
 = 
	`m®loc
 (
	`¡¾’
 (
¡r
) + 1);

628 
	`¡¾ıy
 (
»t
, 
¡r
, 
MAX_USB_STR
);

629  
»t
;

630 
	}
}

632 
şass
 *

633 
	$usb_g‘_şass_by_id
 (
id
)

635 
li¡_–em
 *
li
;

637 
li
 = 
	`li¡_begš
 (&
şass_li¡
);

638 
li
 !ğ
	`li¡_’d
 (&
şass_li¡
))

640 
şass
 *
c
;

641 
c
 = 
	`li¡_’Œy
 (
li
, 
şass
, 
³”s
);

642 ià(
c
->
dev
->
şass_id
 =ğ
id
)

643  
c
;

644 
li
 = 
	`li¡_Ãxt
 (li);

647  
NULL
;

648 
	}
}

654 
	$usb_©ch_š‹rçûs
 (
usb_dev
 *
dev
)

657 
li¡_–em
 *
li
;

658 
li
 = 
	`li¡_begš
 (&
dev
->
š‹rçûs
);

659 
li
 !ğ
	`li¡_’d
 (&
dev
->
š‹rçûs
))

661 
şass
 *
ş
;

662 
usb_içû
 *
ui
;

664 
ui
 = 
	`li¡_’Œy
 (
li
, 
usb_içû
, 
³”s
);

665 
li
 = 
	`li¡_Ãxt
 (li);

666 
ş
 = 
	`usb_g‘_şass_by_id
 (
ui
->
şass_id
);

669 ià(
ş
 =ğ
NULL
)

672 
ui
->
c_šfo
 = 
ş
->
dev
->
	`©ched
 (ui);

674 ià(
ui
->
c_šfo
 !ğ
NULL
)

677 
	`li¡_push_back
 (&
ş
->
usb_içûs
, &
ui
->
şass_³”s
);

678 
ui
->
şass
 = 
ş
;

681 
	}
}

688 
	$usb_­¶y_şass_to_š‹rçûs
 (
şass
 *
c
)

690 
li¡_–em
 *
li
;

692 
li
 = 
	`li¡_begš
 (&
usb_dev_li¡
);

693 
li
 !ğ
	`li¡_’d
 (&
usb_dev_li¡
))

695 
usb_dev
 *
ud
;

696 
li¡_–em
 *
lii
;

698 
ud
 = 
	`li¡_’Œy
 (
li
, 
usb_dev
, 
sys_³”s
);

700 
lii
 = 
	`li¡_begš
 (&
ud
->
š‹rçûs
);

701 
lii
 !ğ
	`li¡_’d
 (&
ud
->
š‹rçûs
))

703 
usb_içû
 *
ui
;

705 
ui
 = 
	`li¡_’Œy
 (
lii
, 
usb_içû
, 
³”s
);

707 
lii
 = 
	`li¡_Ãxt
 (lii);

708 ià(
ui
->
şass_id
 !ğ
c
->
dev
->class_id)

711 
ui
->
c_šfo
 = 
c
->
dev
->
	`©ched
 (ui);

712 ià(
ui
->
c_šfo
 =ğ
NULL
)

715 
	`li¡_push_back
 (&
c
->
usb_içûs
, &
ui
->
şass_³”s
);

716 
ui
->
şass
 = 
c
;

719 
li
 = 
	`li¡_Ãxt
 (li);

721 
	}
}

724 
	$usb_dev_bulk
 (
usb_’dpošt
 *
eİ
, *
buf
, 
sz
, *
tx
)

726 
ho¡
 *
h
;

727 
”r
;

728 
tok’
;

730 
	`ASSERT
 (
eİ
 !ğ
NULL
);

731 
h
 = 
eİ
->
içû
->
dev
->
ho¡
;

733 ià(
eİ
->
dœeùiÚ
 == 0)

734 
tok’
 = 
USB_TOKEN_OUT
;

736 
tok’
 = 
USB_TOKEN_IN
;

738 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
eİ
->
h_eİ
, 
tok’
, 
buf
, 
sz
, sz, 
tx
, 
Œue
);

740  
”r
;

741 
	}
}

744 
	$usb_dev_£tup
 (
usb_’dpošt
 *
eİ
, 
boŞ
 
š
,

745 
usb_£tup_pkt
 *
s
, *
buf
, 
sz
)

747 
ho¡
 *
h
;

748 
”r
;

750 
	`ASSERT
 (
eİ
 !ğ
NULL
);

751 
h
 = 
eİ
->
içû
->
dev
->
ho¡
;

753 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
eİ
->
h_eİ
, 
USB_TOKEN_SETUP
, 
s
,

754 0,  (
usb_£tup_pkt
), 
NULL
, 
Œue
);

755 ià(
”r
 !ğ
USB_HOST_ERR_NONE
)

757 
	`´štf
 ("usb_dev_setup: failed\n");

761 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
eİ
->
h_eİ
, (
š
è? 
USB_TOKEN_IN
 : 
USB_TOKEN_OUT
,

762 
buf
, 0, 
sz
, &sz, 
Œue
);

764  
sz
;

765 
	}
}

768 
size_t


769 
	$wch¬_to_ascii
 (*
d¡
, cÚ¡ *
¤c
)

771 
size_t
 
sz
 = 0;

772 
sz
 = 0; 
¤c
[sz * 2] != '\0'; sz++)

774 
d¡
[
sz
] = 
¤c
[sz * 2];

776 
d¡
[
sz
] = '\0';

777  
sz
;

778 
	}
}

785 
	$usb_tx_®l
 (
usb_’dpošt
 *
eİ
, *
buf
,

786 
max_by‹s
, 
baout
, 
boŞ
 
š
)

788 
txed
;

789 
tok’
;

790 
´ev_sz
 = 0;

791 
ho¡
 *
h
;

793 ià(
max_by‹s
 <= 0)

796 ià(
baout
 == 0)

797 
baout
 = 512;

799 
txed
 = 0;

800 
tok’
 = (
š
è? 
USB_TOKEN_IN
 : 
USB_TOKEN_OUT
;

801 
h
 = 
eİ
->
içû
->
dev
->
ho¡
;

802 
txed
 < 
max_by‹s
 &&xed < 
baout
)

804 
sz
, 
”r
;

805 
sz
 = 0;

806 
”r
 = 
h
->
dev
->
	`tx_pkt
 (
eİ
->
h_eİ
, 
tok’
,

807 
buf
 + 
txed
, 0, 
max_by‹s
 -xed, &
sz
, 
Œue
);

808 ià(
´ev_sz
 == 0)

809 
´ev_sz
 = 
sz
;

810 
txed
 +ğ
sz
;

812 ià(
”r
 !ğ
USB_HOST_ERR_NONE
 || 
sz
 !ğ
´ev_sz
 || sz == 0)

814  
txed
;

817  
txed
;

818 
	}
}

	@devices/usb.h

1 #iâdeà
USB_H


3 
	#USB_H


	)

5 
	~<¡dšt.h
>

6 
	~<¡dboŞ.h
>

7 
	~<k”Ãl/li¡.h
>

9 
	#USB_HOST_ERR_NONE
 0

	)

10 
	#USB_HOST_ERR_BITSTUFF
 1

	)

11 
	#USB_HOST_ERR_TIMEOUT
 2

	)

12 
	#USB_HOST_ERR_NAK
 3

	)

13 
	#USB_HOST_ERR_BABBLE
 4

	)

14 
	#USB_HOST_ERR_BUFFER
 5

	)

15 
	#USB_HOST_ERR_STALL
 6

	)

16 
	#USB_HOST_ERR_NODEV
 7

	)

18 
	#make_usb_pid
(
x
è((xè| ((~(x)è<< 4))

	)

21 
	#USB_PID_OUT
 
	`make_usb_pid
(1)

	)

22 
	#USB_PID_IN
 
	`make_usb_pid
(9)

	)

23 
	#USB_PID_SOF
 
	`make_usb_pid
(5)

	)

24 
	#USB_PID_SETUP
 
	`make_usb_pid
(13)

	)

26 
	#USB_PID_DATA0
 
	`make_usb_pid
(3)

	)

27 
	#USB_PID_DATA1
 
	`make_usb_pid
(11)

	)

28 
	#USB_PID_DATA2
 
	`make_usb_pid
(7)

	)

29 
	#USB_PID_MDATA
 
	`make_usb_pid
(15)

	)

31 
	#USB_PID_ACK
 
	`make_usb_pid
(2)

	)

32 
	#USB_PID_NAK
 
	`make_usb_pid
(10)

	)

33 
	#USB_PID_STALL
 
	`make_usb_pid
(14)

	)

34 
	#USB_PID_NYET
 
	`make_usb_pid
(6)

	)

36 
	#USB_PID_PRE
 
	`make_usb_pid
(12)

	)

37 
	#USB_PID_ERR
 
	`make_usb_pid
(12)

	)

38 
	#USB_PID_SPLIT
 
	`make_usb_pid
(8)

	)

39 
	#USB_PID_PING
 
	`make_usb_pid
(4)

	)

42 
	#REQ_STD_GET_STATUS
 0

	)

43 
	#REQ_STD_CLR_FEAT
 1

	)

44 
	#REQ_STD_SET_FEAT
 3

	)

45 
	#REQ_STD_SET_ADDRESS
 5

	)

46 
	#REQ_STD_GET_DESC
 6

	)

47 
	#REQ_STD_SET_DESC
 7

	)

48 
	#REQ_STD_GET_CONFIG
 8

	)

49 
	#REQ_STD_SET_CONFIG
 9

	)

50 
	#REQ_STD_GET_IFACE
 10

	)

51 
	#REQ_STD_SET_IFACE
 11

	)

52 
	#REQ_STD_SYNCH_FRAME
 12

	)

55 
	#USB_TOKEN_SETUP
 0x00

	)

56 
	#USB_TOKEN_IN
 0x80

	)

57 
	#USB_TOKEN_OUT
 0x90

	)

59 
	gşass
;

60 
	gho¡
;

61 *
	tho¡_šfo
;

62 *
	tho¡_eİ_šfo
;

63 *
	tho¡_dev_šfo
;

64 *
	tşass_šfo
;

67 
	susb_içû


69 
	miçû_num
;

70 
	mşass_id
, 
	msubşass_id
;

71 
	m´Ùo
;

73 
usb_dev
 *
	mdev
;

75 
şass
 *
	mşass
;

76 
şass_šfo
 
	mc_šfo
;

78 
li¡_–em
 
	mşass_³”s
;

79 
li¡
 
	m’dpošts
;

81 
li¡_–em
 
	m³”s
;

84 
	#USB_SPEED_1
 0

	)

85 
	#USB_SPEED_1_1
 1

	)

86 
	#USB_SPEED_2
 2

	)

88 
	susb_ho¡


90 cÚ¡ *
	mÇme
;

91 (*
	md‘eù_chªge
è(
	mho¡_šfo
);

92 (*
	mtx_pkt
è(
	mho¡_eİ_šfo
, 
	mpid
, *
	mpkt
,

93 
	mmš_sz
, 
	mmax_sz
, *
	mš_sz
, 
boŞ
 
	mwa™
);

95 
ho¡_eİ_šfo
 (*
ü—‹_eİ
)(
	mho¡_dev_šfo
, 
	meİ
, 
	mmaxpkt
);

96 (*
	m»move_eİ
)(
	mho¡_eİ_šfo
);

98 
ho¡_dev_šfo
 (*
ü—‹_dev_chªÃl
è(
	mho¡_šfo
, 
	mdev_addr
, 
	mv”
);

99 (*
	mmodify_dev_chªÃl
è(
	mho¡_dev_šfo
, 
	mdev_addr
, 
	mv”
);

100 (*
	m»move_dev_chªÃl
è(
	mho¡_dev_šfo
);

102 (*
	m£t_toggË
è(
	mho¡_eİ_šfo
, 
	mtoggË
);

105 
	gusb_dev
;

106 
	susb_şass


108 cÚ¡ 
	mşass_id
;

109 cÚ¡ *
	mÇme
;

113 *(*
	m©ched
è(
	musb_içû
 *);

116 (*
	md‘ached
è(
şass_šfo
 
	mšfo
);

119 
	#USB_VERSION_1_0
 0x100

	)

120 
	#USB_VERSION_1_1
 0x110

	)

121 
	#USB_VERSION_2
 0x200

	)

123 
	#USB_EOP_ATTR_CTL
 0

	)

124 
	#USB_EOP_ATTR_ISO
 1

	)

125 
	#USB_EOP_ATTR_BULK
 2

	)

126 
	#USB_EOP_ATTR_INT
 3

	)

127 
	susb_’dpošt


129 
	meİ
;

130 
	m©Œ
;

131 
	mdœeùiÚ
;

132 
	mmax_pkt
;

133 
	mš‹rv®
;

134 
usb_içû
 *
	miçû
;

135 
ho¡_eİ_šfo
 
	mh_eİ
;

136 
li¡_–em
 
	m³”s
;

139 
	susb_dev


141 
ušt8_t
 
	maddr
;

142 
	musb_v”siÚ
;

143 
	mşass_id
, 
	msubşass_id
;

144 
ušt16_t
 
	m´oduù_id
, 
	mv’dÜ_id
, 
	mdeviû_id
;

145 
	mš‹rçû
;

146 
	mmax_pkt_Ën
;

147 
	mšt_³riod
;

148 *
	mmªuçùu»r
;

149 *
	m´oduù
;

150 
	mpwr
;

151 
boŞ
 
	mignÜe_deviû
;

152 
li¡
 
	mš‹rçûs
;

154 
li¡_–em
 
	mho¡_³”s
;

155 
li¡_–em
 
	msys_³”s
;

157 
usb_içû
 
	mdeçuÉ_içû
;

158 
usb_’dpošt
 
	mcfg_eİ
;

160 
ho¡_dev_šfo
 
	mh_dev
;

161 
ho¡_eİ_šfo
 
	mh_cfg_eİ
;

162 
ho¡
 *
	mho¡
;

166 
	#USB_SETUP_TYPE_STD
 0

	)

167 
	#USB_SETUP_TYPE_CLASS
 1

	)

168 
	#USB_SETUP_TYPE_VENDOR
 2

	)

170 
	#USB_SETUP_RECIP_DEV
 0

	)

171 
	#USB_SETUP_RECIP_IFACE
 1

	)

172 
	#USB_SETUP_RECIP_ENDPT
 2

	)

173 
	#USB_SETUP_RECIP_OTHER
 3

	)

175 #´agm¨
·ck
(1)

176 
	susb_£tup_pkt


178 
ušt8_t
 
	m»c›Á
:5;

179 
ušt8_t
 
	mty³
:2;

180 
ušt8_t
 
	mdœeùiÚ
:1;

181 
ušt8_t
 
	m»que¡
;

182 
ušt16_t
 
	mv®ue
;

183 
ušt16_t
 
	mšdex
;

184 
ušt16_t
 
	mËngth
;

186 #´agm¨
·ck
()

188 
usb_š™
 ();

189 
usb_¡Üage_š™
 ();

191 
usb_»gi¡”_ho¡
 (
usb_ho¡
 *, 
ho¡_šfo
 
šfo
);

192 
usb_uÄegi¡”_ho¡
 (
usb_ho¡
 *, 
ho¡_šfo
 
šfo
);

193 
usb_»gi¡”_şass
 (
usb_şass
 *);

194 
usb_uÄegi¡”_şass
 (
usb_şass
 *);

196 
usb_dev_bulk
 (
usb_’dpošt
 *
eİ
, *
buf
, 
sz
, *
tx
);

197 
usb_dev_£tup
 (
usb_’dpošt
 *
eİ
, 
boŞ
 
š
,

198 
usb_£tup_pkt
 *
s
, *
buf
, 
sz
);

199 
usb_dev_wa™_št
 (
usb_dev
 *);

	@devices/usb_ehci.c

13 
	~"deviûs/pci.h
"

14 
	~"deviûs/usb.h
"

15 
	~<¡dlib.h
>

16 
	~<¡dio.h
>

19 
	#EHCI_REG_CAPLENGTH
 0x00

	)

22 
	#EHCI_REG_CONFIGFLAG
 0x40

	)

24 
ehci_š™
 ();

28 
	$ehci_š™
 ()

30 
pci_dev
 *
pd
;

31 
dev_num
;

33 
dev_num
 = 0;

34 (
pd
 = 
	`pci_g‘_dev_by_şass
 (
PCI_MAJOR_SERIALBUS
, 
PCI_MINOR_USB
,

35 
PCI_USB_IFACE_EHCI
, 
dev_num
)è!ğ
NULL
)

37 
pci_io
 *
io
;

38 
ušt8_t
 
İ_ba£
;

40 
dev_num
++;

41 
io
 = 
	`pci_io_’um
 (
pd
, 
NULL
);

42 ià(
io
 =ğ
NULL
)

44 
	`´štf
 ("IO‚ot found on EHCI device?\n");

47 
	`´štf
 ("Di§blšghEHCI cÚŒŞË¸#%d\n", 
dev_num
 - 1);

48 
İ_ba£
 = 
	`pci_»g_»ad8
 (
io
, 
EHCI_REG_CAPLENGTH
);

51 
	`pci_»g_wr™e32
 (
io
, 
EHCI_REG_CONFIGFLAG
 + 
İ_ba£
, 0);

53 
	}
}

	@devices/usb_hub.c

1 
	~"deviûs/usb.h
"

3 
	~"deviûs/usb_hub.h
"

4 
	~<lib/debug.h
>

6 
	#USB_CLASS_HUB
 0x09

	)

8 
	#REQ_HUB_GET_STATUS
 0

	)

9 
	#REQ_HUB_CLEAR_FEATURE
 1

	)

10 
	#REQ_HUB_SET_FEATURE
 2

	)

11 
	#REQ_HUB_GET_DESC
 6

	)

12 
	#REQ_HUB_SET_DESC
 7

	)

13 
	#REQ_HUB_CLEAR_TT_BUF
 8

	)

14 
	#REQ_HUB_RESET_TT
 9

	)

15 
	#REQ_HUB_GET_TT_STATE
 10

	)

16 
	#REQ_HUB_STOP_TT
 11

	)

18 
	#HUB_SEL_HUB_POWER
 0

	)

19 
	#HUB_SEL_OVER_CURRENT
 1

	)

20 
	#HUB_SEL_PORT_CONN
 0

	)

21 
	#HUB_SEL_PORT_ENABLE
 1

	)

22 
	#HUB_SEL_PORT_SUSPEND
 2

	)

23 
	#HUB_SEL_PORT_OVER_CURRENT
 3

	)

24 
	#HUB_SEL_PORT_RESET
 4

	)

25 
	#HUB_SEL_PORT_POWER
 8

	)

26 
	#HUB_SEL_PORT_LOW_SPEED
 9

	)

28 
	#SETUP_DESC_HUB
 0x29

	)

30 * 
hub_©ched
(
usb_içû
*);

31 
hub_d‘ached
(
şass_šfo
);

33 
usb_şass
 
	ghub_şass
 = {

34 .
©ched
 = 
hub_©ched
,

35 .
	gd‘ached
 = 
hub_d‘ached
,

36 .
	gşass_id
 = 
USB_CLASS_HUB
,

37 .
	gÇme
 = "hub"

41 
	$usb_hub_š™
()

43 
	`usb_»gi¡”_şass
(&
hub_şass
);

44 
	}
}

47 * 
	$hub_©ched
(
usb_içû
* 
ui
 
UNUSED
)

49  
NULL
;

50 
	}
}

52 
	$hub_d‘ached
(
şass_šfo
 
šfo
 
UNUSED
)

54 
	}
}

	@devices/usb_hub.h

1 #iâdeà
HUB_H


3 
	#HUB_H


	)

5 
usb_hub_š™
();

	@devices/usb_storage.c

6 
	~<¡dlib.h
>

7 
	~<¡dio.h
>

8 
	~<¡ršg.h
>

9 
	~<k”Ãl/li¡.h
>

10 
	~<’dŸn.h
>

11 
	~<debug.h
>

12 
	~"th»ads/m®loc.h
"

13 
	~"th»ads/·Îoc.h
"

14 
	~"th»ads/th»ad.h
"

15 
	~"deviûs/tim”.h
"

16 
	~"th»ads/synch.h
"

17 
	~"th»ads/±e.h
"

18 
	~"deviûs/usb.h
"

19 
	~"deviûs/block.h
"

20 
	~"deviûs/·¹™iÚ.h
"

23 
	#USB_CLASS_MASS_STORAGE
 0x08

	)

25 
	#USB_SUBCLASS_RBC
 0x01

	)

26 
	#USB_SUBCLASS_ATAPI
 0x02

	)

27 
	#USB_SUBCLASS_TAPE
 0x03

	)

28 
	#USB_SUBCLASS_UFI
 0x04

	)

29 
	#USB_SUBCLASS_SFF8070
 0x05

	)

30 
	#USB_SUBCLASS_SCSI
 0x06

	)

32 
	#USB_PROTO_COMPLETE
 0x00

	)

33 
	#USB_PROTO_NO_COMPLETE
 0x01

	)

34 
	#USB_PROTO_BULK
 0x50

	)

36 #´agm¨
·ck
(1)

38 
	#CBW_SIG_MAGIC
 0x43425355

	)

40 
	#CBW_FL_IN
 (1 << 7)

	)

41 
	#CBW_FL_OUT
 0

	)

45 
	smsc_cbw


47 
ušt32_t
 
	msig
;

48 
ušt32_t
 
	mg
;

49 
ušt32_t
 
	mtx_Ën
;

50 
ušt8_t
 
	mæags
;

51 
ušt8_t
 
	mlun
;

52 
ušt8_t
 
	mcb_Ën
;

53 
ušt8_t
 
	mcb
[16];

56 
	#CSW_SIG_MAGIC
 0x53425355

	)

57 
	#CSW_STATUS_PASSED
 0

	)

58 
	#CSW_STATUS_FAILED
 1

	)

59 
	#CSW_STATUS_PHASE
 2

	)

61 
	smsc_csw


63 
ušt32_t
 
	msig
;

64 
ušt32_t
 
	mg
;

65 
ušt32_t
 
	m»sidue
;

66 
ušt8_t
 
	m¡©us
;

69 
	sscsi_cdb6


71 
ušt8_t
 
	mİ
;

72 
ušt8_t
 
	mlba
[3];

73 
ušt8_t
 
	mËn
;

74 
ušt8_t
 
	mcÚŒŞ
;

77 
	sscsi_cdb10


79 
ušt8_t
 
	mİ
;

80 
ušt8_t
 
	maùiÚ
;

81 
ušt32_t
 
	mlba
;

82 
ušt8_t
 
	m»sv
;

83 
ušt16_t
 
	mËn
;

84 
ušt8_t
 
	mcÚŒŞ
;

87 
	sscsi_cdb12


89 
ušt8_t
 
	mİ
;

90 
ušt8_t
 
	maùiÚ
;

91 
ušt32_t
 
	mlba
;

92 
ušt32_t
 
	mËn
;

93 
ušt8_t
 
	m»sv
;

94 
ušt8_t
 
	mcÚŒŞ
;

97 
	sscsi_cdb16


99 
ušt8_t
 
	mİ
;

100 
ušt8_t
 
	maùiÚ
;

101 
ušt32_t
 
	mlba
;

102 
ušt32_t
 
	md©a
;

103 
ušt32_t
 
	mËn
;

104 
ušt8_t
 
	m»sv
;

105 
ušt8_t
 
	mcÚŒŞ
;

108 
	sscsi_ÿ·c™y10


110 
ušt32_t
 
	mblocks
;

111 
ušt32_t
 
	mblock_Ën
;

114 
	#SCSI_OP_WRITE6
 0xa

	)

115 
	#SCSI_OP_READ6
 0x8

	)

116 
	#SCSI_OP_TEST_READY
 0x00

	)

117 
	#SCSI_OP_SEEK8
 0x0b

	)

118 
	#SCSI_OP_MODE_SENSE8
 0x1a

	)

119 
	#SCSI_OP_MODE_SELECT8
 0x15

	)

120 
	#SCSI_OP_READ_CAPACITY10
 0x25

	)

121 
	#SCSI_OP_READ_CAPACITY16
 0x9e

	)

122 
	#SCSI_OP_WRITE10
 0x2a

	)

123 
	#SCSI_OP_READ10
 0x28

	)

124 
	#SCSI_OP_SEEK10
 0x2b

	)

125 
	#SCSI_OP_MODE_SENSE10
 0x5a

	)

126 
	#SCSI_OP_MODE_SELECT10
 0x55

	)

129 #´agm¨
·ck
()

131 *
msc_©ched
 (
usb_içû
 *);

132 
msc_d‘ached
 (
şass_šfo
);

134 
msc_»£t_’dpošt
 (
usb_’dpošt
 *
eİ
);

136 
usb_şass
 
	g¡Üage_şass
 = {

137 .
©ched
 = 
msc_©ched
,

138 .
	gd‘ached
 = 
msc_d‘ached
,

139 .
	gÇme
 = "Mass Storage",

140 .
	gşass_id
 = 
USB_CLASS_MASS_STORAGE


143 
	#mci_lock
(
x
è
	`lock_acquœe
(&(x)->
lock
)

	)

144 
	#mci_uÆock
(
x
è
	`lock_»Ëa£
(&(x)->
lock
)

	)

146 
	smsc_şass_šfo


148 
	m»fs
;

149 
lock
 
	mlock
;

150 
usb_içû
 *
	mui
;

151 
	mblk_size
;

152 
	mblk_couÁ
;

153 
boŞ
 
	m»Œyšg
;

154 
ušt32_t
 
	mg
;

155 *
	mbounû_bufãr
;

157 
usb_’dpošt
 *
	meİ_š
;

158 
usb_’dpošt
 *
	meİ_out
;

159 
li¡_–em
 
	m³”s
;

161 
msc_g‘_geom‘ry
 (
msc_şass_šfo
 *);

162 
msc_io
 (
msc_şass_šfo
 *, 
block_£ùÜ_t
, *
buf
, 
boŞ
 
wr
);

163 
msc_»£t_»cov”y
(
msc_şass_šfo
* 
mci
);

164 
msc_bulk_»£t
(
msc_şass_šfo
* 
mci
);

166 
	smsc_blk_šfo


168 
msc_şass_šfo
 *
	mmci
;

171 
li¡
 
	gdeviû_li¡
;

172 
block_İ”©iÚs
 
	gmsc_İ”©iÚs
;

174 
usb_¡Üage_š™
 ();

177 
	$usb_¡Üage_š™
 ()

179 
	`li¡_š™
 (&
deviû_li¡
);

180 
	`usb_»gi¡”_şass
 (&
¡Üage_şass
);

181 
	}
}

184 
şass_šfo


185 
	$msc_©ched
 (
usb_içû
 *
ui
)

187 
dev_no
;

189 
msc_şass_šfo
 *
mci
;

190 
msc_blk_šfo
 *
mbi
;

191 
li¡_–em
 *
li
;

192 
block
 *block;

193 
Çme
[16];

195 ià(
ui
->
subşass_id
 !ğ
USB_SUBCLASS_SCSI
)

197 
	`´štf
 ("usb_storage: Only support SCSI-type devices\n");

198  
NULL
;

201 
mci
 = 
	`m®loc
 ( (
msc_şass_šfo
));

203 
mci
->
»fs
 = 0;

204 
mci
->
»Œyšg
 = 
çl£
;

205 
	`lock_š™
 (&
mci
->
lock
);

206 
mci
->
ui
 = ui;

207 
	`li¡_push_back
 (&
deviû_li¡
, &
mci
->
³”s
);

210 
li
 = 
	`li¡_begš
 (&
ui
->
’dpošts
);

211 
mci
->
eİ_š
 = 
NULL
;

212 
mci
->
eİ_out
 = 
NULL
;

213 
li
 !ğ
	`li¡_’d
 (&
ui
->
’dpošts
))

215 
usb_’dpošt
 *
ue
;

217 
ue
 = 
	`li¡_’Œy
 (
li
, 
usb_’dpošt
, 
³”s
);

218 
li
 = 
	`li¡_Ãxt
 (li);

220 ià(
ue
->
©Œ
 =ğ
USB_EOP_ATTR_BULK
)

222 ià(
ue
->
dœeùiÚ
 == 0)

223 
mci
->
eİ_out
 = 
ue
;

225 
mci
->
eİ_š
 = 
ue
;

229 
	`ASSERT
 (
mci
->
eİ_š
 !ğ
NULL
 && mci->
eİ_out
 != NULL);

231 
	`msc_g‘_geom‘ry
 (
mci
);

233 ià(
mci
->
blk_size
 != 512)

235 
	`´štf
 ("ignÜšg deviû w™h %d-by‹ seùÜs\n", 
mci
->
blk_size
);

236  
NULL
;

239 
mci
->
bounû_bufãr
 = 
	`·Îoc_g‘_muÉË
 (
PAL_ASSERT
,

240 
	`DIV_ROUND_UP
 (
mci
->
blk_size
,

241 
PGSIZE
));

242 
mbi
 = 
	`m®loc
 ( (
msc_blk_šfo
));

243 
mbi
->
mci
 = mci;

244 
	`¢´štf
 (
Çme
, ‚ame, "ud%c", 'a' + 
dev_no
++);

245 
block
 = 
	`block_»gi¡”
 (
Çme
, 
BLOCK_RAW
, "USB", 
mci
->
blk_couÁ
,

246 &
msc_İ”©iÚs
, 
mbi
);

247 
	`·¹™iÚ_sÿn
 (
block
);

249  
mci
;

250 
	}
}

253 
	$msc_d‘ached
 (
şass_šfo
 
ci
 
UNUSED
)

255 
	`PANIC
 ("msc_detached: STUB");

256 
	}
}

259 
	$msc_»ad
 (*
mbi_
, 
block_£ùÜ_t
 
£ùÜ
, *
bufãr
)

261 
msc_blk_šfo
 *
mbi
 = 
mbi_
;

263 
	`mci_lock
 (
mbi
->
mci
);

264 
	`msc_io
 (
mbi
->
mci
, 
£ùÜ
, 
bufãr
, 
çl£
);

265 
	`mci_uÆock
 (
mbi
->
mci
);

266 
	}
}

269 
	$msc_wr™e
 (*
mbi_
, 
block_£ùÜ_t
 
£ùÜ
, cÚ¡ *
bufãr
)

271 
msc_blk_šfo
 *
mbi
 = 
mbi_
;

273 
	`mci_lock
 (
mbi
->
mci
);

274 
	`msc_io
 (
mbi
->
mci
, 
£ùÜ
, (*è
bufãr
, 
Œue
);

275 
	`mci_uÆock
 (
mbi
->
mci
);

276 
	}
}

278 
block_İ”©iÚs
 
	gmsc_İ”©iÚs
 =

280 
msc_»ad
,

281 
msc_wr™e
,

285 
	$msc_g‘_geom‘ry
 (
msc_şass_šfo
 *
mci
)

287 
msc_cbw
 
cbw
;

288 
scsi_ÿ·c™y10
 *
ÿp
;

289 
ušt8_t
 
buf
[ (
msc_csw
è+  (
scsi_ÿ·c™y10
)];

290 
scsi_cdb10
 *
cdb
;

291 
msc_csw
 *
csw
;

292 
tx
;

295 
ÿp
 = (
scsi_ÿ·c™y10
 *è(
buf
);

296 
csw
 = (
msc_csw
 *è(&
buf
[ (
scsi_ÿ·c™y10
)]);

298 
cbw
.
sig
 = 
CBW_SIG_MAGIC
;

299 
cbw
.
g
 = 
mci
->tag++;

300 
cbw
.
tx_Ën
 =  (
scsi_ÿ·c™y10
);

301 
cbw
.
æags
 = 
CBW_FL_IN
;

302 
cbw
.
lun
 = 0;

303 
cbw
.
cb_Ën
 =  (
scsi_cdb10
);

305 
cdb
 = (*è(&
cbw
.
cb
);

306 
	`mem£t
 (
cdb
, 0,  (
scsi_cdb10
));

307 
cdb
->
İ
 = 
SCSI_OP_READ_CAPACITY10
;

309 
	`usb_dev_bulk
 (
mci
->
eİ_out
, &
cbw
,  (cbw), &
tx
);

310 
	`usb_dev_bulk
 (
mci
->
eİ_š
, &
buf
,  (buf), &
tx
);

312 
mci
->
blk_couÁ
 = 
	`be32_to_machše
 (
ÿp
->
blocks
) + 1;

313 
mci
->
blk_size
 = 
	`be32_to_machše
 (
ÿp
->
block_Ën
);

316 ià(
tx
 =ğ (
scsi_ÿ·c™y10
))

318 
	`msc_»£t_’dpošt
 (
mci
->
eİ_š
);

319 
	`usb_dev_bulk
 (
mci
->
eİ_š
, 
csw
,  (*csw), &
tx
);

322 
	`ASSERT
 (
csw
->
sig
 =ğ
CSW_SIG_MAGIC
);

324 ià(
csw
->
¡©us
 !ğ
CSW_STATUS_PASSED
)

326 
	`PANIC
 ("USB storage geometry„ead failure!\n");

329 
	}
}

332 
	$msc_io
 (
msc_şass_šfo
 *
mci
, 
block_£ùÜ_t
 
bn
, *
buf
, 
boŞ
 
wr
)

334 
msc_cbw
 
cbw
;

335 
msc_csw
 
csw
;

336 
scsi_cdb10
 *
cdb
;

337 
tx
;

338 
”r
;

340 ià(
wr
)

341 
	`memıy
 (
mci
->
bounû_bufãr
, 
buf
, mci->
blk_size
);

343 
	`mem£t
 (&
cbw
, 0,  (cbw));

344 
cbw
.
sig
 = 
CBW_SIG_MAGIC
;

345 
cbw
.
g
 = 
mci
->tag++;

346 
cbw
.
tx_Ën
 = 
mci
->
blk_size
;

347 
cbw
.
æags
 = (
wr
è? 
CBW_FL_OUT
 : 
CBW_FL_IN
;

348 
cbw
.
lun
 = 0;

349 
cbw
.
cb_Ën
 =  (
scsi_cdb10
);

351 
cdb
 = (*è(&
cbw
.
cb
);

352 
cdb
->
İ
 = (
wr
è? 
SCSI_OP_WRITE10
 : 
SCSI_OP_READ10
;

353 *((
ušt32_t
 *è((
ušt8_t
 *è(&
cdb
->
lba
è+ 1)èğ
	`machše_to_be24
 (
bn
);

354 
cdb
->
Ën
 = 
	`machše_to_be16
 (1);

360 
”r
 = 
	`usb_dev_bulk
 (
mci
->
eİ_out
, &
cbw
,  (cbw), &
tx
);

361 ià(
”r
 != 0)

363 
	`msc_»£t_’dpošt
 (
mci
->
eİ_out
);

364 
”r
 = 
	`usb_dev_bulk
 (
mci
->
eİ_out
, &
cbw
,  (cbw), &
tx
);

368 
”r
 = 
	`usb_dev_bulk
 ((
wr
è? 
mci
->
eİ_out
 : mci->
eİ_š
,

369 
mci
->
bounû_bufãr
, mci->
blk_size
, &
tx
);

370 
	`mem£t
 (&
csw
, 0,  (csw));

371 
	`ASSERT
 (
tx
 =ğ
mci
->
blk_size
);

375 
”r
 = 
	`usb_dev_bulk
 (
mci
->
eİ_š
, &
csw
,  (csw), &
tx
);

376 ià(
”r
 != 0)

378 
	`msc_»£t_’dpošt
 (
mci
->
eİ_š
);

379 
	`msc_»£t_’dpošt
 (
mci
->
eİ_out
);

380 
”r
 = 
	`usb_dev_bulk
 (
mci
->
eİ_š
, &
csw
,  (csw), &
tx
);

381 ià(
”r
 != 0)

382 
	`PANIC
 ("msc_io:ƒ¼Ü %d\n", 
”r
);

385 ià(
csw
.
sig
 !ğ
CSW_SIG_MAGIC
)

387 ià(
mci
->
»Œyšg
 =ğ
Œue
)

388 
	`PANIC
 ("usb_msd: CSW still missing. Bail out\n");

389 
	`´štf
 ("usb_msd:‚o command status,„esetting. Buggy device?\n");

390 
	`msc_»£t_»cov”y
(
mci
);

391 
	`´štf
 ("reset complete\n");

392 
mci
->
»Œyšg
 = 
Œue
;

393 
	`msc_io
 (
mci
, 
bn
, 
buf
, 
wr
);

396 
mci
->
»Œyšg
 = 
çl£
;

398 ià(
csw
.
¡©us
 !ğ
CSW_STATUS_PASSED
)

400 
	`PANIC
 ("USB stÜagIO fau»! -ƒ¼Ü %d\n", 
csw
.
¡©us
);

402 ià(!
wr
)

403 
	`memıy
 (
buf
, 
mci
->
bounû_bufãr
, mci->
blk_size
);

404 
	}
}

407 
	$msc_»£t_’dpošt
 (
usb_’dpošt
 *
eİ
)

409 
usb_£tup_pkt
 
¥
;

411 
¥
.
»c›Á
 = 
USB_SETUP_RECIP_ENDPT
;

412 
¥
.
ty³
 = 
USB_SETUP_TYPE_STD
;

413 
¥
.
dœeùiÚ
 = 0;

414 
¥
.
»que¡
 = 
REQ_STD_CLR_FEAT
;

415 
¥
.
v®ue
 = 0;

416 
¥
.
šdex
 = 
eİ
->eop;

417 
¥
.
Ëngth
 = 0;

418 
	`usb_dev_£tup
 (
eİ
, 
Œue
, &
¥
, 
NULL
, 0);

419 
	}
}

422 
	$msc_»£t_»cov”y
(
msc_şass_šfo
* 
mci
)

424 
	`msc_bulk_»£t
 (
mci
);

425 
	`msc_»£t_’dpošt
 (
mci
->
eİ_š
);

426 
	`msc_»£t_’dpošt
 (
mci
->
eİ_out
);

427 
	}
}

429 
	$msc_bulk_»£t
(
msc_şass_šfo
* 
mci
)

431 
usb_£tup_pkt
 
¥
;

433 
¥
.
»c›Á
 = 
USB_SETUP_RECIP_DEV
;

434 
¥
.
ty³
 = 
USB_SETUP_TYPE_CLASS
;

435 
¥
.
dœeùiÚ
 = 0;

436 
¥
.
»que¡
 = 0xff;

437 
¥
.
v®ue
 = 0;

438 
¥
.
šdex
 = 
mci
->
ui
->
içû_num
;

439 
¥
.
Ëngth
 = 0;

440 
	`usb_dev_£tup
 (&
mci
->
ui
->
dev
->
cfg_eİ
, 
Œue
, &
¥
, 
NULL
, 0);

441 
	}
}

	@devices/usb_uhci.c

9 
	~<round.h
>

10 
	~<¡dio.h
>

11 
	~<¡ršg.h
>

12 
	~<k”Ãl/b™m­.h
>

13 
	~"th»ads/±e.h
"

14 
	~"th»ads/m®loc.h
"

15 
	~"th»ads/·Îoc.h
"

16 
	~"th»ads/synch.h
"

17 
	~"th»ads/š‹¼u±.h
"

18 
	~"th»ads/th»ad.h
"

19 
	~"deviûs/pci.h
"

20 
	~"deviûs/usb.h
"

21 
	~"deviûs/tim”.h
"

23 
	#UHCI_MAX_PORTS
 8

	)

25 
	#FRAME_LIST_ENTRIES
 1024

	)

26 
	#TD_ENTRIES
 (4096/32è

	)

27 
	#QH_ENTRIES
 (4096/16)

	)

30 
	#UHCI_REG_USBCMD
 0x00

	)

31 
	#UHCI_REG_USBSTS
 0x02

	)

32 
	#UHCI_REG_USBINTR
 0x04

	)

33 
	#UHCI_REG_FRNUM
 0x06

	)

34 
	#UHCI_REG_FLBASEADD
 0x08

	)

35 
	#UHCI_REG_SOFMOD
 0x0ø

	)

36 
	#UHCI_REG_PORTSC1
 0x10

	)

37 
	#UHCI_REG_PORTSC2
 0x12

	)

38 
	#UHCI_REGSZ
 0x20

	)

41 
	#UHCI_REG_LEGSUP
 0xC0

	)

45 
	#USB_CMD_MAX_PACKET
 (1 << 7)

	)

46 
	#USB_CMD_CONFIGURE
 (1 << 6)

	)

47 
	#USB_CMD_FGR
 (1 << 4è

	)

48 
	#USB_CMD_EGSM
 (1 << 3è

	)

49 
	#USB_CMD_GRESET
 (1 << 2è

	)

50 
	#USB_CMD_HCRESET
 (1 << 1è

	)

51 
	#USB_CMD_RS
 (1 << 0è

	)

54 
	#USB_STATUS_HALTED
 (1 << 5)

	)

55 
	#USB_STATUS_PROCESSERR
 (1 << 4)

	)

56 
	#USB_STATUS_HOSTERR
 (1 << 3)

	)

57 
	#USB_STATUS_RESUME
 (1 << 2)

	)

58 
	#USB_STATUS_INTERR
 (1 << 1)

	)

59 
	#USB_STATUS_USBINT
 (1 << 0)

	)

62 
	#USB_INTR_SHORT
 (1 << 3è

	)

63 
	#USB_INTR_IOC
 (1 << 2è

	)

64 
	#USB_INTR_RESUME
 (1 << 1è

	)

65 
	#USB_INTR_TIMEOUT
 (1 << 0è

	)

68 
	#USB_PORT_SUSPEND
 (1 << 12)

	)

69 
	#USB_PORT_RESET
 (1 << 9)

	)

70 
	#USB_PORT_LOWSPEED
 (1 << 8)

	)

71 
	#USB_PORT_RESUMED
 (1 << 6è

	)

72 
	#USB_PORT_CHANGE
 (1 << 3è

	)

73 
	#USB_PORT_ENABLE
 (1 << 2è

	)

74 
	#USB_PORT_CONNECTCHG
 (1 << 1è

	)

75 
	#USB_PORT_CONNECTSTATUS
 (1 << 0è

	)

77 
	#±r_to_æp
(
x
è(((
ušŒ_t
)xè>> 4)

	)

78 
	#æp_to_±r
(
x
è(
ušŒ_t
)(((ušŒ_t)xè<< 4)

	)

81 #´agm¨
·ck
(1)

82 
	säame_li¡_±r


84 
ušt32_t
 
	m‹rmš©e
:1;

85 
ušt32_t
 
	mqh_£Ëù
:1;

86 
ušt32_t
 
	md•th_£Ëù
:1;

87 
ušt32_t
 
	m»sv
:1;

88 
ušt32_t
 
	mæp
:28;

91 
	std_tok’


93 
ušt32_t
 
	mpid
:8;

94 
ušt32_t
 
	mdev_addr
:7;

95 
ušt32_t
 
	m’d_pošt
:4;

96 
ušt32_t
 
	md©a_toggË
:1;

97 
ušt32_t
 
	m»sv
:1;

98 
ušt32_t
 
	mmaxËn
:11;

101 
	std_cÚŒŞ


103 
ušt32_t
 
	maùu®_Ën
:11;

104 
ušt32_t
 
	m»sv1
:5;

107 
ušt32_t
 
	m»sv2
:1;

108 
ušt32_t
 
	mb™¡uff
:1;

109 
ušt32_t
 
	mtimeout
:1;

110 
ušt32_t
 
	mÇk
:1;

111 
ušt32_t
 
	mbabbË
:1;

112 
ušt32_t
 
	mbufãr_”rÜ
:1;

113 
ušt32_t
 
	m¡®Ëd
:1;

114 
ušt32_t
 
	maùive
:1;

117 
ušt32_t
 
	mioc
:1;

118 
ušt32_t
 
	mios
:1;

119 
ušt32_t
 
	mls
:1;

120 
ušt32_t
 
	m”rÜ_lim™
:2;

121 
ušt32_t
 
	m¥d
:1;

122 
ušt32_t
 
	m»sv3
:2;

125 
	#TD_FL_ASYNC
 1

	)

126 
	#TD_FL_USED
 0x80000000

	)

128 
	stx_desütÜ


130 
äame_li¡_±r
 
	mæp
;

131 
td_cÚŒŞ
 
	mcÚŒŞ
;

132 
td_tok’
 
	mtok’
;

133 
ušt32_t
 
	mbuf_±r
;

136 
äame_li¡_±r
 *
	mh—d
;

137 
ušt32_t
 
	mæags
;

140 
	squeue_h—d


142 
äame_li¡_±r
 
	mqhÍ
;

143 
äame_li¡_±r
 
	mq–p
;

145 #´agm¨
·ck
()

147 
	suhci_šfo


149 
pci_dev
 *
	mdev
;

150 
pci_io
 *
	mio
;

151 
lock
 
	mlock
;

152 
äame_li¡_±r
 *
	mäame_li¡
;

154 
tx_desütÜ
 *
	mtd_poŞ
;

155 
b™m­
 *
	mtd_u£d
;

156 
queue_h—d
 *
	mqh_poŞ
;

157 
b™m­
 *
	mqh_u£d
;

159 
ušt8_t
 
	mnum_pÜts
;

160 
ušt8_t
 
	m©ched_pÜts
;

162 
	mtimeouts
;

164 
£m­hÜe
 
	mtd_£m
;

165 
li¡
 
	mdeviûs
;

166 
li¡
 
	mwa™šg
;

169 
	susb_wa™


171 
tx_desütÜ
 *
	mtd
;

172 
uhci_dev_šfo
 *
	mud
;

173 
£m­hÜe
 
	m£m
;

174 
li¡_–em
 
	m³”s
;

177 
	suhci_dev_šfo


179 
uhci_šfo
 *
	mui
;

180 
boŞ
 
	mlow_¥“d
;

181 
	mdev_addr
;

182 
	m”rÜs
;

183 
li¡_–em
 
	m³”s
;

184 
lock
 
	mlock
;

185 
queue_h—d
 *
	mqh
;

188 
	suhci_eİ_šfo


190 
uhci_dev_šfo
 *
	mud
;

191 
	meİ
;

192 
	mmaxpkt
;

193 
	mtoggË
;

196 
	#uhci_lock
(
x
è
	`lock_acquœe
(&(x)->
lock
)

	)

197 
	#uhci_uÆock
(
x
è
	`lock_»Ëa£
(&(x)->
lock
)

	)

198 
	#dev_lock
(
x
è
	`lock_acquœe
(&(x)->
lock
)

	)

199 
	#dev_uÆock
(
x
è
	`lock_»Ëa£
(&(x)->
lock
)

	)

202 
tok’_to_pid
 (
tok’
);

204 
uhci_tx_pkt
 (
ho¡_eİ_šfo
 
eİ
, 
tok’
, *
pkt
,

205 
mš_sz
, 
max_sz
, *
š_sz
, 
boŞ
 
wa™
);

207 
uhci_d‘eù_chªge
 (
ho¡_šfo
);

210 
uhci_tx_pkt_now
 (
uhci_eİ_šfo
 *
ue
, 
tok’
, *
pkt
,

211 
sz
);

212 
uhci_tx_pkt_wa™
 (
uhci_eİ_šfo
 *
ue
, 
tok’
, *
pkt
,

213 
max_sz
, *
š_sz
);

214 
uhci_tx_pkt_bulk
 (
uhci_eİ_šfo
 *
ue
, 
tok’
, *
buf
,

215 
sz
, *
tx
);

218 
uhci_´oûss_com¶‘ed
 (
uhci_šfo
 *
ui
);

220 
tx_desütÜ
 *
uhci_acquœe_td
 (
uhci_šfo
 *);

221 
uhci_»Ëa£_td
 (
uhci_šfo
 *, 
tx_desütÜ
 *);

222 
uhci_»move_qh
 (
uhci_šfo
 *
ui
, 
queue_h—d
 *
qh
);

225 
qh_ä“
 (
uhci_šfo
 *
ui
, 
queue_h—d
 *
qh
);

226 
queue_h—d
 *
qh_®loc
 (
uhci_šfo
 *
ui
);

228 
uhci_šfo
 *
uhci_ü—‹_šfo
 (
pci_io
 *
io
);

229 
	$uhci_de¡roy_šfo
 (
uhci_šfo
 *
ui
è
UNUSED
;

230 
ho¡_eİ_šfo
 
	`uhci_ü—‹_eİ
 (
ho¡_dev_šfo
 
hd
, 
eİ
, 
maxpkt
);

231 
	`uhci_»move_eİ
 (
ho¡_eİ_šfo
 
hei
);

232 
ho¡_dev_šfo
 
	`uhci_ü—‹_chª
 (
ho¡_šfo
 
hi
, 
dev_addr
, 
v”
);

233 
	`uhci_de¡roy_chª
 (
ho¡_dev_šfo
);

234 
	`uhci_modify_chª
 (
ho¡_dev_šfo
, 
dev_addr
, 
v”
);

235 
	`uhci_£t_toggË
 (
ho¡_eİ_šfo
, 
toggË
);

237 
tx_desütÜ
 *
	`td_äom_poŞ
 (
uhci_šfo
 *
ui
, 
idx
);

239 
	`check_ªd_æ_chªge
 (
uhci_šfo
 *
ui
, 
»g
);

240 
	`uhci_¡İ
 (
uhci_šfo
 *
ui
);

241 
	`uhci_run
 (
uhci_šfo
 *
ui
);

242 
	`uhci_¡İ_uÆocked
 (
uhci_šfo
 *
ui
);

243 
	`uhci_run_uÆocked
 (
uhci_šfo
 *
ui
);

244 
	#uhci_is_¡İ³d
(
x
è(
	`pci_»g_»ad16
((x)->
io
, 
UHCI_REG_USBSTS
) \

245 & 
USB_STATUS_HALTED
)

	)

246 
	#uhci_pÜt_’abËd
(
x
, 
y
è(
	`pci_»g_»ad16
((x)->
io
, (y)è& 
USB_PORT_ENABLE
)

	)

247 
	`uhci_add_td_to_qh
 (
queue_h—d
 *
qh
,

248 
tx_desütÜ
 *
td
);

249 
	`uhci_»move_”rÜ_td
 (
tx_desütÜ
 *
td
);

250 
	`uhci_£tup_td
 (
tx_desütÜ
 *
td
, 
dev_addr
, 
tok’
,

251 
eİ
, *
pkt
, 
sz
, 
toggË
, 
boŞ
 
ls
);

252 
	`uhci_’abË_pÜt
 (
uhci_šfo
 *
ui
, 
pÜt
);

253 
	`uhci_œq
 (*
uhci_d©a
);

254 
	`uhci_d‘eù_pÜts
 (
uhci_šfo
 *
ui
);

256 
	`uhci_»move_¡®Ëd
 (
uhci_šfo
 *
ui
);

257 
	$uhci_¡®l_w©chdog
 (
uhci_šfo
 *
ui
è
UNUSED
;

259 
	`dump_®l_qh
 (
uhci_šfo
 *
ui
);

260 
	`dump_qh
 (
queue_h—d
 *
qh
);

262 
	`dump_»gs
 (
uhci_šfo
 *
ui
);

264 
	`uhci_š™
 ();

266 
usb_ho¡
 
uhci_ho¡
 = {

267 .
Çme
 = "UHCI",

268 .
tx_pkt
 = 
uhci_tx_pkt
,

269 .
d‘eù_chªge
 = 
uhci_d‘eù_chªge
,

270 .
ü—‹_dev_chªÃl
 = 
uhci_ü—‹_chª
,

271 .
»move_dev_chªÃl
 = 
uhci_de¡roy_chª
,

272 .
modify_dev_chªÃl
 = 
uhci_modify_chª
,

273 .
£t_toggË
 = 
uhci_£t_toggË
,

274 .
ü—‹_eİ
 = 
uhci_ü—‹_eİ
,

275 .
»move_eİ
 = 
uhci_»move_eİ


276 
	}
};

279 
	$uhci_š™
 ()

281 
pci_dev
 *
pd
;

282 
dev_num
;

284 
dev_num
 = 0;

285 (
pd
 = 
	`pci_g‘_dev_by_şass
 (
PCI_MAJOR_SERIALBUS
, 
PCI_MINOR_USB
,

286 
PCI_USB_IFACE_UHCI
, 
dev_num
)è!ğ
NULL
)

288 
pci_io
 *
io
;

289 
uhci_šfo
 *
ui
;

290 
i
;

292 
dev_num
++;

295 
io
 = 
NULL
;

296 (
io
 = 
	`pci_io_’um
 (
pd
, io)è!ğ
NULL
)

298 ià(
	`pci_io_size
 (
io
è=ğ
UHCI_REGSZ
)

303 ià(
io
 =ğ
NULL
)

306 
ui
 = 
	`uhci_ü—‹_šfo
 (
io
);

307 
ui
->
dev
 = 
pd
;

309 
	`uhci_d‘eù_pÜts
 (
ui
);

311 
	`pci_wr™e_cÚfig16
 (
ui
->
dev
, 
UHCI_REG_LEGSUP
, 0x8f00);

312 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_USBCMD
, 
USB_CMD_HCRESET
);

313 
asm
 volatile ("mfence":::"memory");

314 
	`tim”_u¦“p
 (5);

315 ià(
	`pci_»g_»ad16
 (
ui
->
io
, 
UHCI_REG_USBCMD
è& 
USB_CMD_HCRESET
)

316 
	`´štf
 ("reset failed!\n");

317 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_USBINTR
, 0);

318 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_USBCMD
, 0);

320 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_PORTSC1
, 0);

321 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_PORTSC2
, 0);

323 
	`pci_»g_wr™e8
 (
ui
->
io
, 
UHCI_REG_SOFMOD
, 64);

324 
	`pci_»g_wr™e32
 (
ui
->
io
, 
UHCI_REG_FLBASEADD
, 
	`vtİ
 (ui->
äame_li¡
));

325 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_FRNUM
, 0);

326 
asm
 volatile ("mfence":::"memory");

329 
	`pci_wr™e_cÚfig16
 (
ui
->
dev
, 
UHCI_REG_LEGSUP
, 0x2000);

331 
asm
 volatile ("mfence":::"memory");

333 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_USBCMD
,

334 
USB_CMD_RS
 | 
USB_CMD_CONFIGURE
 | 
USB_CMD_MAX_PACKET
);

335 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_USBINTR
,

336 
USB_INTR_SHORT
 | 
USB_INTR_IOC
 |

337 
USB_INTR_TIMEOUT
 | 
USB_INTR_RESUME
);

339 
asm
 volatile ("mfence":::"memory");

341 
	`´štf
 ("UHCI: EÇblšg %d„oÙ…Üts\n", 
ui
->
num_pÜts
);

342 
ui
->
©ched_pÜts
 = 0;

343 
i
 = 0; i < 
ui
->
num_pÜts
; i++)

344 
ui
->
©ched_pÜts
 +ğ
	`uhci_’abË_pÜt
 (ui, 
i
);

346 
	`pci_»gi¡”_œq
 (
pd
, 
uhci_œq
, 
ui
);

348 
	`usb_»gi¡”_ho¡
 (&
uhci_ho¡
, 
ui
);

350 
	}
}

352 
	#UHCI_PORT_TIMEOUT
 1000

	)

354 
	$uhci_’abË_pÜt
 (
uhci_šfo
 *
ui
, 
idx
)

356 
ušt16_t
 
¡©us
;

357 
time
, 
¡abË_sšû
;

358 
couÁ
;

359 
pÜt
;

361 
pÜt
 = 
UHCI_REG_PORTSC1
 + 
idx
 * 2;

363 
¡©us
 = 0xffff;

364 
¡abË_sšû
 = 0;

365 
time
 = 0; ;ime += 25)

367 
ušt16_t
 
Ãw_¡©us
;

368 
Ãw_¡©us
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
pÜt
);

369 ià(
¡©us
 !ğ(
Ãw_¡©us
 & 
USB_PORT_CONNECTSTATUS
)

370 || 
Ãw_¡©us
 & 
USB_PORT_CONNECTCHG
)

372 ià(
Ãw_¡©us
 & 
USB_PORT_CONNECTCHG
)

373 
	`pci_»g_wr™e16
 (
ui
->
io
, 
pÜt
, (
Ãw_¡©us
 & ~0xe80aè| 
USB_PORT_CONNECTCHG
);

374 
¡abË_sšû
 = 
time
;

375 
¡©us
 = 
Ãw_¡©us
 & 
USB_PORT_CONNECTSTATUS
;

377 ià(
time
 - 
¡abË_sšû
 >= 100)

379 ià(
time
 >= 1500)

381 
	`tim”_m¦“p
 (25);

384 ià(!(
¡©us
 & 
USB_PORT_CONNECTSTATUS
))

387 
couÁ
 = 0; count < 3; count++)

389 
¡©us
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
pÜt
) & ~0xe80a;

390 
	`pci_»g_wr™e16
 (
ui
->
io
, 
pÜt
, 
¡©us
 | 
USB_PORT_RESET
);

391 
	`tim”_m¦“p
 (50);

393 
¡©us
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
pÜt
) & ~0xe80a;

394 
	`pci_»g_wr™e16
 (
ui
->
io
, 
pÜt
, 
¡©us
 & ~
USB_PORT_RESET
);

395 
	`tim”_u¦“p
 (10);

397 
¡©us
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
pÜt
) & ~0xe80a;

398 
	`pci_»g_wr™e16
 (
ui
->
io
, 
pÜt
, 
¡©us
 & ~(
USB_PORT_CONNECTCHG
 | 
USB_PORT_CHANGE
));

400 
¡©us
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
pÜt
) & ~0xe80a;

401 
	`pci_»g_wr™e16
 (
ui
->
io
, 
pÜt
, 
¡©us
 | 
USB_PORT_ENABLE
);

403 
¡©us
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
pÜt
);

404 ià(
¡©us
 & 
USB_PORT_ENABLE
)

408 ià(!(
¡©us
 & 
USB_PORT_CONNECTSTATUS
))

410 
	`pci_»g_wr™e16
 (
ui
->
io
, 
pÜt
, 0);

415 
	}
}

419 
	$dump_»gs
 (
uhci_šfo
 *
ui
)

421 
»gs
[] = { 0, 2, 4, 6, 8, 0xc, 0x10, 0x12 };

422 
sz
[] = { 2, 2, 2, 2, 4, 2, 2, 2 };

423 *
Çme
[] =

425 
i
;

426 
	`´štf
 ("UHCI„egisters:\n");

427 
i
 = 0; i < 8; i++)

429 
	`´štf
 ("%s: %x\n", 
Çme
[
i
], (
sz
[i] == 2) ?

430 
	`pci_»g_»ad16
 (
ui
->
io
, 
»gs
[
i
]) :

431 
	`pci_»g_»ad32
 (
ui
->
io
, 
»gs
[
i
]));

434 
	}
}

437 
	$uhci_de¡roy_šfo
 (
uhci_šfo
 *
ui
)

439 
	`·Îoc_ä“_·ge
 (
ui
->
äame_li¡
);

440 
	`·Îoc_ä“_·ge
 (
ui
->
td_poŞ
);

441 
	`·Îoc_ä“_·ge
 (
ui
->
qh_poŞ
);

442 
	`b™m­_de¡roy
 (
ui
->
qh_u£d
);

443 
	`b™m­_de¡roy
 (
ui
->
td_u£d
);

444 
	`ä“
 (
ui
);

445 
	}
}

447 
uhci_šfo
 *

448 
	$uhci_ü—‹_šfo
 (
pci_io
 *
io
)

450 
uhci_šfo
 *
ui
;

451 
i
;

453 
ui
 = 
	`m®loc
 ( (
uhci_šfo
));

455 
ui
->
io
 = io;

456 
	`lock_š™
 (&
ui
->
lock
);

459 
ui
->
äame_li¡
 = 
	`·Îoc_g‘_·ge
 (
PAL_ASSERT
 | 
PAL_NOCACHE
);

460 
	`mem£t
 (
ui
->
äame_li¡
, 0, 
PGSIZE
);

461 
i
 = 0; i < 
FRAME_LIST_ENTRIES
; i++)

462 
ui
->
äame_li¡
[
i
].
‹rmš©e
 = 1;

465 
ui
->
timeouts
 = 3;

468 
ui
->
td_poŞ
 = 
	`·Îoc_g‘_·ge
 (
PAL_ASSERT
 | 
PAL_NOCACHE
);

469 
ui
->
td_u£d
 = 
	`b™m­_ü—‹
 (
TD_ENTRIES
);

470 
ui
->
qh_poŞ
 = 
	`·Îoc_g‘_·ge
 (
PAL_ASSERT
 | 
PAL_NOCACHE
);

471 
ui
->
qh_u£d
 = 
	`b™m­_ü—‹
 (
QH_ENTRIES
);

472 
	`£ma_š™
 (&
ui
->
td_£m
, 
TD_ENTRIES
);

474 
	`li¡_š™
 (&
ui
->
deviûs
);

475 
	`li¡_š™
 (&
ui
->
wa™šg
);

477  
ui
;

478 
	}
}

482 
	$uhci_tx_pkt
 (
ho¡_eİ_šfo
 
hei
, 
tok’
, *
pkt
, 
mš_sz
,

483 
max_sz
, *
š_sz
, 
boŞ
 
wa™
)

485 
uhci_eİ_šfo
 *
ue
;

486 
uhci_dev_šfo
 *
ud
;

488 
	`ASSERT
 (
mš_sz
 <ğ
max_sz
);

491 ià(
pkt
 !ğ
NULL
)

493 
	`ASSERT
 (
max_sz
 > 0);

494 
	`ASSERT
 (
	`pg_no
 (
pkt
 + 
max_sz
 - 1) ==…g_no (pkt));

497 
ue
 = 
hei
;

498 
ud
 = 
ue
->ud;

501 ià(
ud
->
ui
->
©ched_pÜts
 == 0)

503  
USB_HOST_ERR_NODEV
;

507 ià(
tok’
 =ğ
USB_TOKEN_SETUP
)

508 
ue
->
toggË
 = 0;

510 ià(
mš_sz
 != 0)

512  
	`uhci_tx_pkt_bulk
 (
ue
, 
tok’
, 
pkt
, 
max_sz
, 
š_sz
);

516 ià(
wa™
 =ğ
çl£
)

518 ià(
š_sz
 !ğ
NULL
)

519 *
š_sz
 = 
max_sz
;

520  
	`uhci_tx_pkt_now
 (
ue
, 
tok’
, 
pkt
, 
max_sz
);

524  
	`uhci_tx_pkt_wa™
 (
ue
, 
tok’
, 
pkt
, 
max_sz
, 
š_sz
);

529 
	}
}

532 
	$uhci_tx_pkt_bulk
 (
uhci_eİ_šfo
 *
ue
, 
tok’
, *
buf
,

533 
sz
, *
tx
)

536 
by‹s
 = 0;

537 
txed
 = 0;

540 
by‹s
 < 
sz
)

542 
to_tx
, 
pkt_txed
;

543 
Ëá
;

544 
”r
;

545 
boŞ
 
wa™_Ú_pkt
;

547 
Ëá
 = 
sz
 - 
by‹s
;

548 
to_tx
 = (
Ëá
 > 
ue
->
maxpkt
) ? ue->maxpkt :†eft;

549 
wa™_Ú_pkt
 = (
Ëá
 <ğ
to_tx
è? 
Œue
 : 
çl£
;

551 
pkt_txed
 = 0;

552 
”r
 = 
	`uhci_tx_pkt
 (
ue
, 
tok’
, 
buf
 + 
by‹s
, 0, 
to_tx
, &
pkt_txed
,

553 
wa™_Ú_pkt
);

554 ià(
”r
)

556 ià(
tx
 !ğ
NULL
)

557 *
tx
 = 
txed
;

558  
”r
;

560 
txed
 +ğ
pkt_txed
;

561 
by‹s
 +ğ
pkt_txed
;

564 ià(
tx
 !ğ
NULL
)

565 *
tx
 = 
txed
;

567  
USB_HOST_ERR_NONE
;

568 
	}
}

571 
	$tok’_to_pid
 (
tok’
)

573 
tok’
)

575 
USB_TOKEN_SETUP
:

576  
USB_PID_SETUP
;

577 
USB_TOKEN_IN
:

578  
USB_PID_IN
;

579 
USB_TOKEN_OUT
:

580  
USB_PID_OUT
;

582 
	`PANIC
 ("Unknown USBoken\n");

584 
	}
}

587 
	$uhci_£tup_td
 (
tx_desütÜ
 *
td
, 
dev_addr
, 
tok’
,

588 
eİ
, *
pkt
, 
sz
, 
toggË
, 
boŞ
 
ls
 
UNUSED
)

590 
td
->
buf_±r
 = (
sz
 =ğ0è? 0 : 
	`vtİ
 (
pkt
);

592 
td
->
tok’
.
pid
 = 
	`tok’_to_pid
 (token);

593 
td
->
tok’
.
dev_addr
 = dev_addr;

594 
td
->
tok’
.
’d_pošt
 = 
eİ
;

595 
td
->
tok’
.
d©a_toggË
 = 
toggË
;

596 
td
->
tok’
.
maxËn
 = 
sz
 - 1;

599 
td
->
cÚŒŞ
.
aùu®_Ën
 = 0;

600 
td
->
cÚŒŞ
.
aùive
 = 1;

601 
td
->
æp
.
qh_£Ëù
 = 0;

602 
td
->
æp
.
d•th_£Ëù
 = 0;

605 
td
->
cÚŒŞ
.
”rÜ_lim™
 = 3;

606 
	}
}

609 
	$uhci_tx_pkt_now
 (
uhci_eİ_šfo
 *
ue
, 
tok’
, *
pkt
, 
sz
)

611 
tx_desütÜ
 *
td
;

612 
uhci_dev_šfo
 *
ud
;

614 
ud
 = 
ue
->ud;

616 
	`uhci_lock
 (
ud
->
ui
);

618 
td
 = 
	`uhci_acquœe_td
 (
ud
->
ui
);

619 
	`mem£t
 (
td
, 0,  (
tx_desütÜ
));

620 
	`uhci_£tup_td
 (
td
, 
ud
->
dev_addr
, 
tok’
, 
ue
->
eİ
, 
pkt
, 
sz
, ue->
toggË
,

621 
ud
->
low_¥“d
);

624 ià(!
	`uhci_is_¡İ³d
 (
ud
->
ui
))

625 
	`uhci_¡İ
 (
ud
->
ui
);

627 
	`uhci_add_td_to_qh
 (
ud
->
qh
, 
td
);

628 
td
->
æags
 = 
TD_FL_ASYNC
 | 
TD_FL_USED
;

631 
	`uhci_uÆock
 (
ud
->
ui
);

633 
ue
->
toggË
 ^= 1;

634  
USB_HOST_ERR_NONE
;

635 
	}
}

638 
	$uhci_tx_pkt_wa™
 (
uhci_eİ_šfo
 *
ue
, 
tok’
, *
pkt
,

639 
max_sz
, *
š_sz
)

641 
šŒ_Ëv–
 
Şd_lvl
;

642 
tx_desütÜ
 *
td
;

643 
usb_wa™
 
w
;

644 
”r
;

645 
uhci_dev_šfo
 *
ud
;

647 
ud
 = 
ue
->ud;

649 
	`uhci_lock
 (
ud
->
ui
);

651 
td
 = 
	`uhci_acquœe_td
 (
ud
->
ui
);

652 
	`mem£t
 (
td
, 0,  (
tx_desütÜ
));

654 
	`uhci_£tup_td
 (
td
, 
ud
->
dev_addr
, 
tok’
, 
ue
->
eİ
, 
pkt
, 
max_sz
, ue->
toggË
,

655 
ud
->
low_¥“d
);

656 
td
->
cÚŒŞ
.
ioc
 = 1;

658 
w
.
td
 =d;

659 
w
.
ud
 = ud;

660 
	`£ma_š™
 (&
w
.
£m
, 0);

662 
	`uhci_¡İ
 (
ud
->
ui
);

665 
	`uhci_add_td_to_qh
 (
ud
->
qh
, 
td
);

666 
td
->
æags
 = 
TD_FL_USED
;

668 
	`li¡_push_back
 (&
ud
->
ui
->
wa™šg
, &
w
.
³”s
);

671 
Şd_lvl
 = 
	`šŒ_di§bË
 ();

672 
	`uhci_run
 (
ud
->
ui
);

673 
	`uhci_uÆock
 (
ud
->
ui
);

674 
	`£ma_down
 (&
w
.
£m
);

675 
	`šŒ_£t_Ëv–
 (
Şd_lvl
);

677 ià(
š_sz
 !ğ
NULL
)

679 ià(
w
.
td
->
cÚŒŞ
.
aùu®_Ën
 == 0x7ff)

680 *
š_sz
 = 0;

682 *
š_sz
 = 
w
.
td
->
cÚŒŞ
.
aùu®_Ën
 + 1;

685 ià(
w
.
td
->
cÚŒŞ
.
b™¡uff
)

686 
”r
 = 
USB_HOST_ERR_BITSTUFF
;

687 ià(
w
.
td
->
cÚŒŞ
.
timeout
)

688 
”r
 = 
USB_HOST_ERR_TIMEOUT
;

689 ià(
w
.
td
->
cÚŒŞ
.
Çk
)

690 
”r
 = 
USB_HOST_ERR_NAK
;

691 ià(
w
.
td
->
cÚŒŞ
.
babbË
)

692 
”r
 = 
USB_HOST_ERR_BABBLE
;

693 ià(
w
.
td
->
cÚŒŞ
.
bufãr_”rÜ
)

694 
”r
 = 
USB_HOST_ERR_BUFFER
;

695 ià(
w
.
td
->
cÚŒŞ
.
¡®Ëd
)

696 
”r
 = 
USB_HOST_ERR_STALL
;

699 
”r
 = 
USB_HOST_ERR_NONE
;

700 
ue
->
toggË
 ^= 1;

703 
	`uhci_»Ëa£_td
 (
ud
->
ui
, 
td
);

706 
	`´štf
 ("%so device %d:\n",

707 
tok’
 =ğ
USB_TOKEN_OUT
 ? "OUT"

708 : 
tok’
 =ğ
USB_TOKEN_IN
 ? "IN"

709 : 
tok’
 =ğ
USB_TOKEN_SETUP
 ? "SETUP"

711 
ud
->
dev_addr
);

712 
n
 = (
w
.
td
->
cÚŒŞ
.
aùu®_Ën
 + 1) & 0x7ff;

713 
	`hex_dump
 (0, 
pkt
, 
n
, 
Œue
);

714 ià(
”r
)

715 
	`´štf
 ("tx_pkt_wa™:ƒ¼=%d\n", 
”r
);

718  
”r
;

719 
	}
}

722 
	$uhci_add_td_to_qh
 (
queue_h—d
 *
qh
, 
tx_desütÜ
 *
td
)

724 
äame_li¡_±r
 *
å
;

726 
	`ASSERT
 (
td
 !ğ
NULL
);

728 
td
->
h—d
 = &
qh
->
q–p
;

729 ià(
qh
->
q–p
.
‹rmš©e
 == 1)

732 
td
->
æp
.
‹rmš©e
 = 1;

733 
	`b¬r›r
 ();

734 
td
->
æp
.flp = 0;

735 
qh
->
q–p
.
æp
 = 
	`±r_to_æp
 (
	`vtİ
 (
td
));

736 
qh
->
q–p
.
‹rmš©e
 = 0;

741 
å
 = 
	`±ov
 (
	`æp_to_±r
 (
qh
->
q–p
.
æp
));

742 
	`ASSERT
 (
qh
->
q–p
.
‹rmš©e
 == 0);

743 !
å
->
‹rmš©e
)

745 
å
 = 
	`±ov
 (
	`æp_to_±r
 (å->
æp
));

749 
td
->
æp
 = *
å
;

751 
å
->
qh_£Ëù
 = 0;

752 
å
->
d•th_£Ëù
 = 0;

753 
å
->
æp
 = 
	`±r_to_æp
 (
	`vtİ
 (
td
));

754 
	`b¬r›r
 ();

755 
å
->
‹rmš©e
 = 0;

757 
	}
}

760 
	$uhci_œq
 (*
uhci_d©a
)

762 
uhci_šfo
 *
ui
;

763 
ušt16_t
 
¡©us
;

765 
ui
 = 
uhci_d©a
;

766 
¡©us
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
UHCI_REG_USBSTS
);

767 ià(
¡©us
 & 
USB_STATUS_PROCESSERR
)

769 
	`dump_®l_qh
 (
ui
);

770 
	`dump_»gs
 (
ui
);

771 
	`PANIC
 ("UHCI: Malformed schedule");

773 ià(
¡©us
 & 
USB_STATUS_HOSTERR
)

775 
	`dump_®l_qh
 (
ui
);

776 
	`dump_»gs
 (
ui
);

777 
	`PANIC
 ("UHCI: Host systemƒrror");

779 ià(
¡©us
 & 
USB_STATUS_INTERR
)

782 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_USBSTS
, 
USB_STATUS_INTERR
);

785 ià(
¡©us
 & 
USB_STATUS_USBINT
)

788 
	`uhci_¡İ_uÆocked
 (
ui
);

789 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_USBSTS
, 
USB_STATUS_USBINT
);

790 
	`uhci_´oûss_com¶‘ed
 (
ui
);

791 
	`uhci_run_uÆocked
 (
ui
);

793 
	}
}

796 
	$uhci_´oûss_com¶‘ed
 (
uhci_šfo
 *
ui
)

798 
li¡_–em
 *
li
;

799 
com¶‘ed
 = 0;

800 
size_t
 
¡¬t
 = 0;

802 
li
 = 
	`li¡_begš
 (&
ui
->
wa™šg
);

803 
li
 !ğ
	`li¡_’d
 (&
ui
->
wa™šg
))

805 
usb_wa™
 *
uw
;

806 
li¡_–em
 *
Ãxt
;

808 
Ãxt
 = 
	`li¡_Ãxt
 (
li
);

809 
uw
 = 
	`li¡_’Œy
 (
li
, 
usb_wa™
, 
³”s
);

811 ià(!
uw
->
td
->
cÚŒŞ
.
aùive
)

813 
	`li¡_»move
 (
li
);

814 ià(
uw
->
td
->
cÚŒŞ
.
”rÜ_lim™
 =ğ0 || uw->td->cÚŒŞ.
¡®Ëd
)

816 
	`uhci_»move_”rÜ_td
 (
uw
->
td
);

818 
uw
->
td
->
æags
 = 0;

819 
	`£ma_up
 (&
uw
->
£m
);

820 
com¶‘ed
++;

822 
li
 = 
Ãxt
;

826 ià(
com¶‘ed
 == 0)

827  
com¶‘ed
;

829 
¡¬t
 < 
TD_ENTRIES
)

831 
tx_desütÜ
 *
td
;

833 
¡¬t
 = 
	`b™m­_sÿn
 (
ui
->
td_u£d
, s¹, 1, 
Œue
);

834 ià(
¡¬t
 =ğ
BITMAP_ERROR
)

837 
td
 = 
	`td_äom_poŞ
 (
ui
, 
¡¬t
);

839 ià(!
td
->
cÚŒŞ
.
aùive
 && (td->
æags
 & 
TD_FL_ASYNC
) &&

840 (
td
->
æags
 & 
TD_FL_USED
))

842 ià(
td
->
cÚŒŞ
.
”rÜ_lim™
 =ğ0 ||d->cÚŒŞ.
¡®Ëd
)

844 
	`uhci_»move_”rÜ_td
 (
td
);

846 
	`uhci_»Ëa£_td
 (
ui
, 
td
);

847 
com¶‘ed
++;

849 
¡¬t
++;

852  
com¶‘ed
;

853 
	}
}

856 
	$uhci_»move_”rÜ_td
 (
tx_desütÜ
 *
td
)

858 
äame_li¡_±r
 *
å
;

859 
ušt32_t
 
td_æp
;

861 
	`ASSERT
 (
td
->
h—d
 !ğ
NULL
);

863 
å
 = 
td
->
h—d
;

864 
td_æp
 = 
	`±r_to_æp
 (
	`vtİ
 (
td
));

865 
å
->
æp
 !ğ
td_æp
)

867 
	`ASSERT
 (
å
->
‹rmš©e
 == 0);

868 
å
 = 
	`±ov
 (
	`æp_to_±r
 (å->
æp
));

870 *
å
 = 
td
->
æp
;

871 
	}
}

874 
	$uhci_d‘eù_chªge
 (
ho¡_šfo
 
hi
)

876 
uhci_šfo
 *
ui
;

877 
chªge
;

878 
i
;

880 
ui
 = 
hi
;

881 
chªge
 = 0;

882 
	`uhci_lock
 (
ui
);

883 
i
 = 0; i < 
ui
->
num_pÜts
; i++)

885 
chªge
 = 
	`check_ªd_æ_chªge
 (
ui
, 
i
);

886 ià(
chªge
 != 0)

889 
	`uhci_uÆock
 (
ui
);

891  
chªge
;

892 
	}
}

895 
	$check_ªd_æ_chªge
 (
uhci_šfo
 *
ui
, 
pÜt
)

897 
v®
;

898 
»g
;

900 
»g
 = 
UHCI_REG_PORTSC1
 + 
pÜt
 * 2;

901 
v®
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
»g
);

902 ià(
v®
 & 
USB_PORT_CHANGE
)

904 
	`pci_»g_wr™e16
 (
ui
->
io
, 
»g
, 
v®
 & ~(
USB_PORT_CHANGE
));

909 
	}
}

911 
ho¡_dev_šfo


912 
	$uhci_ü—‹_chª
 (
ho¡_šfo
 
hi
, 
dev_addr
, 
v”
)

914 
uhci_šfo
 *
ui
;

915 
uhci_dev_šfo
 *
ud
;

916 
i
;

918 
	`ASSERT
 (
dev_addr
 <= 127 && dev_addr >= 0);

920 
ui
 = 
hi
;

922 
ud
 = 
	`m®loc
 ( (
uhci_dev_šfo
));

923 
ud
->
dev_addr
 = dev_addr;

924 
ud
->
low_¥“d
 = (
v”
 =ğ
USB_VERSION_1_0
è? 
Œue
 : 
çl£
;

926 
ud
->
”rÜs
 = 0;

927 
ud
->
ui
 = ui;

928 
	`lock_š™
 (&
ud
->
lock
);

930 
	`uhci_lock
 (
ui
);

932 
ud
->
qh
 = 
	`qh_®loc
 (ud->
ui
);

935 
	`mem£t
 (
ud
->
qh
, 0,  (*ud->qh));

936 
ud
->
qh
->
q–p
.
‹rmš©e
 = 1;

937 
	`b¬r›r
 ();

938 
ud
->
qh
->
q–p
.
æp
 = 0;

939 
ud
->
qh
->
q–p
.
qh_£Ëù
 = 0;

940 
ud
->
qh
->
qhÍ
.
qh_£Ëù
 = 1;

942 
	`uhci_¡İ
 (
ui
);

945 
ud
->
qh
->
qhÍ
.
æp
 = 
ui
->
äame_li¡
[0].flp;

946 
ud
->
qh
->
qhÍ
.
‹rmš©e
 = 
ui
->
äame_li¡
[0].terminate;

947 
i
 = 0; i < 
FRAME_LIST_ENTRIES
; i++)

949 
ui
->
äame_li¡
[
i
].
æp
 = 
	`±r_to_æp
 (
	`vtİ
 (
ud
->
qh
));

950 
ui
->
äame_li¡
[
i
].
qh_£Ëù
 = 1;

951 
ui
->
äame_li¡
[
i
].
‹rmš©e
 = 0;

955 
	`li¡_push_back
 (&
ui
->
deviûs
, &
ud
->
³”s
);

957 
	`uhci_run
 (
ui
);

958 
	`uhci_uÆock
 (
ui
);

960  
ud
;

961 
	}
}

964 
	$uhci_de¡roy_chª
 (
ho¡_dev_šfo
 
hd
)

966 
uhci_dev_šfo
 *
ud
;

967 
li¡_–em
 *
li
;

969 
ud
 = 
hd
;

970 
	`uhci_lock
 (
ud
->
ui
);

972 
	`uhci_¡İ
 (
ud
->
ui
);

974 
	`uhci_»move_qh
 (
ud
->
ui
, ud->
qh
);

977 
li
 = 
	`li¡_begš
 (&
ud
->
ui
->
wa™šg
);

978 
li
 !ğ
	`li¡_’d
 (&
ud
->
ui
->
wa™šg
))

980 
usb_wa™
 *
w
;

981 
w
 = 
	`li¡_’Œy
 (
li
, 
usb_wa™
, 
³”s
);

982 ià(
w
->
ud
 == ud)

984 
	`£ma_up
 (&
w
->
£m
);

985 
	`li¡_»move
 (
li
);

987 
li
 = 
	`li¡_Ãxt
 (li);

990 
	`li¡_»move
 (&
ud
->
³”s
);

992 
	`uhci_run
 (
ud
->
ui
);

994 
	`qh_ä“
 (
ud
->
ui
, ud->
qh
);

996 
	`uhci_uÆock
 (
ud
->
ui
);

998 
	`ä“
 (
ud
);

999 
	}
}

1005 
	$uhci_»move_qh
 (
uhci_šfo
 *
ui
, 
queue_h—d
 *
qh
)

1007 
ušŒ_t
 
qh_æp
;

1009 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (&
ui
->
lock
));

1010 
	`ASSERT
 (
	`uhci_is_¡İ³d
 (
ui
));

1011 
	`ASSERT
 (
qh
 !ğ
NULL
);

1013 
qh_æp
 = 
	`±r_to_æp
 (
	`vtİ
 (
qh
));

1015 ià(
ui
->
äame_li¡
[0].
æp
 =ğ
qh_æp
)

1017 
i
;

1019 
i
 = 0; i < 
FRAME_LIST_ENTRIES
; i++)

1021 
ui
->
äame_li¡
[
i
] = 
qh
->
qhÍ
;

1027 
äame_li¡_±r
 *
å
;

1028 
äame_li¡_±r
 *
´ev
;

1030 
å
 = 
	`±ov
 (
	`æp_to_±r
 (
ui
->
äame_li¡
[0].
æp
));

1031 
	`ASSERT
 (!
å
->
‹rmš©e
);

1034 
´ev
 = 
å
;

1035 
å
 = 
	`±ov
 (
	`æp_to_±r
 (å->
æp
));

1037 !
å
->
‹rmš©e
 && fp->
æp
 !ğ
qh_æp
);

1038 *
´ev
 = 
qh
->
qhÍ
;

1040 
	}
}

1047 
	$uhci_¡İ
 (
uhci_šfo
 *
ui
)

1049 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è!ğ
INTR_OFF
);

1050 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (&
ui
->
lock
));

1052 
	`uhci_¡İ_uÆocked
 (
ui
);

1053 
	}
}

1056 
	$uhci_¡İ_uÆocked
 (
uhci_šfo
 *
ui
)

1058 
ušt16_t
 
cmd
;

1059 
i
;

1061 
cmd
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
UHCI_REG_USBCMD
);

1062 
cmd
 = cmd & ~
USB_CMD_RS
;

1064 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_USBCMD
, 
cmd
);

1067 
i
 = 0; i < 1000; i++)

1069 ià(
	`uhci_is_¡İ³d
 (
ui
))

1073 
	`PANIC
 ("UHCI: Controller did‚ot halt\n");

1075 
	}
}

1078 
	$uhci_run_uÆocked
 (
uhci_šfo
 *
ui
)

1080 
ušt16_t
 
cmd
;

1081 
cmd
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
UHCI_REG_USBCMD
);

1082 
cmd
 = cmd | 
USB_CMD_RS
 | 
USB_CMD_MAX_PACKET
;

1083 
	`pci_»g_wr™e16
 (
ui
->
io
, 
UHCI_REG_USBCMD
, 
cmd
);

1084 
	}
}

1090 
	$uhci_run
 (
uhci_šfo
 *
ui
)

1092 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (&
ui
->
lock
));

1093 
	`uhci_run_uÆocked
 (
ui
);

1094 
	}
}

1096 
tx_desütÜ
 *

1097 
	$uhci_acquœe_td
 (
uhci_šfo
 *
ui
)

1099 
size_t
 
td_idx
;

1100 
tx_desütÜ
 *
td
;

1102 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (&
ui
->
lock
));

1104 
	`£ma_down
 (&
ui
->
td_£m
);

1105 
td_idx
 = 
	`b™m­_sÿn_ªd_æ
 (
ui
->
td_u£d
, 0, 1, 
çl£
);

1106 
	`ASSERT
 (
td_idx
 !ğ
BITMAP_ERROR
);

1107 
td
 = 
	`td_äom_poŞ
 (
ui
, 
td_idx
);

1109  
td
;

1110 
	}
}

1113 
	$uhci_modify_chª
 (
ho¡_dev_šfo
 
hd
, 
dev_addr
, 
v”
)

1115 
uhci_dev_šfo
 *
ud
;

1117 
ud
 = 
hd
;

1118 
ud
->
dev_addr
 = dev_addr;

1119 
ud
->
low_¥“d
 = (
v”
 =ğ
USB_VERSION_1_0
è? 
Œue
 : 
çl£
;

1120 
	}
}

1123 
	$uhci_£t_toggË
 (
ho¡_eİ_šfo
 
he
, 
toggË
)

1125 
uhci_eİ_šfo
 *
ue
;

1127 
ue
 = 
he
;

1128 
ue
->
toggË
 =oggle;

1129 
	}
}

1132 
	$dump_®l_qh
 (
uhci_šfo
 *
ui
)

1134 
li¡_–em
 *
li
;

1136 
	`´štf
 ("scheduË: %x...", 
	`vtİ
 (
ui
->
äame_li¡
));

1137 
	`´štf
 ("%x", *((
ušt32_t
 *è
ui
->
äame_li¡
));

1138 
li
 = 
	`li¡_begš
 (&
ui
->
deviûs
);

1139 
li
 !ğ
	`li¡_’d
 (&
ui
->
deviûs
))

1141 
uhci_dev_šfo
 *
ud
;

1142 
ud
 = 
	`li¡_’Œy
 (
li
, 
uhci_dev_šfo
, 
³”s
);

1143 
	`dump_qh
 (
ud
->
qh
);

1144 
li
 = 
	`li¡_Ãxt
 (li);

1146 
	}
}

1149 
	$dump_qh
 (
queue_h—d
 *
qh
)

1151 
äame_li¡_±r
 *
å
;

1152 
	`´štf
 ("qh: %°%x\n", 
qh
, 
	`vtİ
 (qh));

1153 
å
 = &
qh
->
q–p
;

1154 !
å
->
‹rmš©e
)

1156 
	`´štf
 ("%x %x\n", *((
ušt32_t
 *è
å
), *(uint32_t *) (fp + 1));

1157 
å
 = 
	`±ov
 (
	`æp_to_±r
 (å->
æp
));

1159 
	`´štf
 ("%x %x\n\n", *(
ušt32_t
 *è
å
, *(uint32_t *) (fp + 1));

1160 
	}
}

1162 
tx_desütÜ
 *

1163 
	$td_äom_poŞ
 (
uhci_šfo
 *
ui
, 
idx
)

1165 
	`ASSERT
 (
idx
 >ğ0 && idx < 
TD_ENTRIES
);

1166  (((*è
ui
->
td_poŞ
è+ 
idx
 * 32);

1167 
	}
}

1170 
	$uhci_d‘eù_pÜts
 (
uhci_šfo
 *
ui
)

1172 
i
;

1173 
ui
->
num_pÜts
 = 0;

1174 
i
 = 0; i < 
UHCI_MAX_PORTS
; i++)

1176 
ušt16_t
 
¡©us
;

1177 
¡©us
 = 
	`pci_»g_»ad16
 (
ui
->
io
, 
UHCI_REG_PORTSC1
 + 
i
 * 2);

1178 ià(!(
¡©us
 & 0x0080) || status == 0xffff)

1180 
ui
->
num_pÜts
++;

1182 
	}
}

1185 
	$uhci_¡®l_w©chdog
 (
uhci_šfo
 *
ui
)

1189 
rmved
;

1190 
	`tim”_m¦“p
 (1000);

1191 
	`´štf
 ("watchdog\n");

1192 
	`uhci_lock
 (
ui
);

1193 
	`uhci_¡İ
 (
ui
);

1194 
rmved
 = 
	`uhci_»move_¡®Ëd
 (
ui
);

1195 ià(
rmved
 > 0)

1196 
	`´štf
 ("removed stalled…acket in watchdog\n");

1197 
	`uhci_run
 (
ui
);

1198 
	`uhci_uÆock
 (
ui
);

1200 
	}
}

1203 
	$uhci_»move_¡®Ëd
 (
uhci_šfo
 *
ui
)

1205 
li¡_–em
 *
li
;

1206 
rmved
;

1208 
rmved
 = 0;

1209 
li
 = 
	`li¡_begš
 (&
ui
->
wa™šg
);

1211 
	`šŒ_di§bË
 ();

1213 
li
 !ğ
	`li¡_’d
 (&
ui
->
wa™šg
))

1215 
usb_wa™
 *
uw
;

1216 
li¡_–em
 *
Ãxt
;

1217 
ušt32_t
 
ù¾
;

1219 
Ãxt
 = 
	`li¡_Ãxt
 (
li
);

1220 
uw
 = 
	`li¡_’Œy
 (
li
, 
usb_wa™
, 
³”s
);

1222 ià((!
uw
->
td
->
cÚŒŞ
.
aùive
 && uw->td->cÚŒŞ.
¡®Ëd
) ||

1223 (
uw
->
td
->
cÚŒŞ
.
Çk
))

1225 
	`memıy
 (&
ù¾
, &
uw
->
td
->
cÚŒŞ
, 4);

1226 
	`´štf
 ("CTRL: %x\n", 
ù¾
);

1227 
	`li¡_»move
 (
li
);

1228 
	`uhci_»move_”rÜ_td
 (
uw
->
td
);

1229 
	`£ma_up
 (&
uw
->
£m
);

1230 
rmved
++;

1232 
li
 = 
Ãxt
;

1235 
	`šŒ_’abË
 ();

1237  
rmved
;

1238 
	}
}

1241 
	$uhci_»Ëa£_td
 (
uhci_šfo
 *
ui
, 
tx_desütÜ
 *
td
)

1243 
ofs
 = (
ušŒ_t
è
td
 - (ušŒ_tè
ui
->
td_poŞ
;

1244 
’Œy
 = 
ofs
 / 32;

1246 
	`ASSERT
 (
’Œy
 < 
TD_ENTRIES
);

1248 
td
->
æags
 = 0;

1249 
	`b™m­_»£t
 (
ui
->
td_u£d
, 
’Œy
);

1250 
	`£ma_up
 (&
ui
->
td_£m
);

1251 
	}
}

1253 
ho¡_eİ_šfo


1254 
	$uhci_ü—‹_eİ
 (
ho¡_dev_šfo
 
hd
, 
eİ
, 
maxpkt
)

1256 
uhci_dev_šfo
 *
ud
;

1257 
uhci_eİ_šfo
 *
e
;

1259 
ud
 = 
hd
;

1261 
e
 = 
	`m®loc
 ( (
uhci_eİ_šfo
));

1262 
e
->
eİ
 =ƒop;

1263 
e
->
ud
 = ud;

1264 
e
->
maxpkt
 = maxpkt;

1265 
e
->
toggË
 = 0;

1267  
e
;

1268 
	}
}

1271 
	$uhci_»move_eİ
 (
ho¡_eİ_šfo
 
hei
)

1273 
	`ä“
 (
hei
);

1274 
	}
}

1276 
queue_h—d
 *

1277 
	$qh_®loc
 (
uhci_šfo
 *
ui
)

1279 
size_t
 
qh_idx
;

1280 
queue_h—d
 *
qh
;

1282 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (&
ui
->
lock
));

1284 
qh_idx
 = 
	`b™m­_sÿn_ªd_æ
 (
ui
->
qh_u£d
, 0, 1, 
çl£
);

1285 ià(
qh_idx
 =ğ
BITMAP_ERROR
)

1287 
	`PANIC
 ("UHCI: Too many queue heads in use--„unaway USB stack?\n");

1289 
qh
 = (*è(((
šŒ_t
è
ui
->
qh_poŞ
è+ 
qh_idx
 * 16);

1291  
qh
;

1292 
	}
}

1295 
	$qh_ä“
 (
uhci_šfo
 *
ui
, 
queue_h—d
 *
qh
)

1297 
size_t
 
’Œy
;

1298 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (&
ui
->
lock
));

1300 
’Œy
 = ((
šŒ_t
è
qh
 - (šŒ_tè
ui
->
qh_poŞ
) / 16;

1301 
	`b™m­_»£t
 (
ui
->
qh_u£d
, 
’Œy
);

1302 
	}
}

	@devices/vga.c

1 
	~"deviûs/vga.h
"

3 
	~<round.h
>

4 
	~<¡dšt.h
>

5 
	~<¡ddef.h
>

6 
	~<¡ršg.h
>

7 
	~"deviûs/¥—k”.h
"

8 
	~"th»ads/io.h
"

9 
	~"th»ads/š‹¼u±.h
"

10 
	~"th»ads/vaddr.h
"

15 
	#COL_CNT
 80

	)

16 
	#ROW_CNT
 25

	)

20 
size_t
 
	gcx
, 
	gcy
;

23 
	#GRAY_ON_BLACK
 0x07

	)

28 
ušt8_t
 (*
fb
)[
COL_CNT
][2];

30 
ş—r_row
 (
size_t
 
y
);

31 
şs
 ();

32 
Ãwlše
 ();

33 
move_cursÜ
 ();

34 
fšd_cursÜ
 (
size_t
 *
x
, size_ˆ*
y
);

38 
	$š™
 ()

41 
boŞ
 
š™ed
;

42 ià(!
š™ed
)

44 
fb
 = 
	`±ov
 (0xb8000);

45 
	`fšd_cursÜ
 (&
cx
, &
cy
);

46 
š™ed
 = 
Œue
;

48 
	}
}

53 
	$vga_putc
 (
c
)

57 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

59 
	`š™
 ();

61 
c
)

64 
	`Ãwlše
 ();

68 
	`şs
 ();

72 ià(
cx
 > 0)

73 
cx
--;

77 
cx
 = 0;

81 
cx
 = 
	`ROUND_UP
 (cx + 1, 8);

82 ià(
cx
 >ğ
COL_CNT
)

83 
	`Ãwlše
 ();

87 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

88 
	`¥—k”_b“p
 ();

89 
	`šŒ_di§bË
 ();

93 
fb
[
cy
][
cx
][0] = 
c
;

94 
fb
[
cy
][
cx
][1] = 
GRAY_ON_BLACK
;

95 ià(++
cx
 >ğ
COL_CNT
)

96 
	`Ãwlše
 ();

101 
	`move_cursÜ
 ();

103 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

104 
	}
}

108 
	$şs
 ()

110 
size_t
 
y
;

112 
y
 = 0; y < 
ROW_CNT
; y++)

113 
	`ş—r_row
 (
y
);

115 
cx
 = 
cy
 = 0;

116 
	`move_cursÜ
 ();

117 
	}
}

121 
	$ş—r_row
 (
size_t
 
y
)

123 
size_t
 
x
;

125 
x
 = 0; x < 
COL_CNT
; x++)

127 
fb
[
y
][
x
][0] = ' ';

128 
fb
[
y
][
x
][1] = 
GRAY_ON_BLACK
;

130 
	}
}

136 
	$Ãwlše
 ()

138 
cx
 = 0;

139 
cy
++;

140 ià(
cy
 >ğ
ROW_CNT
)

142 
cy
 = 
ROW_CNT
 - 1;

143 
	`memmove
 (&
fb
[0], &fb[1],  fb[0] * (
ROW_CNT
 - 1));

144 
	`ş—r_row
 (
ROW_CNT
 - 1);

146 
	}
}

150 
	$move_cursÜ
 ()

153 
ušt16_t
 
ı
 = 
cx
 + 
COL_CNT
 * 
cy
;

154 
	`outw
 (0x3d4, 0x0| (
ı
 & 0xff00));

155 
	`outw
 (0x3d4, 0x0à| (
ı
 << 8));

156 
	}
}

160 
	$fšd_cursÜ
 (
size_t
 *
x
, size_ˆ*
y
)

163 
ušt16_t
 
ı
;

165 
	`outb
 (0x3d4, 0x0e);

166 
ı
 = 
	`šb
 (0x3d5) << 8;

168 
	`outb
 (0x3d4, 0x0f);

169 
ı
 |ğ
	`šb
 (0x3d5);

171 *
x
 = 
ı
 % 
COL_CNT
;

172 *
y
 = 
ı
 / 
COL_CNT
;

173 
	}
}

	@devices/vga.h

1 #iâdeà
DEVICES_VGA_H


3 
	#DEVICES_VGA_H


	)

5 
vga_putc
 ();

	@filesys/directory.c

1 
	~"fesys/dœeùÜy.h
"

3 
	~<¡dio.h
>

4 
	~<¡ršg.h
>

5 
	~<li¡.h
>

6 
	~"fesys/fesys.h
"

7 
	~"fesys/šode.h
"

8 
	~"th»ads/m®loc.h
"

11 
	sdœ


13 
šode
 *
	mšode
;

14 
off_t
 
	mpos
;

18 
	sdœ_’Œy


20 
block_£ùÜ_t
 
	mšode_£ùÜ
;

21 
	mÇme
[
NAME_MAX
 + 1];

22 
boŞ
 
	mš_u£
;

27 
boŞ


28 
	$dœ_ü—‹
 (
block_£ùÜ_t
 
£ùÜ
, 
size_t
 
’Œy_út
)

30  
	`šode_ü—‹
 (
£ùÜ
, 
’Œy_út
 *  (
dœ_’Œy
));

31 
	}
}

35 
dœ
 *

36 
	$dœ_İ’
 (
šode
 *inode)

38 
dœ
 *dœ = 
	`ÿÎoc
 (1,  *dir);

39 ià(
šode
 !ğ
NULL
 && 
dœ
 != NULL)

41 
dœ
->
šode
 = inode;

42 
dœ
->
pos
 = 0;

43  
dœ
;

47 
	`šode_şo£
 (
šode
);

48 
	`ä“
 (
dœ
);

49  
NULL
;

51 
	}
}

55 
dœ
 *

56 
	$dœ_İ’_roÙ
 ()

58  
	`dœ_İ’
 (
	`šode_İ’
 (
ROOT_DIR_SECTOR
));

59 
	}
}

63 
dœ
 *

64 
	$dœ_»İ’
 (
dœ
 *dir)

66  
	`dœ_İ’
 (
	`šode_»İ’
 (
dœ
->
šode
));

67 
	}
}

71 
	$dœ_şo£
 (
dœ
 *dir)

73 ià(
dœ
 !ğ
NULL
)

75 
	`šode_şo£
 (
dœ
->
šode
);

76 
	`ä“
 (
dœ
);

78 
	}
}

81 
šode
 *

82 
	$dœ_g‘_šode
 (
dœ
 *dir)

84  
dœ
->
šode
;

85 
	}
}

92 
boŞ


93 
	$lookup
 (cÚ¡ 
dœ
 *dœ, cÚ¡ *
Çme
,

94 
dœ_’Œy
 *
•
, 
off_t
 *
of¥
)

96 
dœ_’Œy
 
e
;

97 
size_t
 
ofs
;

99 
	`ASSERT
 (
dœ
 !ğ
NULL
);

100 
	`ASSERT
 (
Çme
 !ğ
NULL
);

102 
ofs
 = 0; 
	`šode_»ad_©
 (
dœ
->
šode
, &
e
, ƒ, ofs) == ƒ;

103 
ofs
 +ğ 
e
)

104 ià(
e
.
š_u£
 && !
	`¡rcmp
 (
Çme
,ƒ.name))

106 ià(
•
 !ğ
NULL
)

107 *
•
 = 
e
;

108 ià(
of¥
 !ğ
NULL
)

109 *
of¥
 = 
ofs
;

110  
Œue
;

112  
çl£
;

113 
	}
}

119 
boŞ


120 
	$dœ_lookup
 (cÚ¡ 
dœ
 *dœ, cÚ¡ *
Çme
,

121 
šode
 **inode)

123 
dœ_’Œy
 
e
;

125 
	`ASSERT
 (
dœ
 !ğ
NULL
);

126 
	`ASSERT
 (
Çme
 !ğ
NULL
);

128 ià(
	`lookup
 (
dœ
, 
Çme
, &
e
, 
NULL
))

129 *
šode
 = 
	`šode_İ’
 (
e
.
šode_£ùÜ
);

131 *
šode
 = 
NULL
;

133  *
šode
 !ğ
NULL
;

134 
	}
}

142 
boŞ


143 
	$dœ_add
 (
dœ
 *dœ, cÚ¡ *
Çme
, 
block_£ùÜ_t
 
šode_£ùÜ
)

145 
dœ_’Œy
 
e
;

146 
off_t
 
ofs
;

147 
boŞ
 
sucûss
 = 
çl£
;

149 
	`ASSERT
 (
dœ
 !ğ
NULL
);

150 
	`ASSERT
 (
Çme
 !ğ
NULL
);

153 ià(*
Çme
 =ğ'\0' || 
	`¡¾’
 (Çmeè> 
NAME_MAX
)

154  
çl£
;

157 ià(
	`lookup
 (
dœ
, 
Çme
, 
NULL
, NULL))

158 
dÚe
;

167 
ofs
 = 0; 
	`šode_»ad_©
 (
dœ
->
šode
, &
e
, ƒ, ofs) == ƒ;

168 
ofs
 +ğ 
e
)

169 ià(!
e
.
š_u£
)

173 
e
.
š_u£
 = 
Œue
;

174 
	`¡¾ıy
 (
e
.
Çme
,‚ame, ƒ.name);

175 
e
.
šode_£ùÜ
 = inode_sector;

176 
sucûss
 = 
	`šode_wr™e_©
 (
dœ
->
šode
, &
e
, ƒ, 
ofs
) == ƒ;

178 
dÚe
:

179  
sucûss
;

180 
	}
}

185 
boŞ


186 
	$dœ_»move
 (
dœ
 *dœ, cÚ¡ *
Çme
)

188 
dœ_’Œy
 
e
;

189 
šode
 *šodğ
NULL
;

190 
boŞ
 
sucûss
 = 
çl£
;

191 
off_t
 
ofs
;

193 
	`ASSERT
 (
dœ
 !ğ
NULL
);

194 
	`ASSERT
 (
Çme
 !ğ
NULL
);

197 ià(!
	`lookup
 (
dœ
, 
Çme
, &
e
, &
ofs
))

198 
dÚe
;

201 
šode
 = 
	`šode_İ’
 (
e
.
šode_£ùÜ
);

202 ià(
šode
 =ğ
NULL
)

203 
dÚe
;

206 
e
.
š_u£
 = 
çl£
;

207 ià(
	`šode_wr™e_©
 (
dœ
->
šode
, &
e
, ƒ, 
ofs
) != ƒ)

208 
dÚe
;

211 
	`šode_»move
 (
šode
);

212 
sucûss
 = 
Œue
;

214 
dÚe
:

215 
	`šode_şo£
 (
šode
);

216  
sucûss
;

217 
	}
}

222 
boŞ


223 
dœ_»addœ
 (
dœ
 *dœ, 
Çme
[
NAME_MAX
 + 1])

225 
dœ_’Œy
 
	ge
;

227 
šode_»ad_©
 (
dœ
->
šode
, &
e
, ƒ, dœ->
pos
) == ƒ)

229 
dœ
->
pos
 +ğ 
e
;

230 ià(
	ge
.
	gš_u£
)

232 
¡¾ıy
 (
Çme
, 
e
.Çme, 
NAME_MAX
 + 1);

233  
	gŒue
;

236  
	gçl£
;

	@filesys/directory.h

1 #iâdeà
FILESYS_DIRECTORY_H


3 
	#FILESYS_DIRECTORY_H


	)

5 
	~<¡dboŞ.h
>

6 
	~<¡ddef.h
>

7 
	~"deviûs/block.h
"

13 
	#NAME_MAX
 14

	)

15 
	gšode
;

18 
boŞ
 
dœ_ü—‹
 (
block_£ùÜ_t
 
£ùÜ
, 
size_t
 
’Œy_út
);

19 
dœ
 *
dœ_İ’
 (
šode
 *);

20 
dœ
 *
dœ_İ’_roÙ
 ();

21 
dœ
 *
dœ_»İ’
 (dir *);

22 
dœ_şo£
 (
dœ
 *);

23 
šode
 *
dœ_g‘_šode
 (
dœ
 *);

26 
boŞ
 
dœ_lookup
 (cÚ¡ 
dœ
 *, cÚ¡ *
Çme
, 
šode
 **);

27 
boŞ
 
dœ_add
 (
dœ
 *, cÚ¡ *
Çme
, 
block_£ùÜ_t
);

28 
boŞ
 
dœ_»move
 (
dœ
 *, cÚ¡ *
Çme
);

29 
boŞ
 
dœ_»addœ
 (
dœ
 *, 
Çme
[
NAME_MAX
 + 1]);

	@filesys/file.c

1 
	~"fesys/fe.h
"

3 
	~<debug.h
>

4 
	~"fesys/šode.h
"

5 
	~"th»ads/m®loc.h
"

8 
	sfe


10 
šode
 *
	mšode
;

11 
off_t
 
	mpos
;

12 
boŞ
 
	md’y_wr™e
;

18 
fe
 *

19 
	$fe_İ’
 (
šode
 *inode)

21 
fe
 *fğ
	`ÿÎoc
 (1,  *file);

22 ià(
šode
 !ğ
NULL
 && 
fe
 != NULL)

24 
fe
->
šode
 = inode;

25 
fe
->
pos
 = 0;

26 
fe
->
d’y_wr™e
 = 
çl£
;

27  
fe
;

31 
	`šode_şo£
 (
šode
);

32 
	`ä“
 (
fe
);

33  
NULL
;

35 
	}
}

39 
fe
 *

40 
	$fe_»İ’
 (
fe
 *file)

42  
	`fe_İ’
 (
	`šode_»İ’
 (
fe
->
šode
));

43 
	}
}

47 
	$fe_şo£
 (
fe
 *file)

49 ià(
fe
 !ğ
NULL
)

51 
	`fe_®low_wr™e
 (
fe
);

52 
	`šode_şo£
 (
fe
->
šode
);

53 
	`ä“
 (
fe
);

55 
	}
}

58 
šode
 *

59 
	$fe_g‘_šode
 (
fe
 *file)

61  
fe
->
šode
;

62 
	}
}

69 
off_t


70 
	$fe_»ad
 (
fe
 *fe, *
bufãr
, 
off_t
 
size
)

72 
off_t
 
by‹s_»ad
 = 
	`šode_»ad_©
 (
fe
->
šode
, 
bufãr
, 
size
, fe->
pos
);

73 
fe
->
pos
 +ğ
by‹s_»ad
;

74  
by‹s_»ad
;

75 
	}
}

82 
off_t


83 
	$fe_»ad_©
 (
fe
 *fe, *
bufãr
, 
off_t
 
size
, off_ˆ
fe_ofs
)

85  
	`šode_»ad_©
 (
fe
->
šode
, 
bufãr
, 
size
, 
fe_ofs
);

86 
	}
}

95 
off_t


96 
	$fe_wr™e
 (
fe
 *fe, cÚ¡ *
bufãr
, 
off_t
 
size
)

98 
off_t
 
by‹s_wr™‹n
 = 
	`šode_wr™e_©
 (
fe
->
šode
, 
bufãr
, 
size
, fe->
pos
);

99 
fe
->
pos
 +ğ
by‹s_wr™‹n
;

100  
by‹s_wr™‹n
;

101 
	}
}

110 
off_t


111 
	$fe_wr™e_©
 (
fe
 *fe, cÚ¡ *
bufãr
, 
off_t
 
size
,

112 
off_t
 
fe_ofs
)

114  
	`šode_wr™e_©
 (
fe
->
šode
, 
bufãr
, 
size
, 
fe_ofs
);

115 
	}
}

120 
	$fe_d’y_wr™e
 (
fe
 *file)

122 
	`ASSERT
 (
fe
 !ğ
NULL
);

123 ià(!
fe
->
d’y_wr™e
)

125 
fe
->
d’y_wr™e
 = 
Œue
;

126 
	`šode_d’y_wr™e
 (
fe
->
šode
);

128 
	}
}

134 
	$fe_®low_wr™e
 (
fe
 *file)

136 
	`ASSERT
 (
fe
 !ğ
NULL
);

137 ià(
fe
->
d’y_wr™e
)

139 
fe
->
d’y_wr™e
 = 
çl£
;

140 
	`šode_®low_wr™e
 (
fe
->
šode
);

142 
	}
}

145 
off_t


146 
	$fe_Ëngth
 (
fe
 *file)

148 
	`ASSERT
 (
fe
 !ğ
NULL
);

149  
	`šode_Ëngth
 (
fe
->
šode
);

150 
	}
}

155 
	$fe_£ek
 (
fe
 *fe, 
off_t
 
Ãw_pos
)

157 
	`ASSERT
 (
fe
 !ğ
NULL
);

158 
	`ASSERT
 (
Ãw_pos
 >= 0);

159 
fe
->
pos
 = 
Ãw_pos
;

160 
	}
}

164 
off_t


165 
	$fe_‹Î
 (
fe
 *file)

167 
	`ASSERT
 (
fe
 !ğ
NULL
);

168  
fe
->
pos
;

169 
	}
}

	@filesys/file.h

1 #iâdeà
FILESYS_FILE_H


3 
	#FILESYS_FILE_H


	)

5 
	~"fesys/off_t.h
"

7 
	gšode
;

10 
fe
 *
fe_İ’
 (
šode
 *);

11 
fe
 *
fe_»İ’
 (file *);

12 
fe_şo£
 (
fe
 *);

13 
šode
 *
fe_g‘_šode
 (
fe
 *);

16 
off_t
 
fe_»ad
 (
fe
 *, *, off_t);

17 
off_t
 
fe_»ad_©
 (
fe
 *, *, off_ˆ
size
, off_ˆ
¡¬t
);

18 
off_t
 
fe_wr™e
 (
fe
 *, const *, off_t);

19 
off_t
 
fe_wr™e_©
 (
fe
 *, cÚ¡ *, off_ˆ
size
, off_ˆ
¡¬t
);

22 
fe_d’y_wr™e
 (
fe
 *);

23 
fe_®low_wr™e
 (
fe
 *);

26 
fe_£ek
 (
fe
 *, 
off_t
);

27 
off_t
 
fe_‹Î
 (
fe
 *);

28 
off_t
 
fe_Ëngth
 (
fe
 *);

	@filesys/filesys.c

1 
	~"fesys/fesys.h
"

3 
	~<debug.h
>

4 
	~<¡dio.h
>

5 
	~<¡ršg.h
>

6 
	~"fesys/fe.h
"

7 
	~"fesys/ä“-m­.h
"

8 
	~"fesys/šode.h
"

9 
	~"fesys/dœeùÜy.h
"

12 
block
 *
	gfs_deviû
;

14 
do_fÜm©
 ();

19 
	$fesys_š™
 (
boŞ
 
fÜm©
)

21 
fs_deviû
 = 
	`block_g‘_rŞe
 (
BLOCK_FILESYS
);

22 ià(
fs_deviû
 =ğ
NULL
)

23 
	`PANIC
 ("No file system device found, can't initialize file system.");

25 
	`šode_š™
 ();

26 
	`ä“_m­_š™
 ();

28 ià(
fÜm©
)

29 
	`do_fÜm©
 ();

31 
	`ä“_m­_İ’
 ();

32 
	}
}

37 
	$fesys_dÚe
 ()

39 
	`ä“_m­_şo£
 ();

40 
	}
}

46 
boŞ


47 
	$fesys_ü—‹
 (cÚ¡ *
Çme
, 
off_t
 
š™Ÿl_size
)

49 
block_£ùÜ_t
 
šode_£ùÜ
 = 0;

50 
dœ
 *dœ = 
	`dœ_İ’_roÙ
 ();

51 
boŞ
 
sucûss
 = (
dœ
 !ğ
NULL


52 && 
	`ä“_m­_®loÿ‹
 (1, &
šode_£ùÜ
)

53 && 
	`šode_ü—‹
 (
šode_£ùÜ
, 
š™Ÿl_size
)

54 && 
	`dœ_add
 (
dœ
, 
Çme
, 
šode_£ùÜ
));

55 ià(!
sucûss
 && 
šode_£ùÜ
 != 0)

56 
	`ä“_m­_»Ëa£
 (
šode_£ùÜ
, 1);

57 
	`dœ_şo£
 (
dœ
);

59  
sucûss
;

60 
	}
}

67 
fe
 *

68 
	$fesys_İ’
 (cÚ¡ *
Çme
)

70 
dœ
 *dœ = 
	`dœ_İ’_roÙ
 ();

71 
šode
 *šodğ
NULL
;

73 ià(
dœ
 !ğ
NULL
)

74 
	`dœ_lookup
 (
dœ
, 
Çme
, &
šode
);

75 
	`dœ_şo£
 (
dœ
);

77  
	`fe_İ’
 (
šode
);

78 
	}
}

84 
boŞ


85 
	$fesys_»move
 (cÚ¡ *
Çme
)

87 
dœ
 *dœ = 
	`dœ_İ’_roÙ
 ();

88 
boŞ
 
sucûss
 = 
dœ
 !ğ
NULL
 && 
	`dœ_»move
 (dœ, 
Çme
);

89 
	`dœ_şo£
 (
dœ
);

91  
sucûss
;

92 
	}
}

96 
	$do_fÜm©
 ()

98 
	`´štf
 ("Formatting file system...");

99 
	`ä“_m­_ü—‹
 ();

100 ià(!
	`dœ_ü—‹
 (
ROOT_DIR_SECTOR
, 16))

101 
	`PANIC
 ("root directory creation failed");

102 
	`ä“_m­_şo£
 ();

103 
	`´štf
 ("done.\n");

104 
	}
}

	@filesys/filesys.h

1 #iâdeà
FILESYS_FILESYS_H


3 
	#FILESYS_FILESYS_H


	)

5 
	~<¡dboŞ.h
>

6 
	~"fesys/off_t.h
"

9 
	#FREE_MAP_SECTOR
 0

	)

10 
	#ROOT_DIR_SECTOR
 1

	)

13 
block
 *
	gfs_deviû
;

15 
fesys_š™
 (
boŞ
 
fÜm©
);

16 
fesys_dÚe
 ();

17 
boŞ
 
fesys_ü—‹
 (cÚ¡ *
Çme
, 
off_t
 
š™Ÿl_size
);

18 
fe
 *
fesys_İ’
 (cÚ¡ *
Çme
);

19 
boŞ
 
fesys_»move
 (cÚ¡ *
Çme
);

	@filesys/free-map.c

1 
	~"fesys/ä“-m­.h
"

3 
	~<b™m­.h
>

4 
	~<debug.h
>

5 
	~"fesys/fe.h
"

6 
	~"fesys/fesys.h
"

7 
	~"fesys/šode.h
"

9 
fe
 *
	gä“_m­_fe
;

10 
b™m­
 *
	gä“_m­
;

14 
	$ä“_m­_š™
 ()

16 
ä“_m­
 = 
	`b™m­_ü—‹
 (
	`block_size
 (
fs_deviû
));

17 ià(
ä“_m­
 =ğ
NULL
)

18 
	`PANIC
 ("bitmap creation failed--file system device isoo†arge");

19 
	`b™m­_m¬k
 (
ä“_m­
, 
FREE_MAP_SECTOR
);

20 
	`b™m­_m¬k
 (
ä“_m­
, 
ROOT_DIR_SECTOR
);

21 
	}
}

27 
boŞ


28 
	$ä“_m­_®loÿ‹
 (
size_t
 
út
, 
block_£ùÜ_t
 *
£ùÜp
)

30 
block_£ùÜ_t
 
£ùÜ
 = 
	`b™m­_sÿn_ªd_æ
 (
ä“_m­
, 0, 
út
, 
çl£
);

31 ià(
£ùÜ
 !ğ
BITMAP_ERROR


32 && 
ä“_m­_fe
 !ğ
NULL


33 && !
	`b™m­_wr™e
 (
ä“_m­
, 
ä“_m­_fe
))

35 
	`b™m­_£t_muÉË
 (
ä“_m­
, 
£ùÜ
, 
út
, 
çl£
);

36 
£ùÜ
 = 
BITMAP_ERROR
;

38 ià(
£ùÜ
 !ğ
BITMAP_ERROR
)

39 *
£ùÜp
 = 
£ùÜ
;

40  
£ùÜ
 !ğ
BITMAP_ERROR
;

41 
	}
}

45 
	$ä“_m­_»Ëa£
 (
block_£ùÜ_t
 
£ùÜ
, 
size_t
 
út
)

47 
	`ASSERT
 (
	`b™m­_®l
 (
ä“_m­
, 
£ùÜ
, 
út
));

48 
	`b™m­_£t_muÉË
 (
ä“_m­
, 
£ùÜ
, 
út
, 
çl£
);

49 
	`b™m­_wr™e
 (
ä“_m­
, 
ä“_m­_fe
);

50 
	}
}

54 
	$ä“_m­_İ’
 ()

56 
ä“_m­_fe
 = 
	`fe_İ’
 (
	`šode_İ’
 (
FREE_MAP_SECTOR
));

57 ià(
ä“_m­_fe
 =ğ
NULL
)

58 
	`PANIC
 ("can't open free map");

59 ià(!
	`b™m­_»ad
 (
ä“_m­
, 
ä“_m­_fe
))

60 
	`PANIC
 ("can't„ead free map");

61 
	}
}

65 
	$ä“_m­_şo£
 ()

67 
	`fe_şo£
 (
ä“_m­_fe
);

68 
	}
}

73 
	$ä“_m­_ü—‹
 ()

76 ià(!
	`šode_ü—‹
 (
FREE_MAP_SECTOR
, 
	`b™m­_fe_size
 (
ä“_m­
)))

77 
	`PANIC
 ("free map creation failed");

80 
ä“_m­_fe
 = 
	`fe_İ’
 (
	`šode_İ’
 (
FREE_MAP_SECTOR
));

81 ià(
ä“_m­_fe
 =ğ
NULL
)

82 
	`PANIC
 ("can't open free map");

83 ià(!
	`b™m­_wr™e
 (
ä“_m­
, 
ä“_m­_fe
))

84 
	`PANIC
 ("can't write free map");

85 
	}
}

	@filesys/free-map.h

1 #iâdeà
FILESYS_FREE_MAP_H


3 
	#FILESYS_FREE_MAP_H


	)

5 
	~<¡dboŞ.h
>

6 
	~<¡ddef.h
>

7 
	~"deviûs/block.h
"

9 
ä“_m­_š™
 ();

10 
ä“_m­_»ad
 ();

11 
ä“_m­_ü—‹
 ();

12 
ä“_m­_İ’
 ();

13 
ä“_m­_şo£
 ();

15 
boŞ
 
ä“_m­_®loÿ‹
 (
size_t
, 
block_£ùÜ_t
 *);

16 
ä“_m­_»Ëa£
 (
block_£ùÜ_t
, 
size_t
);

	@filesys/fsutil.c

1 
	~"fesys/fsut.h
"

3 
	~<debug.h
>

4 
	~<¡dio.h
>

5 
	~<¡dlib.h
>

6 
	~<¡ršg.h
>

7 
	~<u¡¬.h
>

8 
	~"fesys/dœeùÜy.h
"

9 
	~"fesys/fe.h
"

10 
	~"fesys/fesys.h
"

11 
	~"th»ads/m®loc.h
"

12 
	~"th»ads/·Îoc.h
"

13 
	~"th»ads/vaddr.h
"

17 
	$fsut_ls
 (**
¬gv
 
UNUSED
)

19 
dœ
 *dir;

20 
Çme
[
NAME_MAX
 + 1];

22 
	`´štf
 ("Files inhe„oot directory:\n");

23 
dœ
 = 
	`dœ_İ’_roÙ
 ();

24 ià(
dœ
 =ğ
NULL
)

25 
	`PANIC
 ("root dir open failed");

26 
	`dœ_»addœ
 (
dœ
, 
Çme
))

27 
	`´štf
 ("%s\n", 
Çme
);

28 
	`´štf
 ("End of†isting.\n");

29 
	}
}

34 
	$fsut_ÿt
 (**
¬gv
)

36 cÚ¡ *
fe_Çme
 = 
¬gv
[1];

38 
fe
 *file;

39 *
bufãr
;

41 
	`´štf
 ("Prštšg '%s'ØthcÚsŞe...\n", 
fe_Çme
);

42 
fe
 = 
	`fesys_İ’
 (
fe_Çme
);

43 ià(
fe
 =ğ
NULL
)

44 
	`PANIC
 ("%s: o³Àçed", 
fe_Çme
);

45 
bufãr
 = 
	`·Îoc_g‘_·ge
 (
PAL_ASSERT
);

48 
off_t
 
pos
 = 
	`fe_‹Î
 (
fe
);

49 
off_t
 
n
 = 
	`fe_»ad
 (
fe
, 
bufãr
, 
PGSIZE
);

50 ià(
n
 == 0)

53 
	`hex_dump
 (
pos
, 
bufãr
, 
n
, 
Œue
);

55 
	`·Îoc_ä“_·ge
 (
bufãr
);

56 
	`fe_şo£
 (
fe
);

57 
	}
}

61 
	$fsut_rm
 (**
¬gv
)

63 cÚ¡ *
fe_Çme
 = 
¬gv
[1];

65 
	`´štf
 ("D–‘šg '%s'...\n", 
fe_Çme
);

66 ià(!
	`fesys_»move
 (
fe_Çme
))

67 
	`PANIC
 ("%s: d–‘çed\n", 
fe_Çme
);

68 
	}
}

73 
	$fsut_exŒaù
 (**
¬gv
 
UNUSED
)

75 
block_£ùÜ_t
 
£ùÜ
 = 0;

77 
block
 *
¤c
;

78 *
h—d”
, *
d©a
;

81 
h—d”
 = 
	`m®loc
 (
BLOCK_SECTOR_SIZE
);

82 
d©a
 = 
	`m®loc
 (
BLOCK_SECTOR_SIZE
);

83 ià(
h—d”
 =ğ
NULL
 || 
d©a
 == NULL)

84 
	`PANIC
 ("couldn't‡llocate buffers");

87 
¤c
 = 
	`block_g‘_rŞe
 (
BLOCK_SCRATCH
);

88 ià(
¤c
 =ğ
NULL
)

89 
	`PANIC
 ("couldn't open scratch device");

91 
	`´štf
 ("Extracting ustar‡rchive from %s into file system...\n",

92 
	`block_Çme
 (
¤c
));

96 cÚ¡ *
fe_Çme
;

97 cÚ¡ *
”rÜ
;

98 
u¡¬_ty³
 
ty³
;

99 
size
;

102 
	`block_»ad
 (
¤c
, 
£ùÜ
++, 
h—d”
);

103 
”rÜ
 = 
	`u¡¬_·r£_h—d”
 (
h—d”
, &
fe_Çme
, &
ty³
, &
size
);

104 ià(
”rÜ
 !ğ
NULL
)

105 
	`PANIC
 ("%s: bad u¡¬ h—d” iÀ£ùÜ %"
PRDSNu
" (%s)",

106 
	`block_Çme
 (
¤c
), 
£ùÜ
 - 1, 
”rÜ
);

108 ià(
ty³
 =ğ
USTAR_EOF
)

113 ià(
ty³
 =ğ
USTAR_DIRECTORY
)

114 
	`´štf
 ("ignÜšg dœeùÜy %s\n", 
fe_Çme
);

115 ià(
ty³
 =ğ
USTAR_REGULAR
)

117 
fe
 *
d¡
;

119 
	`´štf
 ("Pu‰šg '%s' iÁØthfsy¡em...\n", 
fe_Çme
);

122 ià(!
	`fesys_ü—‹
 (
fe_Çme
, 
size
))

123 
	`PANIC
 ("%s: c»©çed", 
fe_Çme
);

124 
d¡
 = 
	`fesys_İ’
 (
fe_Çme
);

125 ià(
d¡
 =ğ
NULL
)

126 
	`PANIC
 ("%s: o³Àçed", 
fe_Çme
);

129 
size
 > 0)

131 
chunk_size
 = (
size
 > 
BLOCK_SECTOR_SIZE


132 ? 
BLOCK_SECTOR_SIZE


133 : 
size
);

134 
	`block_»ad
 (
¤c
, 
£ùÜ
++, 
d©a
);

135 ià(
	`fe_wr™e
 (
d¡
, 
d©a
, 
chunk_size
) != chunk_size)

136 
	`PANIC
 ("%s: wr™çed w™h %"
PROTd
" bytes unwritten",

137 
fe_Çme
, 
size
);

138 
size
 -ğ
chunk_size
;

142 
	`fe_şo£
 (
d¡
);

150 
	`´štf
 ("Erasing ustar‡rchive...\n");

151 
	`mem£t
 (
h—d”
, 0, 
BLOCK_SECTOR_SIZE
);

152 
	`block_wr™e
 (
¤c
, 0, 
h—d”
);

153 
	`block_wr™e
 (
¤c
, 1, 
h—d”
);

155 
	`ä“
 (
d©a
);

156 
	`ä“
 (
h—d”
);

157 
	}
}

168 
	$fsut_­³nd
 (**
¬gv
)

170 
block_£ùÜ_t
 
£ùÜ
 = 0;

172 cÚ¡ *
fe_Çme
 = 
¬gv
[1];

173 *
bufãr
;

174 
fe
 *
¤c
;

175 
block
 *
d¡
;

176 
off_t
 
size
;

178 
	`´štf
 ("G‘tšg '%s' fromhfsy¡em...\n", 
fe_Çme
);

181 
bufãr
 = 
	`m®loc
 (
BLOCK_SECTOR_SIZE
);

182 ià(
bufãr
 =ğ
NULL
)

183 
	`PANIC
 ("couldn't‡llocate buffer");

186 
¤c
 = 
	`fesys_İ’
 (
fe_Çme
);

187 ià(
¤c
 =ğ
NULL
)

188 
	`PANIC
 ("%s: o³Àçed", 
fe_Çme
);

189 
size
 = 
	`fe_Ëngth
 (
¤c
);

192 
d¡
 = 
	`block_g‘_rŞe
 (
BLOCK_SCRATCH
);

193 ià(
d¡
 =ğ
NULL
)

194 
	`PANIC
 ("couldn't open scratch device");

197 ià(!
	`u¡¬_make_h—d”
 (
fe_Çme
, 
USTAR_REGULAR
, 
size
, 
bufãr
))

198 
	`PANIC
 ("%s: cª'ˆg‘ from fsy¡em (ÇmtoØlÚg)", 
fe_Çme
);

199 
	`block_wr™e
 (
d¡
, 
£ùÜ
++, 
bufãr
);

202 
size
 > 0)

204 
chunk_size
 = 
size
 > 
BLOCK_SECTOR_SIZE
 ? BLOCK_SECTOR_SIZE : size;

205 ià(
£ùÜ
 >ğ
	`block_size
 (
d¡
))

206 
	`PANIC
 ("%s: ouˆoà¥aû oÀsü©ch deviû", 
fe_Çme
);

207 ià(
	`fe_»ad
 (
¤c
, 
bufãr
, 
chunk_size
) != chunk_size)

208 
	`PANIC
 ("%s:„—d faed w™h %"
PROTd
" by‹ uÄ—d", 
fe_Çme
, 
size
);

209 
	`mem£t
 (
bufãr
 + 
chunk_size
, 0, 
BLOCK_SECTOR_SIZE
 - chunk_size);

210 
	`block_wr™e
 (
d¡
, 
£ùÜ
++, 
bufãr
);

211 
size
 -ğ
chunk_size
;

217 
	`mem£t
 (
bufãr
, 0, 
BLOCK_SECTOR_SIZE
);

218 
	`block_wr™e
 (
d¡
, 
£ùÜ
, 
bufãr
);

219 
	`block_wr™e
 (
d¡
, 
£ùÜ
, 
bufãr
 + 1);

222 
	`fe_şo£
 (
¤c
);

223 
	`ä“
 (
bufãr
);

224 
	}
}

	@filesys/fsutil.h

1 #iâdeà
FILESYS_FSUTIL_H


3 
	#FILESYS_FSUTIL_H


	)

5 
fsut_ls
 (**
¬gv
);

6 
fsut_ÿt
 (**
¬gv
);

7 
fsut_rm
 (**
¬gv
);

8 
fsut_exŒaù
 (**
¬gv
);

9 
fsut_­³nd
 (**
¬gv
);

	@filesys/inode.c

1 
	~"fesys/šode.h
"

3 
	~<li¡.h
>

4 
	~<debug.h
>

5 
	~<round.h
>

6 
	~<¡ršg.h
>

7 
	~"fesys/fesys.h
"

8 
	~"fesys/ä“-m­.h
"

9 
	~"th»ads/m®loc.h
"

12 
	#INODE_MAGIC
 0x494e4f44

	)

16 
	sšode_disk


18 
block_£ùÜ_t
 
	m¡¬t
;

19 
off_t
 
	mËngth
;

20 
	mmagic
;

21 
ušt32_t
 
	munu£d
[125];

26 
šlše
 
size_t


27 
	$by‹s_to_£ùÜs
 (
off_t
 
size
)

29  
	`DIV_ROUND_UP
 (
size
, 
BLOCK_SECTOR_SIZE
);

30 
	}
}

33 
	sšode


35 
li¡_–em
 
	m–em
;

36 
block_£ùÜ_t
 
	m£ùÜ
;

37 
	mİ’_út
;

38 
boŞ
 
	m»moved
;

39 
	md’y_wr™e_út
;

40 
šode_disk
 
	md©a
;

47 
block_£ùÜ_t


48 
	$by‹_to_£ùÜ
 (cÚ¡ 
šode
 *šode, 
off_t
 
pos
)

50 
	`ASSERT
 (
šode
 !ğ
NULL
);

51 ià(
pos
 < 
šode
->
d©a
.
Ëngth
)

52  
šode
->
d©a
.
¡¬t
 + 
pos
 / 
BLOCK_SECTOR_SIZE
;

55 
	}
}

59 
li¡
 
	gİ’_šodes
;

63 
	$šode_š™
 ()

65 
	`li¡_š™
 (&
İ’_šodes
);

66 
	}
}

73 
boŞ


74 
	$šode_ü—‹
 (
block_£ùÜ_t
 
£ùÜ
, 
off_t
 
Ëngth
)

76 
šode_disk
 *
disk_šode
 = 
NULL
;

77 
boŞ
 
sucûss
 = 
çl£
;

79 
	`ASSERT
 (
Ëngth
 >= 0);

83 
	`ASSERT
 ( *
disk_šode
 =ğ
BLOCK_SECTOR_SIZE
);

85 
disk_šode
 = 
	`ÿÎoc
 (1,  *disk_inode);

86 ià(
disk_šode
 !ğ
NULL
)

88 
size_t
 
£ùÜs
 = 
	`by‹s_to_£ùÜs
 (
Ëngth
);

89 
disk_šode
->
Ëngth
 =†ength;

90 
disk_šode
->
magic
 = 
INODE_MAGIC
;

91 ià(
	`ä“_m­_®loÿ‹
 (
£ùÜs
, &
disk_šode
->
¡¬t
))

93 
	`block_wr™e
 (
fs_deviû
, 
£ùÜ
, 
disk_šode
);

94 ià(
£ùÜs
 > 0)

96 
z”os
[
BLOCK_SECTOR_SIZE
];

97 
size_t
 
i
;

99 
i
 = 0; i < 
£ùÜs
; i++)

100 
	`block_wr™e
 (
fs_deviû
, 
disk_šode
->
¡¬t
 + 
i
, 
z”os
);

102 
sucûss
 = 
Œue
;

104 
	`ä“
 (
disk_šode
);

106  
sucûss
;

107 
	}
}

112 
šode
 *

113 
	$šode_İ’
 (
block_£ùÜ_t
 
£ùÜ
)

115 
li¡_–em
 *
e
;

116 
šode
 *inode;

119 
e
 = 
	`li¡_begš
 (&
İ’_šodes
);ƒ !ğ
	`li¡_’d
 (&open_inodes);

120 
e
 = 
	`li¡_Ãxt
 (e))

122 
šode
 = 
	`li¡_’Œy
 (
e
, šode, 
–em
);

123 ià(
šode
->
£ùÜ
 == sector)

125 
	`šode_»İ’
 (
šode
);

126  
šode
;

131 
šode
 = 
	`m®loc
 ( *inode);

132 ià(
šode
 =ğ
NULL
)

133  
NULL
;

136 
	`li¡_push_äÚt
 (&
İ’_šodes
, &
šode
->
–em
);

137 
šode
->
£ùÜ
 = sector;

138 
šode
->
İ’_út
 = 1;

139 
šode
->
d’y_wr™e_út
 = 0;

140 
šode
->
»moved
 = 
çl£
;

141 
	`block_»ad
 (
fs_deviû
, 
šode
->
£ùÜ
, &šode->
d©a
);

142  
šode
;

143 
	}
}

146 
šode
 *

147 
	$šode_»İ’
 (
šode
 *inode)

149 ià(
šode
 !ğ
NULL
)

150 
šode
->
İ’_út
++;

151  
šode
;

152 
	}
}

155 
block_£ùÜ_t


156 
	$šode_g‘_šumb”
 (cÚ¡ 
šode
 *inode)

158  
šode
->
£ùÜ
;

159 
	}
}

165 
	$šode_şo£
 (
šode
 *inode)

168 ià(
šode
 =ğ
NULL
)

172 ià(--
šode
->
İ’_út
 == 0)

175 
	`li¡_»move
 (&
šode
->
–em
);

178 ià(
šode
->
»moved
)

180 
	`ä“_m­_»Ëa£
 (
šode
->
£ùÜ
, 1);

181 
	`ä“_m­_»Ëa£
 (
šode
->
d©a
.
¡¬t
,

182 
	`by‹s_to_£ùÜs
 (
šode
->
d©a
.
Ëngth
));

185 
	`ä“
 (
šode
);

187 
	}
}

192 
	$šode_»move
 (
šode
 *inode)

194 
	`ASSERT
 (
šode
 !ğ
NULL
);

195 
šode
->
»moved
 = 
Œue
;

196 
	}
}

201 
off_t


202 
	$šode_»ad_©
 (
šode
 *šode, *
bufãr_
, 
off_t
 
size
, off_ˆ
off£t
)

204 
ušt8_t
 *
bufãr
 = 
bufãr_
;

205 
off_t
 
by‹s_»ad
 = 0;

206 
ušt8_t
 *
bounû
 = 
NULL
;

208 
size
 > 0)

211 
block_£ùÜ_t
 
£ùÜ_idx
 = 
	`by‹_to_£ùÜ
 (
šode
, 
off£t
);

212 
£ùÜ_ofs
 = 
off£t
 % 
BLOCK_SECTOR_SIZE
;

215 
off_t
 
šode_Ëá
 = 
	`šode_Ëngth
 (
šode
è- 
off£t
;

216 
£ùÜ_Ëá
 = 
BLOCK_SECTOR_SIZE
 - 
£ùÜ_ofs
;

217 
mš_Ëá
 = 
šode_Ëá
 < 
£ùÜ_Ëá
 ? inode_left : sector_left;

220 
chunk_size
 = 
size
 < 
mš_Ëá
 ? size : min_left;

221 ià(
chunk_size
 <= 0)

224 ià(
£ùÜ_ofs
 =ğ0 && 
chunk_size
 =ğ
BLOCK_SECTOR_SIZE
)

227 
	`block_»ad
 (
fs_deviû
, 
£ùÜ_idx
, 
bufãr
 + 
by‹s_»ad
);

233 ià(
bounû
 =ğ
NULL
)

235 
bounû
 = 
	`m®loc
 (
BLOCK_SECTOR_SIZE
);

236 ià(
bounû
 =ğ
NULL
)

239 
	`block_»ad
 (
fs_deviû
, 
£ùÜ_idx
, 
bounû
);

240 
	`memıy
 (
bufãr
 + 
by‹s_»ad
, 
bounû
 + 
£ùÜ_ofs
, 
chunk_size
);

244 
size
 -ğ
chunk_size
;

245 
off£t
 +ğ
chunk_size
;

246 
by‹s_»ad
 +ğ
chunk_size
;

248 
	`ä“
 (
bounû
);

250  
by‹s_»ad
;

251 
	}
}

258 
off_t


259 
	$šode_wr™e_©
 (
šode
 *šode, cÚ¡ *
bufãr_
, 
off_t
 
size
,

260 
off_t
 
off£t
)

262 cÚ¡ 
ušt8_t
 *
bufãr
 = 
bufãr_
;

263 
off_t
 
by‹s_wr™‹n
 = 0;

264 
ušt8_t
 *
bounû
 = 
NULL
;

266 ià(
šode
->
d’y_wr™e_út
)

269 
size
 > 0)

272 
block_£ùÜ_t
 
£ùÜ_idx
 = 
	`by‹_to_£ùÜ
 (
šode
, 
off£t
);

273 
£ùÜ_ofs
 = 
off£t
 % 
BLOCK_SECTOR_SIZE
;

276 
off_t
 
šode_Ëá
 = 
	`šode_Ëngth
 (
šode
è- 
off£t
;

277 
£ùÜ_Ëá
 = 
BLOCK_SECTOR_SIZE
 - 
£ùÜ_ofs
;

278 
mš_Ëá
 = 
šode_Ëá
 < 
£ùÜ_Ëá
 ? inode_left : sector_left;

281 
chunk_size
 = 
size
 < 
mš_Ëá
 ? size : min_left;

282 ià(
chunk_size
 <= 0)

285 ià(
£ùÜ_ofs
 =ğ0 && 
chunk_size
 =ğ
BLOCK_SECTOR_SIZE
)

288 
	`block_wr™e
 (
fs_deviû
, 
£ùÜ_idx
, 
bufãr
 + 
by‹s_wr™‹n
);

293 ià(
bounû
 =ğ
NULL
)

295 
bounû
 = 
	`m®loc
 (
BLOCK_SECTOR_SIZE
);

296 ià(
bounû
 =ğ
NULL
)

303 ià(
£ùÜ_ofs
 > 0 || 
chunk_size
 < 
£ùÜ_Ëá
)

304 
	`block_»ad
 (
fs_deviû
, 
£ùÜ_idx
, 
bounû
);

306 
	`mem£t
 (
bounû
, 0, 
BLOCK_SECTOR_SIZE
);

307 
	`memıy
 (
bounû
 + 
£ùÜ_ofs
, 
bufãr
 + 
by‹s_wr™‹n
, 
chunk_size
);

308 
	`block_wr™e
 (
fs_deviû
, 
£ùÜ_idx
, 
bounû
);

312 
size
 -ğ
chunk_size
;

313 
off£t
 +ğ
chunk_size
;

314 
by‹s_wr™‹n
 +ğ
chunk_size
;

316 
	`ä“
 (
bounû
);

318  
by‹s_wr™‹n
;

319 
	}
}

324 
	$šode_d’y_wr™e
 (
šode
 *inode)

326 
šode
->
d’y_wr™e_út
++;

327 
	`ASSERT
 (
šode
->
d’y_wr™e_út
 <ğšode->
İ’_út
);

328 
	}
}

334 
	$šode_®low_wr™e
 (
šode
 *inode)

336 
	`ASSERT
 (
šode
->
d’y_wr™e_út
 > 0);

337 
	`ASSERT
 (
šode
->
d’y_wr™e_út
 <ğšode->
İ’_út
);

338 
šode
->
d’y_wr™e_út
--;

339 
	}
}

342 
off_t


343 
	$šode_Ëngth
 (cÚ¡ 
šode
 *inode)

345  
šode
->
d©a
.
Ëngth
;

346 
	}
}

	@filesys/inode.h

1 #iâdeà
FILESYS_INODE_H


3 
	#FILESYS_INODE_H


	)

5 
	~<¡dboŞ.h
>

6 
	~"fesys/off_t.h
"

7 
	~"deviûs/block.h
"

9 
	gb™m­
;

11 
šode_š™
 ();

12 
boŞ
 
šode_ü—‹
 (
block_£ùÜ_t
, 
off_t
);

13 
šode
 *
šode_İ’
 (
block_£ùÜ_t
);

14 
šode
 *
šode_»İ’
 (inode *);

15 
block_£ùÜ_t
 
šode_g‘_šumb”
 (cÚ¡ 
šode
 *);

16 
šode_şo£
 (
šode
 *);

17 
šode_»move
 (
šode
 *);

18 
off_t
 
šode_»ad_©
 (
šode
 *, *, off_ˆ
size
, off_ˆ
off£t
);

19 
off_t
 
šode_wr™e_©
 (
šode
 *, cÚ¡ *, off_ˆ
size
, off_ˆ
off£t
);

20 
šode_d’y_wr™e
 (
šode
 *);

21 
šode_®low_wr™e
 (
šode
 *);

22 
off_t
 
šode_Ëngth
 (cÚ¡ 
šode
 *);

	@filesys/off_t.h

1 #iâdeà
FILESYS_OFF_T_H


3 
	#FILESYS_OFF_T_H


	)

5 
	~<¡dšt.h
>

10 
št32_t
 
	toff_t
;

14 
	#PROTd
 
PRId32


	)

	@lib/arithmetic.c

1 
	~<¡dšt.h
>

26 
šlše
 
ušt32_t


27 
	$divl
 (
ušt64_t
 
n
, 
ušt32_t
 
d
)

29 
ušt32_t
 
n1
 = 
n
 >> 32;

30 
ušt32_t
 
n0
 = 
n
;

31 
ušt32_t
 
q
, 
r
;

33 
	`asm
 ("divl %4"

34 : "=d" (
r
), "÷" (
q
)

35 : "0" (
n1
), "1" (
n0
), "rm" (
d
));

37  
q
;

38 
	}
}

43 
	$Æz
 (
ušt32_t
 
x
)

50 
n
 = 0;

51 ià(
x
 <= 0x0000FFFF)

53 
n
 += 16;

54 
x
 <<= 16;

56 ià(
x
 <= 0x00FFFFFF)

58 
n
 += 8;

59 
x
 <<= 8;

61 ià(
x
 <= 0x0FFFFFFF)

63 
n
 += 4;

64 
x
 <<= 4;

66 ià(
x
 <= 0x3FFFFFFF)

68 
n
 += 2;

69 
x
 <<= 2;

71 ià(
x
 <= 0x7FFFFFFF)

72 
n
++;

73  
n
;

74 
	}
}

78 
ušt64_t


79 
	$udiv64
 (
ušt64_t
 
n
, ušt64_ˆ
d
)

81 ià((
d
 >> 32) == 0)

107 
ušt64_t
 
b
 = 1ULL << 32;

108 
ušt32_t
 
n1
 = 
n
 >> 32;

109 
ušt32_t
 
n0
 = 
n
;

110 
ušt32_t
 
d0
 = 
d
;

112  
	`divl
 (
b
 * (
n1
 % 
d0
è+ 
n0
, d0) + b * (n1 / d0);

118 ià(
n
 < 
d
)

122 
ušt32_t
 
d1
 = 
d
 >> 32;

123 
s
 = 
	`Æz
 (
d1
);

124 
ušt64_t
 
q
 = 
	`divl
 (
n
 >> 1, (
d
 << 
s
) >> 32) >> (31 - s);

125  
n
 - (
q
 - 1è* 
d
 < d ? q - 1 : q;

128 
	}
}

132 
ušt32_t


133 
	$umod64
 (
ušt64_t
 
n
, ušt64_ˆ
d
)

135  
n
 - 
d
 * 
	`udiv64
 (n, d);

136 
	}
}

140 
št64_t


141 
	$sdiv64
 (
št64_t
 
n
, iÁ64_ˆ
d
)

143 
ušt64_t
 
n_abs
 = 
n
 >= 0 ? (uint64_t)‚ : -(uint64_t)‚;

144 
ušt64_t
 
d_abs
 = 
d
 >= 0 ? (uint64_t) d : -(uint64_t) d;

145 
ušt64_t
 
q_abs
 = 
	`udiv64
 (
n_abs
, 
d_abs
);

146  (
n
 < 0è=ğ(
d
 < 0è? (
št64_t
è
q_abs
 : -(int64_t) q_abs;

147 
	}
}

151 
št32_t


152 
	$smod64
 (
št64_t
 
n
, iÁ64_ˆ
d
)

154  
n
 - 
d
 * 
	`sdiv64
 (n, d);

155 
	}
}

159 
__divdi3
 (
n
, 
d
);

160 
__moddi3
 (
n
, 
d
);

161 
__udivdi3
 (
n
, 
d
);

162 
__umoddi3
 (
n
, 
d
);

166 
	$__divdi3
 (
n
, 
d
)

168  
	`sdiv64
 (
n
, 
d
);

169 
	}
}

173 
	$__moddi3
 (
n
, 
d
)

175  
	`smod64
 (
n
, 
d
);

176 
	}
}

180 
	$__udivdi3
 (
n
, 
d
)

182  
	`udiv64
 (
n
, 
d
);

183 
	}
}

187 
	$__umoddi3
 (
n
, 
d
)

189  
	`umod64
 (
n
, 
d
);

190 
	}
}

	@lib/ctype.h

1 #iâdeà
__LIB_CTYPE_H


3 
	#__LIB_CTYPE_H


	)

5 
šlše
 
	$i¦ow”
 (
c
è{  c >ğ'a' && c <ğ'z'; 
	}
}

6 
šlše
 
	$isuµ”
 (
c
è{  c >ğ'A' && c <ğ'Z'; 
	}
}

7 
šlše
 
	$i§Íha
 (
c
è{  
	`i¦ow”
 (cè|| 
	`isuµ”
 (c); 
	}
}

8 
šlše
 
	$isdig™
 (
c
è{  c >ğ'0' && c <ğ'9'; 
	}
}

9 
šlše
 
	$i§Êum
 (
c
è{  
	`i§Íha
 (cè|| 
	`isdig™
 (c); 
	}
}

10 
šlše
 
	$isxdig™
 (
c
) {

11  
	`isdig™
 (
c
) || (c >= 'a' && c <= 'f') || (c >= 'A' && c <= 'F');

12 
	}
}

13 
šlše
 
	$is¥aû
 (
c
) {

14  (
c
 == ' ' || c == '\f' || c == '\n'

15 || 
c
 == '\r' || c == '\t' || c == '\v');

16 
	}
}

17 
šlše
 
	$isbÏnk
 (
c
è{  c =ğ' ' || c =ğ'\t'; 
	}
}

18 
šlše
 
	$isg¿ph
 (
c
è{  c > 32 && c < 127; 
	}
}

19 
šlše
 
	$i¥ršt
 (
c
è{  c >ğ32 && c < 127; 
	}
}

20 
šlše
 
	$isúŒl
 (
c
è{  (ø>ğ0 && c < 32è|| c =ğ127; 
	}
}

21 
šlše
 
	$i§scii
 (
c
è{  c >ğ0 && c < 128; 
	}
}

22 
šlše
 
	$i¥unù
 (
c
) {

23  
	`i¥ršt
 (
c
è&& !
	`i§Êum
 (cè&& !
	`is¥aû
 (c);

24 
	}
}

26 
šlše
 
	$tŞow”
 (
c
è{  
	`isuµ”
 (cè? c - 'A' + 'a' : c; 
	}
}

27 
šlše
 
	$touµ”
 (
c
è{  
	`i¦ow”
 (cè? c - 'a' + 'A' : c; 
	}
}

	@lib/debug.c

1 
	~<debug.h
>

3 
	~<¡d¬g.h
>

4 
	~<¡dboŞ.h
>

5 
	~<¡ddef.h
>

6 
	~<¡dio.h
>

7 
	~<¡ršg.h
>

14 
	$debug_backŒaû
 ()

16 
boŞ
 
ex¶ašed
;

17 **
äame
;

19 
	`´štf
 ("C®È¡ack: %p", 
	`__butš_»tuº_add»ss
 (0));

20 
äame
 = 
	`__butš_äame_add»ss
 (1);

21 (
ušŒ_t
è
äame
 >ğ0x1000 && f¿me[0] !ğ
NULL
;

22 
äame
 = frame[0])

23 
	`´štf
 (" %p", 
äame
[1]);

24 
	`´štf
 (".\n");

26 ià(!
ex¶ašed
)

28 
ex¶ašed
 = 
Œue
;

29 
	`´štf
 ("The `backtrace'…rogram can make call stacks useful.\n"

33 
	}
}

	@lib/debug.h

1 #iâdeà
__LIB_DEBUG_H


3 
	#__LIB_DEBUG_H


	)

8 
	#UNUSED
 
	`__©Œibu‹__
 ((
unu£d
))

	)

9 
	#NO_RETURN
 
	`__©Œibu‹__
 ((
nÜ‘uº
))

	)

10 
	#NO_INLINE
 
	`__©Œibu‹__
 ((
nošlše
))

	)

11 
	#PRINTF_FORMAT
(
FMT
, 
FIRST
è
	`__©Œibu‹__
 ((
	`fÜm©
 (
´štf
, FMT, FIRST)))

	)

15 
	#PANIC
(...è
	`debug_·nic
 (
__FILE__
, 
__LINE__
, 
__func__
, 
__VA_ARGS__
)

	)

17 
	$debug_·nic
 (cÚ¡ *
fe
, 
lše
, cÚ¡ *
funùiÚ
,

18 cÚ¡ *
mes§ge
, ...è
	$PRINTF_FORMAT
 (4, 5è
NO_RETURN
;

19 
	`debug_backŒaû
 ();

20 
	`debug_backŒaû_®l
 ();

28 #undeà
ASSERT


29 #undeà
NOT_REACHED


31 #iâdeà
NDEBUG


32 
	#ASSERT
(
CONDITION
) \

33 ià(
CONDITION
è{ 
	}
} { \

34 
	`PANIC
 ("assertion `%s' failed.", #CONDITION); \

35 }

	)

36 
	#NOT_REACHED
(è
	`PANIC
 ("execu‹d‡ÀuÄ—chabË s‹m’t");

	)

38 
	#ASSERT
(
CONDITION
è((è0)

	)

39 
	#NOT_REACHED
(è;;)

	)

	@lib/endian.h

1 #iâdeà
__LIB_ENDIAN_H


3 
	#__LIB_ENDIAN_H


	)

6 
	#’dŸn_sw­32
(
x
) ((((x) & 0xff000000) >> 24) | \

7 (((
x
) & 0x00ff0000) >> 8) | \

8 (((
x
) & 0x0000ff00) << 8) | \

9 (((
x
è& 0x000000ffè<< 24))

	)

10 
	#’dŸn_sw­16
(
x
è((((xè& 0xff00)>> 8è| (((xè& 0x00ffè<< 8))

	)

11 
	#’dŸn_sw­24
(
x
è(((xè>> 16è& 0xffè| (((xè& 0xffè<< 16è| ((xè& 0xff00)

	)

13 
	#be32_to_machše
(
x
è
	`’dŸn_sw­32
(x)

	)

14 
	#be16_to_machše
(
x
è
	`’dŸn_sw­16
(x)

	)

15 
	#be24_to_machše
(
x
è
	`’dŸn_sw­24
(x)

	)

16 
	#machše_to_be32
(
x
è
	`’dŸn_sw­32
(x)

	)

17 
	#machše_to_be16
(
x
è
	`’dŸn_sw­16
(x)

	)

18 
	#machše_to_be24
(
x
è
	`’dŸn_sw­24
(x)

	)

	@lib/inttypes.h

1 #iâdeà
__LIB_INTTYPES_H


3 
	#__LIB_INTTYPES_H


	)

5 
	~<¡dšt.h
>

7 
	#PRId8
 "hhd"

	)

8 
	#PRIi8
 "hhi"

	)

9 
	#PRIo8
 "hho"

	)

10 
	#PRIu8
 "hhu"

	)

11 
	#PRIx8
 "hhx"

	)

12 
	#PRIX8
 "hhX"

	)

14 
	#PRId16
 "hd"

	)

15 
	#PRIi16
 "hi"

	)

16 
	#PRIo16
 "ho"

	)

17 
	#PRIu16
 "hu"

	)

18 
	#PRIx16
 "hx"

	)

19 
	#PRIX16
 "hX"

	)

21 
	#PRId32
 "d"

	)

22 
	#PRIi32
 "i"

	)

23 
	#PRIo32
 "o"

	)

24 
	#PRIu32
 "u"

	)

25 
	#PRIx32
 "x"

	)

26 
	#PRIX32
 "X"

	)

28 
	#PRId64
 "Îd"

	)

29 
	#PRIi64
 "Îi"

	)

30 
	#PRIo64
 "Îo"

	)

31 
	#PRIu64
 "Îu"

	)

32 
	#PRIx64
 "Îx"

	)

33 
	#PRIX64
 "ÎX"

	)

35 
	#PRIdMAX
 "jd"

	)

36 
	#PRIiMAX
 "ji"

	)

37 
	#PRIoMAX
 "jo"

	)

38 
	#PRIuMAX
 "ju"

	)

39 
	#PRIxMAX
 "jx"

	)

40 
	#PRIXMAX
 "jX"

	)

42 
	#PRIdPTR
 "td"

	)

43 
	#PRIiPTR
 "ti"

	)

44 
	#PRIoPTR
 "to"

	)

45 
	#PRIuPTR
 "tu"

	)

46 
	#PRIxPTR
 "tx"

	)

47 
	#PRIXPTR
 "tX"

	)

	@lib/kernel/bitmap.c

1 
	~"b™m­.h
"

2 
	~<debug.h
>

3 
	~<lim™s.h
>

4 
	~<round.h
>

5 
	~<¡dio.h
>

6 
	~"th»ads/m®loc.h
"

7 #ifdeà
FILESYS


8 
	~"fesys/fe.h
"

19 
	t–em_ty³
;

22 
	#ELEM_BITS
 ( (
–em_ty³
è* 
CHAR_BIT
)

	)

27 
	sb™m­


29 
size_t
 
	mb™_út
;

30 
–em_ty³
 *
	mb™s
;

35 
šlše
 
size_t


36 
	$–em_idx
 (
size_t
 
b™_idx
)

38  
b™_idx
 / 
ELEM_BITS
;

39 
	}
}

43 
šlše
 
–em_ty³


44 
	$b™_mask
 (
size_t
 
b™_idx
)

46  (
–em_ty³
è1 << (
b™_idx
 % 
ELEM_BITS
);

47 
	}
}

50 
šlše
 
size_t


51 
	$–em_út
 (
size_t
 
b™_út
)

53  
	`DIV_ROUND_UP
 (
b™_út
, 
ELEM_BITS
);

54 
	}
}

57 
šlše
 
size_t


58 
	$by‹_út
 (
size_t
 
b™_út
)

60   (
–em_ty³
è* 
	`–em_út
 (
b™_út
);

61 
	}
}

65 
šlše
 
–em_ty³


66 
	$Ï¡_mask
 (cÚ¡ 
b™m­
 *
b
)

68 
Ï¡_b™s
 = 
b
->
b™_út
 % 
ELEM_BITS
;

69  
Ï¡_b™s
 ? ((
–em_ty³
) 1 <<†ast_bits) - 1 : (elem_type) -1;

70 
	}
}

78 
b™m­
 *

79 
	$b™m­_ü—‹
 (
size_t
 
b™_út
)

81 
b™m­
 *
b
 = 
	`m®loc
 ( *b);

82 ià(
b
 !ğ
NULL
)

84 
b
->
b™_út
 = bit_cnt;

85 
b
->
b™s
 = 
	`m®loc
 (
	`by‹_út
 (
b™_út
));

86 ià(
b
->
b™s
 !ğ
NULL
 || 
b™_út
 == 0)

88 
	`b™m­_£t_®l
 (
b
, 
çl£
);

89  
b
;

91 
	`ä“
 (
b
);

93  
NULL
;

94 
	}
}

99 
b™m­
 *

100 
	$b™m­_ü—‹_š_buf
 (
size_t
 
b™_út
, *
block
, size_ˆ
block_size
 
UNUSED
)

102 
b™m­
 *
b
 = 
block
;

104 
	`ASSERT
 (
block_size
 >ğ
	`b™m­_buf_size
 (
b™_út
));

106 
b
->
b™_út
 = bit_cnt;

107 
b
->
b™s
 = (
–em_ty³
 *) (b + 1);

108 
	`b™m­_£t_®l
 (
b
, 
çl£
);

109  
b
;

110 
	}
}

114 
size_t


115 
	$b™m­_buf_size
 (
size_t
 
b™_út
)

117   (
b™m­
è+ 
	`by‹_út
 (
b™_út
);

118 
	}
}

124 
	$b™m­_de¡roy
 (
b™m­
 *
b
)

126 ià(
b
 !ğ
NULL
)

128 
	`ä“
 (
b
->
b™s
);

129 
	`ä“
 (
b
);

131 
	}
}

136 
size_t


137 
	$b™m­_size
 (cÚ¡ 
b™m­
 *
b
)

139  
b
->
b™_út
;

140 
	}
}

146 
	$b™m­_£t
 (
b™m­
 *
b
, 
size_t
 
idx
, 
boŞ
 
v®ue
)

148 
	`ASSERT
 (
b
 !ğ
NULL
);

149 
	`ASSERT
 (
idx
 < 
b
->
b™_út
);

150 ià(
v®ue
)

151 
	`b™m­_m¬k
 (
b
, 
idx
);

153 
	`b™m­_»£t
 (
b
, 
idx
);

154 
	}
}

158 
	$b™m­_m¬k
 (
b™m­
 *
b
, 
size_t
 
b™_idx
)

160 
size_t
 
idx
 = 
	`–em_idx
 (
b™_idx
);

161 
–em_ty³
 
mask
 = 
	`b™_mask
 (
b™_idx
);

166 
	`asm
 ("ÜÈ%1, %0" : "=m" (
b
->
b™s
[
idx
]è: "r" (
mask
) : "cc");

167 
	}
}

171 
	$b™m­_»£t
 (
b™m­
 *
b
, 
size_t
 
b™_idx
)

173 
size_t
 
idx
 = 
	`–em_idx
 (
b™_idx
);

174 
–em_ty³
 
mask
 = 
	`b™_mask
 (
b™_idx
);

179 
	`asm
 ("ªdÈ%1, %0" : "=m" (
b
->
b™s
[
idx
]è: "r" (~
mask
) : "cc");

180 
	}
}

186 
	$b™m­_æ
 (
b™m­
 *
b
, 
size_t
 
b™_idx
)

188 
size_t
 
idx
 = 
	`–em_idx
 (
b™_idx
);

189 
–em_ty³
 
mask
 = 
	`b™_mask
 (
b™_idx
);

194 
	`asm
 ("xÜÈ%1, %0" : "=m" (
b
->
b™s
[
idx
]è: "r" (
mask
) : "cc");

195 
	}
}

198 
boŞ


199 
	$b™m­_‹¡
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
idx
)

201 
	`ASSERT
 (
b
 !ğ
NULL
);

202 
	`ASSERT
 (
idx
 < 
b
->
b™_út
);

203  (
b
->
b™s
[
	`–em_idx
 (
idx
)] & 
	`b™_mask
 (idx)) != 0;

204 
	}
}

210 
	$b™m­_£t_®l
 (
b™m­
 *
b
, 
boŞ
 
v®ue
)

212 
	`ASSERT
 (
b
 !ğ
NULL
);

214 
	`b™m­_£t_muÉË
 (
b
, 0, 
	`b™m­_size
 (b), 
v®ue
);

215 
	}
}

219 
	$b™m­_£t_muÉË
 (
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

221 
size_t
 
i
;

223 
	`ASSERT
 (
b
 !ğ
NULL
);

224 
	`ASSERT
 (
¡¬t
 <ğ
b
->
b™_út
);

225 
	`ASSERT
 (
¡¬t
 + 
út
 <ğ
b
->
b™_út
);

227 
i
 = 0; i < 
út
; i++)

228 
	`b™m­_£t
 (
b
, 
¡¬t
 + 
i
, 
v®ue
);

229 
	}
}

233 
size_t


234 
	$b™m­_couÁ
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

236 
size_t
 
i
, 
v®ue_út
;

238 
	`ASSERT
 (
b
 !ğ
NULL
);

239 
	`ASSERT
 (
¡¬t
 <ğ
b
->
b™_út
);

240 
	`ASSERT
 (
¡¬t
 + 
út
 <ğ
b
->
b™_út
);

242 
v®ue_út
 = 0;

243 
i
 = 0; i < 
út
; i++)

244 ià(
	`b™m­_‹¡
 (
b
, 
¡¬t
 + 
i
è=ğ
v®ue
)

245 
v®ue_út
++;

246  
v®ue_út
;

247 
	}
}

251 
boŞ


252 
	$b™m­_cÚšs
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

254 
size_t
 
i
;

256 
	`ASSERT
 (
b
 !ğ
NULL
);

257 
	`ASSERT
 (
¡¬t
 <ğ
b
->
b™_út
);

258 
	`ASSERT
 (
¡¬t
 + 
út
 <ğ
b
->
b™_út
);

260 
i
 = 0; i < 
út
; i++)

261 ià(
	`b™m­_‹¡
 (
b
, 
¡¬t
 + 
i
è=ğ
v®ue
)

262  
Œue
;

263  
çl£
;

264 
	}
}

268 
boŞ


269 
	$b™m­_ªy
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
)

271  
	`b™m­_cÚšs
 (
b
, 
¡¬t
, 
út
, 
Œue
);

272 
	}
}

276 
boŞ


277 
	$b™m­_nÚe
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
)

279  !
	`b™m­_cÚšs
 (
b
, 
¡¬t
, 
út
, 
Œue
);

280 
	}
}

284 
boŞ


285 
	$b™m­_®l
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
)

287  !
	`b™m­_cÚšs
 (
b
, 
¡¬t
, 
út
, 
çl£
);

288 
	}
}

296 
size_t


297 
	$b™m­_sÿn
 (cÚ¡ 
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

299 
	`ASSERT
 (
b
 !ğ
NULL
);

300 
	`ASSERT
 (
¡¬t
 <ğ
b
->
b™_út
);

302 ià(
út
 <ğ
b
->
b™_út
)

304 
size_t
 
Ï¡
 = 
b
->
b™_út
 - 
út
;

305 
size_t
 
i
;

306 
i
 = 
¡¬t
; i <ğ
Ï¡
; i++)

307 ià(!
	`b™m­_cÚšs
 (
b
, 
i
, 
út
, !
v®ue
))

308  
i
;

310  
BITMAP_ERROR
;

311 
	}
}

320 
size_t


321 
	$b™m­_sÿn_ªd_æ
 (
b™m­
 *
b
, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
 
v®ue
)

323 
size_t
 
idx
 = 
	`b™m­_sÿn
 (
b
, 
¡¬t
, 
út
, 
v®ue
);

324 ià(
idx
 !ğ
BITMAP_ERROR
)

325 
	`b™m­_£t_muÉË
 (
b
, 
idx
, 
út
, !
v®ue
);

326  
idx
;

327 
	}
}

331 #ifdeà
FILESYS


333 
size_t


334 
	$b™m­_fe_size
 (cÚ¡ 
b™m­
 *
b
)

336  
	`by‹_út
 (
b
->
b™_út
);

337 
	}
}

341 
boŞ


342 
	$b™m­_»ad
 (
b™m­
 *
b
, 
fe
 *file)

344 
boŞ
 
sucûss
 = 
Œue
;

345 ià(
b
->
b™_út
 > 0)

347 
off_t
 
size
 = 
	`by‹_út
 (
b
->
b™_út
);

348 
sucûss
 = 
	`fe_»ad_©
 (
fe
, 
b
->
b™s
, 
size
, 0) == size;

349 
b
->
b™s
[
	`–em_út
 (b->
b™_út
è- 1] &ğ
	`Ï¡_mask
 (b);

351  
sucûss
;

352 
	}
}

356 
boŞ


357 
	$b™m­_wr™e
 (cÚ¡ 
b™m­
 *
b
, 
fe
 *file)

359 
off_t
 
size
 = 
	`by‹_út
 (
b
->
b™_út
);

360  
	`fe_wr™e_©
 (
fe
, 
b
->
b™s
, 
size
, 0) == size;

361 
	}
}

368 
	$b™m­_dump
 (cÚ¡ 
b™m­
 *
b
)

370 
	`hex_dump
 (0, 
b
->
b™s
, 
	`by‹_út
 (b->
b™_út
), 
çl£
);

371 
	}
}

	@lib/kernel/bitmap.h

1 #iâdeà
__LIB_KERNEL_BITMAP_H


2 
	#__LIB_KERNEL_BITMAP_H


	)

4 
	~<¡dboŞ.h
>

5 
	~<¡ddef.h
>

6 
	~<š‰y³s.h
>

11 
b™m­
 *
b™m­_ü—‹
 (
size_t
 
b™_út
);

12 
b™m­
 *
b™m­_ü—‹_š_buf
 (
size_t
 
b™_út
, *, size_ˆ
by‹_út
);

13 
size_t
 
b™m­_buf_size
 (size_ˆ
b™_út
);

14 
b™m­_de¡roy
 (
b™m­
 *);

17 
size_t
 
b™m­_size
 (cÚ¡ 
b™m­
 *);

20 
b™m­_£t
 (
b™m­
 *, 
size_t
 
idx
, 
boŞ
);

21 
b™m­_m¬k
 (
b™m­
 *, 
size_t
 
idx
);

22 
b™m­_»£t
 (
b™m­
 *, 
size_t
 
idx
);

23 
b™m­_æ
 (
b™m­
 *, 
size_t
 
idx
);

24 
boŞ
 
b™m­_‹¡
 (cÚ¡ 
b™m­
 *, 
size_t
 
idx
);

27 
b™m­_£t_®l
 (
b™m­
 *, 
boŞ
);

28 
b™m­_£t_muÉË
 (
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
, 
boŞ
);

29 
size_t
 
b™m­_couÁ
 (cÚ¡ 
b™m­
 *, size_ˆ
¡¬t
, size_ˆ
út
, 
boŞ
);

30 
boŞ
 
b™m­_cÚšs
 (cÚ¡ 
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
, bool);

31 
boŞ
 
b™m­_ªy
 (cÚ¡ 
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
);

32 
boŞ
 
b™m­_nÚe
 (cÚ¡ 
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
);

33 
boŞ
 
b™m­_®l
 (cÚ¡ 
b™m­
 *, 
size_t
 
¡¬t
, size_ˆ
út
);

36 
	#BITMAP_ERROR
 
SIZE_MAX


	)

37 
size_t
 
b™m­_sÿn
 (cÚ¡ 
b™m­
 *, size_ˆ
¡¬t
, size_ˆ
út
, 
boŞ
);

38 
size_t
 
b™m­_sÿn_ªd_æ
 (
b™m­
 *, size_ˆ
¡¬t
, size_ˆ
út
, 
boŞ
);

41 #ifdeà
FILESYS


42 
	gfe
;

43 
size_t
 
b™m­_fe_size
 (cÚ¡ 
b™m­
 *);

44 
boŞ
 
b™m­_»ad
 (
b™m­
 *, 
fe
 *);

45 
boŞ
 
b™m­_wr™e
 (cÚ¡ 
b™m­
 *, 
fe
 *);

49 
b™m­_dump
 (cÚ¡ 
b™m­
 *);

	@lib/kernel/console.c

1 
	~<cÚsŞe.h
>

2 
	~<¡d¬g.h
>

3 
	~<¡dio.h
>

4 
	~"deviûs/£rŸl.h
"

5 
	~"deviûs/vga.h
"

6 
	~"th»ads/š™.h
"

7 
	~"th»ads/š‹¼u±.h
"

8 
	~"th»ads/synch.h
"

10 
v´štf_h–³r
 (, *);

11 
putch¬_have_lock
 (
ušt8_t
 
c
);

18 
lock
 
	gcÚsŞe_lock
;

31 
boŞ
 
	gu£_cÚsŞe_lock
;

57 
	gcÚsŞe_lock_d•th
;

60 
št64_t
 
	gwr™e_út
;

64 
	$cÚsŞe_š™
 ()

66 
	`lock_š™
 (&
cÚsŞe_lock
);

67 
u£_cÚsŞe_lock
 = 
Œue
;

68 
	}
}

74 
	$cÚsŞe_·nic
 ()

76 
u£_cÚsŞe_lock
 = 
çl£
;

77 
	}
}

81 
	$cÚsŞe_´št_¡©s
 ()

83 
	`´štf
 ("CÚsŞe: %Îd ch¬aù” ouut\n", 
wr™e_út
);

84 
	}
}

88 
	$acquœe_cÚsŞe
 ()

90 ià(!
	`šŒ_cÚ‹xt
 (è&& 
u£_cÚsŞe_lock
)

92 ià(
	`lock_h–d_by_cu¼’t_th»ad
 (&
cÚsŞe_lock
))

93 
cÚsŞe_lock_d•th
++;

95 
	`lock_acquœe
 (&
cÚsŞe_lock
);

97 
	}
}

101 
	$»Ëa£_cÚsŞe
 ()

103 ià(!
	`šŒ_cÚ‹xt
 (è&& 
u£_cÚsŞe_lock
)

105 ià(
cÚsŞe_lock_d•th
 > 0)

106 
cÚsŞe_lock_d•th
--;

108 
	`lock_»Ëa£
 (&
cÚsŞe_lock
);

110 
	}
}

114 
boŞ


115 
	$cÚsŞe_locked_by_cu¼’t_th»ad
 ()

117  (
	`šŒ_cÚ‹xt
 ()

118 || !
u£_cÚsŞe_lock


119 || 
	`lock_h–d_by_cu¼’t_th»ad
 (&
cÚsŞe_lock
));

120 
	}
}

126 
	$v´štf
 (cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
)

128 
ch¬_út
 = 0;

130 
	`acquœe_cÚsŞe
 ();

131 
	`__v´štf
 (
fÜm©
, 
¬gs
, 
v´štf_h–³r
, &
ch¬_út
);

132 
	`»Ëa£_cÚsŞe
 ();

134  
ch¬_út
;

135 
	}
}

140 
	$puts
 (cÚ¡ *
s
)

142 
	`acquœe_cÚsŞe
 ();

143 *
s
 != '\0')

144 
	`putch¬_have_lock
 (*
s
++);

145 
	`putch¬_have_lock
 ('\n');

146 
	`»Ëa£_cÚsŞe
 ();

149 
	}
}

153 
	$putbuf
 (cÚ¡ *
bufãr
, 
size_t
 
n
)

155 
	`acquœe_cÚsŞe
 ();

156 
n
-- > 0)

157 
	`putch¬_have_lock
 (*
bufãr
++);

158 
	`»Ëa£_cÚsŞe
 ();

159 
	}
}

163 
	$putch¬
 (
c
)

165 
	`acquœe_cÚsŞe
 ();

166 
	`putch¬_have_lock
 (
c
);

167 
	`»Ëa£_cÚsŞe
 ();

169  
c
;

170 
	}
}

174 
	$v´štf_h–³r
 (
c
, *
ch¬_út_
)

176 *
ch¬_út
 = 
ch¬_út_
;

177 (*
ch¬_út
)++;

178 
	`putch¬_have_lock
 (
c
);

179 
	}
}

185 
	$putch¬_have_lock
 (
ušt8_t
 
c
)

187 
	`ASSERT
 (
	`cÚsŞe_locked_by_cu¼’t_th»ad
 ());

188 
wr™e_út
++;

189 
	`£rŸl_putc
 (
c
);

190 
	`vga_putc
 (
c
);

191 
	}
}

	@lib/kernel/console.h

1 #iâdeà
__LIB_KERNEL_CONSOLE_H


2 
	#__LIB_KERNEL_CONSOLE_H


	)

4 
cÚsŞe_š™
 ();

5 
cÚsŞe_·nic
 ();

6 
cÚsŞe_´št_¡©s
 ();

	@lib/kernel/debug.c

1 
	~<debug.h
>

2 
	~<cÚsŞe.h
>

3 
	~<¡d¬g.h
>

4 
	~<¡dboŞ.h
>

5 
	~<¡ddef.h
>

6 
	~<¡dio.h
>

7 
	~<¡ršg.h
>

8 
	~"th»ads/š™.h
"

9 
	~"th»ads/š‹¼u±.h
"

10 
	~"th»ads/th»ad.h
"

11 
	~"th»ads/sw™ch.h
"

12 
	~"th»ads/vaddr.h
"

13 
	~"deviûs/£rŸl.h
"

18 
	$debug_·nic
 (cÚ¡ *
fe
, 
lše
, cÚ¡ *
funùiÚ
,

19 cÚ¡ *
mes§ge
, ...)

21 
Ëv–
;

22 
va_li¡
 
¬gs
;

24 
	`šŒ_di§bË
 ();

25 
	`cÚsŞe_·nic
 ();

27 
Ëv–
++;

28 ià(
Ëv–
 == 1)

30 
	`´štf
 ("K”ÃÈPANIC‡ˆ%s:%d iÀ%s(): ", 
fe
, 
lše
, 
funùiÚ
);

32 
	`va_¡¬t
 (
¬gs
, 
mes§ge
);

33 
	`v´štf
 (
mes§ge
, 
¬gs
);

34 
	`´štf
 ("\n");

35 
	`va_’d
 (
¬gs
);

37 
	`debug_backŒaû
 ();

39 ià(
Ëv–
 == 2)

40 
	`´štf
 ("Kernel PANIC„ecursion‡t %s:%d in %s().\n",

41 
fe
, 
lše
, 
funùiÚ
);

47 
	`£rŸl_æush
 ();

48 ià(
pow”_off_wh’_dÚe
)

49 
	`pow”_off
 ();

51 
	}
}

56 
	$´št_¡ackŒaû
(
th»ad
 *
t
, *
aux
 
UNUSED
)

58 *
»ddr
 = 
NULL
, **
äame
 = NULL;

59 cÚ¡ *
¡©us
 = "UNKNOWN";

61 
t
->
¡©us
) {

62 
THREAD_RUNNING
:

63 
¡©us
 = "RUNNING";

66 
THREAD_READY
:

67 
¡©us
 = "READY";

70 
THREAD_BLOCKED
:

71 
¡©us
 = "BLOCKED";

78 
	`´štf
 ("C®È¡ack oàth»ad `%s' (¡©u %s):", 
t
->
Çme
, 
¡©us
);

80 ià(
t
 =ğ
	`th»ad_cu¼’t
())

82 
äame
 = 
	`__butš_äame_add»ss
 (1);

83 
»ddr
 = 
	`__butš_»tuº_add»ss
 (0);

89 
sw™ch_th»ads_äame
 * 
§ved_äame
;

91 
§ved_äame
 = (
sw™ch_th»ads_äame
 *)
t
->
¡ack
;

99 ià(
t
->
¡ack
 =ğ(
ušt8_t
 *é + 
PGSIZE
 || 
§ved_äame
->
e
 =ğ
sw™ch_’Œy
)

101 
	`´štf
 ("hread was‚ever scheduled.\n");

105 
äame
 = (**è
§ved_äame
->
ebp
;

106 
»ddr
 = (*è
§ved_äame
->
e
;

109 
	`´štf
 (" %p", 
»ddr
);

110 ; (
ušŒ_t
è
äame
 >ğ0x1000 && f¿me[0] !ğ
NULL
; frame = frame[0])

111 
	`´štf
 (" %p", 
äame
[1]);

112 
	`´štf
 (".\n");

113 
	}
}

117 
	$debug_backŒaû_®l
 ()

119 
šŒ_Ëv–
 
ŞdËv–
 = 
	`šŒ_di§bË
 ();

121 
	`th»ad_fÜ—ch
 (
´št_¡ackŒaû
, 0);

122 
	`šŒ_£t_Ëv–
 (
ŞdËv–
);

123 
	}
}

	@lib/kernel/hash.c

8 
	~"hash.h
"

9 
	~"../debug.h
"

10 
	~"th»ads/m®loc.h
"

12 
	#li¡_–em_to_hash_–em
(
LIST_ELEM
) \

13 
	`li¡_’Œy
(
LIST_ELEM
, 
hash_–em
, 
li¡_–em
)

	)

15 
li¡
 *
fšd_buck‘
 (
hash
 *, 
hash_–em
 *);

16 
hash_–em
 *
fšd_–em
 (
hash
 *, 
li¡
 *,

17 
hash_–em
 *);

18 
š£¹_–em
 (
hash
 *, 
li¡
 *, 
hash_–em
 *);

19 
»move_–em
 (
hash
 *, 
hash_–em
 *);

20 
»hash
 (
hash
 *);

24 
boŞ


25 
	$hash_š™
 (
hash
 *
h
,

26 
hash_hash_func
 *
hash
, 
hash_Ëss_func
 *
Ëss
, *
aux
)

28 
h
->
–em_út
 = 0;

29 
h
->
buck‘_út
 = 4;

30 
h
->
buck‘s
 = 
	`m®loc
 ( *h->buck‘ * h->
buck‘_út
);

31 
h
->
hash
 = hash;

32 
h
->
Ëss
 =†ess;

33 
h
->
aux
 =‡ux;

35 ià(
h
->
buck‘s
 !ğ
NULL
)

37 
	`hash_ş—r
 (
h
, 
NULL
);

38  
Œue
;

41  
çl£
;

42 
	}
}

54 
	$hash_ş—r
 (
hash
 *
h
, 
hash_aùiÚ_func
 *
de¡ruùÜ
)

56 
size_t
 
i
;

58 
i
 = 0; i < 
h
->
buck‘_út
; i++)

60 
li¡
 *
buck‘
 = &
h
->
buck‘s
[
i
];

62 ià(
de¡ruùÜ
 !ğ
NULL
)

63 !
	`li¡_em±y
 (
buck‘
))

65 
li¡_–em
 *li¡_–em = 
	`li¡_pİ_äÚt
 (
buck‘
);

66 
hash_–em
 *hash_–em = 
	`li¡_–em_to_hash_–em
 (
li¡_–em
);

67 
	`de¡ruùÜ
 (
hash_–em
, 
h
->
aux
);

70 
	`li¡_š™
 (
buck‘
);

73 
h
->
–em_út
 = 0;

74 
	}
}

87 
	$hash_de¡roy
 (
hash
 *
h
, 
hash_aùiÚ_func
 *
de¡ruùÜ
)

89 ià(
de¡ruùÜ
 !ğ
NULL
)

90 
	`hash_ş—r
 (
h
, 
de¡ruùÜ
);

91 
	`ä“
 (
h
->
buck‘s
);

92 
	}
}

98 
hash_–em
 *

99 
	$hash_š£¹
 (
hash
 *
h
, 
hash_–em
 *
Ãw
)

101 
li¡
 *
buck‘
 = 
	`fšd_buck‘
 (
h
, 
Ãw
);

102 
hash_–em
 *
Şd
 = 
	`fšd_–em
 (
h
, 
buck‘
, 
Ãw
);

104 ià(
Şd
 =ğ
NULL
)

105 
	`š£¹_–em
 (
h
, 
buck‘
, 
Ãw
);

107 
	`»hash
 (
h
);

109  
Şd
;

110 
	}
}

114 
hash_–em
 *

115 
	$hash_»¶aû
 (
hash
 *
h
, 
hash_–em
 *
Ãw
)

117 
li¡
 *
buck‘
 = 
	`fšd_buck‘
 (
h
, 
Ãw
);

118 
hash_–em
 *
Şd
 = 
	`fšd_–em
 (
h
, 
buck‘
, 
Ãw
);

120 ià(
Şd
 !ğ
NULL
)

121 
	`»move_–em
 (
h
, 
Şd
);

122 
	`š£¹_–em
 (
h
, 
buck‘
, 
Ãw
);

124 
	`»hash
 (
h
);

126  
Şd
;

127 
	}
}

131 
hash_–em
 *

132 
	$hash_fšd
 (
hash
 *
h
, 
hash_–em
 *
e
)

134  
	`fšd_–em
 (
h
, 
	`fšd_buck‘
 (h, 
e
),ƒ);

135 
	}
}

144 
hash_–em
 *

145 
	$hash_d–‘e
 (
hash
 *
h
, 
hash_–em
 *
e
)

147 
hash_–em
 *
found
 = 
	`fšd_–em
 (
h
, 
	`fšd_buck‘
 (h, 
e
),ƒ);

148 ià(
found
 !ğ
NULL
)

150 
	`»move_–em
 (
h
, 
found
);

151 
	`»hash
 (
h
);

153  
found
;

154 
	}
}

163 
	$hash_­¶y
 (
hash
 *
h
, 
hash_aùiÚ_func
 *
aùiÚ
)

165 
size_t
 
i
;

167 
	`ASSERT
 (
aùiÚ
 !ğ
NULL
);

169 
i
 = 0; i < 
h
->
buck‘_út
; i++)

171 
li¡
 *
buck‘
 = &
h
->
buck‘s
[
i
];

172 
li¡_–em
 *
–em
, *
Ãxt
;

174 
–em
 = 
	`li¡_begš
 (
buck‘
);ƒËm !ğ
	`li¡_’d
 (buck‘);ƒËm = 
Ãxt
)

176 
Ãxt
 = 
	`li¡_Ãxt
 (
–em
);

177 
	`aùiÚ
 (
	`li¡_–em_to_hash_–em
 (
–em
), 
h
->
aux
);

180 
	}
}

200 
	$hash_fœ¡
 (
hash_™”©Ü
 *
i
, 
hash
 *
h
)

202 
	`ASSERT
 (
i
 !ğ
NULL
);

203 
	`ASSERT
 (
h
 !ğ
NULL
);

205 
i
->
hash
 = 
h
;

206 
i
->
buck‘
 = i->
hash
->
buck‘s
;

207 
i
->
–em
 = 
	`li¡_–em_to_hash_–em
 (
	`li¡_h—d
 (i->
buck‘
));

208 
	}
}

218 
hash_–em
 *

219 
	$hash_Ãxt
 (
hash_™”©Ü
 *
i
)

221 
	`ASSERT
 (
i
 !ğ
NULL
);

223 
i
->
–em
 = 
	`li¡_–em_to_hash_–em
 (
	`li¡_Ãxt
 (&i->–em->
li¡_–em
));

224 
i
->
–em
 =ğ
	`li¡_–em_to_hash_–em
 (
	`li¡_’d
 (i->
buck‘
)))

226 ià(++
i
->
buck‘
 >ği->
hash
->
buck‘s
 + i->hash->
buck‘_út
)

228 
i
->
–em
 = 
NULL
;

231 
i
->
–em
 = 
	`li¡_–em_to_hash_–em
 (
	`li¡_begš
 (i->
buck‘
));

234  
i
->
–em
;

235 
	}
}

240 
hash_–em
 *

241 
	$hash_cur
 (
hash_™”©Ü
 *
i
)

243  
i
->
–em
;

244 
	}
}

247 
size_t


248 
	$hash_size
 (
hash
 *
h
)

250  
h
->
–em_út
;

251 
	}
}

254 
boŞ


255 
	$hash_em±y
 (
hash
 *
h
)

257  
h
->
–em_út
 == 0;

258 
	}
}

261 
	#FNV_32_PRIME
 16777619u

	)

262 
	#FNV_32_BASIS
 2166136261u

	)

266 
	$hash_by‹s
 (cÚ¡ *
buf_
, 
size_t
 
size
)

269 cÚ¡ *
buf
 = 
buf_
;

270 
hash
;

272 
	`ASSERT
 (
buf
 !ğ
NULL
);

274 
hash
 = 
FNV_32_BASIS
;

275 
size
-- > 0)

276 
hash
 = (hash * 
FNV_32_PRIME
è^ *
buf
++;

278  
hash
;

279 
	}
}

283 
	$hash_¡ršg
 (cÚ¡ *
s_
)

285 cÚ¡ *
s
 = (cÚ¡ *è
s_
;

286 
hash
;

288 
	`ASSERT
 (
s
 !ğ
NULL
);

290 
hash
 = 
FNV_32_BASIS
;

291 *
s
 != '\0')

292 
hash
 = (hash * 
FNV_32_PRIME
è^ *
s
++;

294  
hash
;

295 
	}
}

299 
	$hash_št
 (
i
)

301  
	`hash_by‹s
 (&
i
,  i);

302 
	}
}

305 
li¡
 *

306 
	$fšd_buck‘
 (
hash
 *
h
, 
hash_–em
 *
e
)

308 
size_t
 
buck‘_idx
 = 
h
->
	`hash
 (
e
, h->
aux
è& (h->
buck‘_út
 - 1);

309  &
h
->
buck‘s
[
buck‘_idx
];

310 
	}
}

314 
hash_–em
 *

315 
	$fšd_–em
 (
hash
 *
h
, 
li¡
 *
buck‘
, 
hash_–em
 *
e
)

317 
li¡_–em
 *
i
;

319 
i
 = 
	`li¡_begš
 (
buck‘
); i !ğ
	`li¡_’d
 (buck‘); i = 
	`li¡_Ãxt
 (i))

321 
hash_–em
 *
hi
 = 
	`li¡_–em_to_hash_–em
 (
i
);

322 ià(!
h
->
	`Ëss
 (
hi
, 
e
, h->
aux
) && !h->less (e, hi, h->aux))

323  
hi
;

325  
NULL
;

326 
	}
}

329 
šlše
 
size_t


330 
	$tuº_off_Ëa¡_1b™
 (
size_t
 
x
)

332  
x
 & (x - 1);

333 
	}
}

336 
šlše
 
size_t


337 
	$is_pow”_of_2
 (
size_t
 
x
)

339  
x
 !ğ0 && 
	`tuº_off_Ëa¡_1b™
 (x) == 0;

340 
	}
}

343 
	#MIN_ELEMS_PER_BUCKET
 1

	)

344 
	#BEST_ELEMS_PER_BUCKET
 2

	)

345 
	#MAX_ELEMS_PER_BUCKET
 4

	)

352 
	$»hash
 (
hash
 *
h
)

354 
size_t
 
Şd_buck‘_út
, 
Ãw_buck‘_út
;

355 
li¡
 *
Ãw_buck‘s
, *
Şd_buck‘s
;

356 
size_t
 
i
;

358 
	`ASSERT
 (
h
 !ğ
NULL
);

361 
Şd_buck‘s
 = 
h
->
buck‘s
;

362 
Şd_buck‘_út
 = 
h
->
buck‘_út
;

368 
Ãw_buck‘_út
 = 
h
->
–em_út
 / 
BEST_ELEMS_PER_BUCKET
;

369 ià(
Ãw_buck‘_út
 < 4)

370 
Ãw_buck‘_út
 = 4;

371 !
	`is_pow”_of_2
 (
Ãw_buck‘_út
))

372 
Ãw_buck‘_út
 = 
	`tuº_off_Ëa¡_1b™
 (new_bucket_cnt);

375 ià(
Ãw_buck‘_út
 =ğ
Şd_buck‘_út
)

379 
Ãw_buck‘s
 = 
	`m®loc
 ( *Ãw_buck‘ * 
Ãw_buck‘_út
);

380 ià(
Ãw_buck‘s
 =ğ
NULL
)

387 
i
 = 0; i < 
Ãw_buck‘_út
; i++)

388 
	`li¡_š™
 (&
Ãw_buck‘s
[
i
]);

391 
h
->
buck‘s
 = 
Ãw_buck‘s
;

392 
h
->
buck‘_út
 = 
Ãw_buck‘_út
;

395 
i
 = 0; i < 
Şd_buck‘_út
; i++)

397 
li¡
 *
Şd_buck‘
;

398 
li¡_–em
 *
–em
, *
Ãxt
;

400 
Şd_buck‘
 = &
Şd_buck‘s
[
i
];

401 
–em
 = 
	`li¡_begš
 (
Şd_buck‘
);

402 
–em
 !ğ
	`li¡_’d
 (
Şd_buck‘
);ƒËm = 
Ãxt
)

404 
li¡
 *
Ãw_buck‘


405 ğ
	`fšd_buck‘
 (
h
, 
	`li¡_–em_to_hash_–em
 (
–em
));

406 
Ãxt
 = 
	`li¡_Ãxt
 (
–em
);

407 
	`li¡_»move
 (
–em
);

408 
	`li¡_push_äÚt
 (
Ãw_buck‘
, 
–em
);

412 
	`ä“
 (
Şd_buck‘s
);

413 
	}
}

417 
	$š£¹_–em
 (
hash
 *
h
, 
li¡
 *
buck‘
, 
hash_–em
 *
e
)

419 
h
->
–em_út
++;

420 
	`li¡_push_äÚt
 (
buck‘
, &
e
->
li¡_–em
);

421 
	}
}

425 
	$»move_–em
 (
hash
 *
h
, 
hash_–em
 *
e
)

427 
h
->
–em_út
--;

428 
	`li¡_»move
 (&
e
->
li¡_–em
);

429 
	}
}

	@lib/kernel/hash.h

1 #iâdeà
__LIB_KERNEL_HASH_H


2 
	#__LIB_KERNEL_HASH_H


	)

23 
	~<¡dboŞ.h
>

24 
	~<¡ddef.h
>

25 
	~<¡dšt.h
>

26 
	~"li¡.h
"

29 
	shash_–em


31 
li¡_–em
 
	mli¡_–em
;

39 
	#hash_’Œy
(
HASH_ELEM
, 
STRUCT
, 
MEMBER
) \

40 ((
STRUCT
 *è((
ušt8_t
 *è&(
HASH_ELEM
)->
li¡_–em
 \

41 - 
	`off£tof
 (
STRUCT
, 
MEMBER
.
li¡_–em
)))

	)

45 
	thash_hash_func
 (cÚ¡ 
	thash_–em
 *
	te
, *
	taux
);

50 
boŞ
 
	thash_Ëss_func
 (cÚ¡ 
	thash_–em
 *
	ta
,

51 cÚ¡ 
	thash_–em
 *
	tb
,

52 *
	taux
);

56 
	thash_aùiÚ_func
 (
	thash_–em
 *
	te
, *
	taux
);

59 
	shash


61 
size_t
 
	m–em_út
;

62 
size_t
 
	mbuck‘_út
;

63 
li¡
 *
	mbuck‘s
;

64 
hash_hash_func
 *
	mhash
;

65 
hash_Ëss_func
 *
	mËss
;

66 *
	maux
;

70 
	shash_™”©Ü


72 
hash
 *
	mhash
;

73 
li¡
 *
	mbuck‘
;

74 
hash_–em
 *
	m–em
;

78 
boŞ
 
hash_š™
 (
hash
 *, 
hash_hash_func
 *, 
hash_Ëss_func
 *, *
aux
);

79 
hash_ş—r
 (
hash
 *, 
hash_aùiÚ_func
 *);

80 
hash_de¡roy
 (
hash
 *, 
hash_aùiÚ_func
 *);

83 
hash_–em
 *
hash_š£¹
 (
hash
 *, hash_elem *);

84 
hash_–em
 *
hash_»¶aû
 (
hash
 *, hash_elem *);

85 
hash_–em
 *
hash_fšd
 (
hash
 *, hash_elem *);

86 
hash_–em
 *
hash_d–‘e
 (
hash
 *, hash_elem *);

89 
hash_­¶y
 (
hash
 *, 
hash_aùiÚ_func
 *);

90 
hash_fœ¡
 (
hash_™”©Ü
 *, 
hash
 *);

91 
hash_–em
 *
hash_Ãxt
 (
hash_™”©Ü
 *);

92 
hash_–em
 *
hash_cur
 (
hash_™”©Ü
 *);

95 
size_t
 
hash_size
 (
hash
 *);

96 
boŞ
 
hash_em±y
 (
hash
 *);

99 
hash_by‹s
 (cÚ¡ *, 
size_t
);

100 
hash_¡ršg
 (const *);

101 
hash_št
 ();

	@lib/kernel/list.c

1 
	~"li¡.h
"

2 
	~"../debug.h
"

34 
boŞ
 
	$is_sÜ‹d
 (
li¡_–em
 *
a
, li¡_–em *
b
,

35 
li¡_Ëss_func
 *
Ëss
, *
aux
è
UNUSED
;

38 
šlše
 
boŞ


39 
	$is_h—d
 (
li¡_–em
 *
–em
)

41  
–em
 !ğ
NULL
 &&ƒËm->
´ev
 =ğNULL &&ƒËm->
Ãxt
 != NULL;

42 
	}
}

46 
šlše
 
boŞ


47 
	$is_š‹riÜ
 (
li¡_–em
 *
–em
)

49  
–em
 !ğ
NULL
 &&ƒËm->
´ev
 !ğNULL &&ƒËm->
Ãxt
 != NULL;

50 
	}
}

53 
šlše
 
boŞ


54 
	$is_
 (
li¡_–em
 *
–em
)

56  
–em
 !ğ
NULL
 &&ƒËm->
´ev
 !ğNULL &&ƒËm->
Ãxt
 == NULL;

57 
	}
}

61 
	$li¡_š™
 (
li¡
 *list)

63 
	`ASSERT
 (
li¡
 !ğ
NULL
);

64 
li¡
->
h—d
.
´ev
 = 
NULL
;

65 
li¡
->
h—d
.
Ãxt
 = &li¡->

;

66 
li¡
->

.
´ev
 = &li¡->
h—d
;

67 
li¡
->

.
Ãxt
 = 
NULL
;

68 
	}
}

71 
li¡_–em
 *

72 
	$li¡_begš
 (
li¡
 *list)

74 
	`ASSERT
 (
li¡
 !ğ
NULL
);

75  
li¡
->
h—d
.
Ãxt
;

76 
	}
}

81 
li¡_–em
 *

82 
	$li¡_Ãxt
 (
li¡_–em
 *
–em
)

84 
	`ASSERT
 (
	`is_h—d
 (
–em
è|| 
	`is_š‹riÜ
 (elem));

85  
–em
->
Ãxt
;

86 
	}
}

93 
li¡_–em
 *

94 
	$li¡_’d
 (
li¡
 *list)

96 
	`ASSERT
 (
li¡
 !ğ
NULL
);

97  &
li¡
->

;

98 
	}
}

102 
li¡_–em
 *

103 
	$li¡_rbegš
 (
li¡
 *list)

105 
	`ASSERT
 (
li¡
 !ğ
NULL
);

106  
li¡
->

.
´ev
;

107 
	}
}

112 
li¡_–em
 *

113 
	$li¡_´ev
 (
li¡_–em
 *
–em
)

115 
	`ASSERT
 (
	`is_š‹riÜ
 (
–em
è|| 
	`is_
 (elem));

116  
–em
->
´ev
;

117 
	}
}

132 
li¡_–em
 *

133 
	$li¡_»nd
 (
li¡
 *list)

135 
	`ASSERT
 (
li¡
 !ğ
NULL
);

136  &
li¡
->
h—d
;

137 
	}
}

150 
li¡_–em
 *

151 
	$li¡_h—d
 (
li¡
 *list)

153 
	`ASSERT
 (
li¡
 !ğ
NULL
);

154  &
li¡
->
h—d
;

155 
	}
}

158 
li¡_–em
 *

159 
	$li¡_
 (
li¡
 *list)

161 
	`ASSERT
 (
li¡
 !ğ
NULL
);

162  &
li¡
->

;

163 
	}
}

169 
	$li¡_š£¹
 (
li¡_–em
 *
befÜe
, li¡_–em *
–em
)

171 
	`ASSERT
 (
	`is_š‹riÜ
 (
befÜe
è|| 
	`is_
 (before));

172 
	`ASSERT
 (
–em
 !ğ
NULL
);

174 
–em
->
´ev
 = 
befÜe
->prev;

175 
–em
->
Ãxt
 = 
befÜe
;

176 
befÜe
->
´ev
->
Ãxt
 = 
–em
;

177 
befÜe
->
´ev
 = 
–em
;

178 
	}
}

184 
	$li¡_¥liû
 (
li¡_–em
 *
befÜe
,

185 
li¡_–em
 *
fœ¡
, li¡_–em *
Ï¡
)

187 
	`ASSERT
 (
	`is_š‹riÜ
 (
befÜe
è|| 
	`is_
 (before));

188 ià(
fœ¡
 =ğ
Ï¡
)

190 
Ï¡
 = 
	`li¡_´ev
 (last);

192 
	`ASSERT
 (
	`is_š‹riÜ
 (
fœ¡
));

193 
	`ASSERT
 (
	`is_š‹riÜ
 (
Ï¡
));

196 
fœ¡
->
´ev
->
Ãxt
 = 
Ï¡
->next;

197 
Ï¡
->
Ãxt
->
´ev
 = 
fœ¡
->prev;

200 
fœ¡
->
´ev
 = 
befÜe
->prev;

201 
Ï¡
->
Ãxt
 = 
befÜe
;

202 
befÜe
->
´ev
->
Ãxt
 = 
fœ¡
;

203 
befÜe
->
´ev
 = 
Ï¡
;

204 
	}
}

209 
	$li¡_push_äÚt
 (
li¡
 *li¡, 
li¡_–em
 *
–em
)

211 
	`li¡_š£¹
 (
	`li¡_begš
 (
li¡
), 
–em
);

212 
	}
}

217 
	$li¡_push_back
 (
li¡
 *li¡, 
li¡_–em
 *
–em
)

219 
	`li¡_š£¹
 (
	`li¡_’d
 (
li¡
), 
–em
);

220 
	}
}

256 
li¡_–em
 *

257 
	$li¡_»move
 (
li¡_–em
 *
–em
)

259 
	`ASSERT
 (
	`is_š‹riÜ
 (
–em
));

260 
–em
->
´ev
->
Ãxt
 =ƒlem->next;

261 
–em
->
Ãxt
->
´ev
 =ƒlem->prev;

262  
–em
->
Ãxt
;

263 
	}
}

267 
li¡_–em
 *

268 
	$li¡_pİ_äÚt
 (
li¡
 *list)

270 
li¡_–em
 *
äÚt
 = 
	`li¡_äÚt
 (
li¡
);

271 
	`li¡_»move
 (
äÚt
);

272  
äÚt
;

273 
	}
}

277 
li¡_–em
 *

278 
	$li¡_pİ_back
 (
li¡
 *list)

280 
li¡_–em
 *
back
 = 
	`li¡_back
 (
li¡
);

281 
	`li¡_»move
 (
back
);

282  
back
;

283 
	}
}

287 
li¡_–em
 *

288 
	$li¡_äÚt
 (
li¡
 *list)

290 
	`ASSERT
 (!
	`li¡_em±y
 (
li¡
));

291  
li¡
->
h—d
.
Ãxt
;

292 
	}
}

296 
li¡_–em
 *

297 
	$li¡_back
 (
li¡
 *list)

299 
	`ASSERT
 (!
	`li¡_em±y
 (
li¡
));

300  
li¡
->

.
´ev
;

301 
	}
}

305 
size_t


306 
	$li¡_size
 (
li¡
 *list)

308 
li¡_–em
 *
e
;

309 
size_t
 
út
 = 0;

311 
e
 = 
	`li¡_begš
 (
li¡
);ƒ !ğ
	`li¡_’d
 (li¡);ƒ = 
	`li¡_Ãxt
 (e))

312 
út
++;

313  
út
;

314 
	}
}

317 
boŞ


318 
	$li¡_em±y
 (
li¡
 *list)

320  
	`li¡_begš
 (
li¡
è=ğ
	`li¡_’d
 (list);

321 
	}
}

325 
	$sw­
 (
li¡_–em
 **
a
, li¡_–em **
b
)

327 
li¡_–em
 *
t
 = *
a
;

328 *
a
 = *
b
;

329 *
b
 = 
t
;

330 
	}
}

334 
	$li¡_»v”£
 (
li¡
 *list)

336 ià(!
	`li¡_em±y
 (
li¡
))

338 
li¡_–em
 *
e
;

340 
e
 = 
	`li¡_begš
 (
li¡
);ƒ !ğ
	`li¡_’d
 (li¡);ƒ =ƒ->
´ev
)

341 
	`sw­
 (&
e
->
´ev
, &e->
Ãxt
);

342 
	`sw­
 (&
li¡
->
h—d
.
Ãxt
, &li¡->

.
´ev
);

343 
	`sw­
 (&
li¡
->
h—d
.
Ãxt
->
´ev
, &li¡->

.prev->next);

345 
	}
}

349 
boŞ


350 
	$is_sÜ‹d
 (
li¡_–em
 *
a
, li¡_–em *
b
,

351 
li¡_Ëss_func
 *
Ëss
, *
aux
)

353 ià(
a
 !ğ
b
)

354 (
a
 = 
	`li¡_Ãxt
 (a)è!ğ
b
)

355 ià(
	`Ëss
 (
a
, 
	`li¡_´ev
 (a), 
aux
))

356  
çl£
;

357  
Œue
;

358 
	}
}

365 
li¡_–em
 *

366 
	$fšd_’d_of_run
 (
li¡_–em
 *
a
, li¡_–em *
b
,

367 
li¡_Ëss_func
 *
Ëss
, *
aux
)

369 
	`ASSERT
 (
a
 !ğ
NULL
);

370 
	`ASSERT
 (
b
 !ğ
NULL
);

371 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

372 
	`ASSERT
 (
a
 !ğ
b
);

376 
a
 = 
	`li¡_Ãxt
 (a);

378 
a
 !ğ
b
 && !
	`Ëss
 (a, 
	`li¡_´ev
 (a), 
aux
));

379  
a
;

380 
	}
}

388 
	$š¶aû_m”ge
 (
li¡_–em
 *
a0
, li¡_–em *
a1b0
,

389 
li¡_–em
 *
b1
,

390 
li¡_Ëss_func
 *
Ëss
, *
aux
)

392 
	`ASSERT
 (
a0
 !ğ
NULL
);

393 
	`ASSERT
 (
a1b0
 !ğ
NULL
);

394 
	`ASSERT
 (
b1
 !ğ
NULL
);

395 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

396 
	`ASSERT
 (
	`is_sÜ‹d
 (
a0
, 
a1b0
, 
Ëss
, 
aux
));

397 
	`ASSERT
 (
	`is_sÜ‹d
 (
a1b0
, 
b1
, 
Ëss
, 
aux
));

399 
a0
 !ğ
a1b0
 &&‡1b0 !ğ
b1
)

400 ià(!
	`Ëss
 (
a1b0
, 
a0
, 
aux
))

401 
a0
 = 
	`li¡_Ãxt
 (a0);

404 
a1b0
 = 
	`li¡_Ãxt
 (a1b0);

405 
	`li¡_¥liû
 (
a0
, 
	`li¡_´ev
 (
a1b0
),‡1b0);

407 
	}
}

413 
	$li¡_sÜt
 (
li¡
 *li¡, 
li¡_Ëss_func
 *
Ëss
, *
aux
)

415 
size_t
 
ouut_run_út
;

417 
	`ASSERT
 (
li¡
 !ğ
NULL
);

418 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

424 
li¡_–em
 *
a0
;

425 
li¡_–em
 *
a1b0
;

426 
li¡_–em
 *
b1
;

428 
ouut_run_út
 = 0;

429 
a0
 = 
	`li¡_begš
 (
li¡
);‡0 !ğ
	`li¡_’d
 (li¡);‡0 = 
b1
)

432 
ouut_run_út
++;

436 
a1b0
 = 
	`fšd_’d_of_run
 (
a0
, 
	`li¡_’d
 (
li¡
), 
Ëss
, 
aux
);

437 ià(
a1b0
 =ğ
	`li¡_’d
 (
li¡
))

439 
b1
 = 
	`fšd_’d_of_run
 (
a1b0
, 
	`li¡_’d
 (
li¡
), 
Ëss
, 
aux
);

442 
	`š¶aû_m”ge
 (
a0
, 
a1b0
, 
b1
, 
Ëss
, 
aux
);

445 
ouut_run_út
 > 1);

447 
	`ASSERT
 (
	`is_sÜ‹d
 (
	`li¡_begš
 (
li¡
), 
	`li¡_’d
 (li¡), 
Ëss
, 
aux
));

448 
	}
}

454 
	$li¡_š£¹_Üd”ed
 (
li¡
 *li¡, 
li¡_–em
 *
–em
,

455 
li¡_Ëss_func
 *
Ëss
, *
aux
)

457 
li¡_–em
 *
e
;

459 
	`ASSERT
 (
li¡
 !ğ
NULL
);

460 
	`ASSERT
 (
–em
 !ğ
NULL
);

461 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

463 
e
 = 
	`li¡_begš
 (
li¡
);ƒ !ğ
	`li¡_’d
 (li¡);ƒ = 
	`li¡_Ãxt
 (e))

464 ià(
	`Ëss
 (
–em
, 
e
, 
aux
))

466  
	`li¡_š£¹
 (
e
, 
–em
);

467 
	}
}

474 
	$li¡_unique
 (
li¡
 *li¡, li¡ *
du¶iÿ‹s
,

475 
li¡_Ëss_func
 *
Ëss
, *
aux
)

477 
li¡_–em
 *
–em
, *
Ãxt
;

479 
	`ASSERT
 (
li¡
 !ğ
NULL
);

480 
	`ASSERT
 (
Ëss
 !ğ
NULL
);

481 ià(
	`li¡_em±y
 (
li¡
))

484 
–em
 = 
	`li¡_begš
 (
li¡
);

485 (
Ãxt
 = 
	`li¡_Ãxt
 (
–em
)è!ğ
	`li¡_’d
 (
li¡
))

486 ià(!
	`Ëss
 (
–em
, 
Ãxt
, 
aux
) && !less (next,ƒlem,‡ux))

488 
	`li¡_»move
 (
Ãxt
);

489 ià(
du¶iÿ‹s
 !ğ
NULL
)

490 
	`li¡_push_back
 (
du¶iÿ‹s
, 
Ãxt
);

493 
–em
 = 
Ãxt
;

494 
	}
}

500 
li¡_–em
 *

501 
	$li¡_max
 (
li¡
 *li¡, 
li¡_Ëss_func
 *
Ëss
, *
aux
)

503 
li¡_–em
 *
max
 = 
	`li¡_begš
 (
li¡
);

504 ià(
max
 !ğ
	`li¡_’d
 (
li¡
))

506 
li¡_–em
 *
e
;

508 
e
 = 
	`li¡_Ãxt
 (
max
);ƒ !ğ
	`li¡_’d
 (
li¡
);ƒ =†ist_next (e))

509 ià(
	`Ëss
 (
max
, 
e
, 
aux
))

510 
max
 = 
e
;

512  
max
;

513 
	}
}

519 
li¡_–em
 *

520 
	$li¡_mš
 (
li¡
 *li¡, 
li¡_Ëss_func
 *
Ëss
, *
aux
)

522 
li¡_–em
 *
mš
 = 
	`li¡_begš
 (
li¡
);

523 ià(
mš
 !ğ
	`li¡_’d
 (
li¡
))

525 
li¡_–em
 *
e
;

527 
e
 = 
	`li¡_Ãxt
 (
mš
);ƒ !ğ
	`li¡_’d
 (
li¡
);ƒ =†ist_next (e))

528 ià(
	`Ëss
 (
e
, 
mš
, 
aux
))

529 
mš
 = 
e
;

531  
mš
;

532 
	}
}

	@lib/kernel/list.h

1 #iâdeà
__LIB_KERNEL_LIST_H


2 
	#__LIB_KERNEL_LIST_H


	)

85 
	~<¡dboŞ.h
>

86 
	~<¡ddef.h
>

87 
	~<¡dšt.h
>

90 
	sli¡_–em


92 
li¡_–em
 *
	m´ev
;

93 
li¡_–em
 *
	mÃxt
;

97 
	sli¡


99 
li¡_–em
 
	mh—d
;

100 
li¡_–em
 
	m
;

108 
	#li¡_’Œy
(
LIST_ELEM
, 
STRUCT
, 
MEMBER
) \

109 ((
STRUCT
 *è((
ušt8_t
 *è&(
LIST_ELEM
)->
Ãxt
 \

110 - 
	`off£tof
 (
STRUCT
, 
MEMBER
.
Ãxt
)))

	)

122 
	#LIST_INITIALIZER
(
NAME
è{ { 
NULL
, &(NAME).

 }, \

123 { &(
NAME
).
h—d
, 
NULL
 } }

	)

125 
li¡_š™
 (
li¡
 *);

128 
li¡_–em
 *
li¡_begš
 (
li¡
 *);

129 
li¡_–em
 *
li¡_Ãxt
 (list_elem *);

130 
li¡_–em
 *
li¡_’d
 (
li¡
 *);

132 
li¡_–em
 *
li¡_rbegš
 (
li¡
 *);

133 
li¡_–em
 *
li¡_´ev
 (list_elem *);

134 
li¡_–em
 *
li¡_»nd
 (
li¡
 *);

136 
li¡_–em
 *
li¡_h—d
 (
li¡
 *);

137 
li¡_–em
 *
li¡_
 (
li¡
 *);

140 
li¡_š£¹
 (
li¡_–em
 *, list_elem *);

141 
li¡_¥liû
 (
li¡_–em
 *
befÜe
,

142 
li¡_–em
 *
fœ¡
, li¡_–em *
Ï¡
);

143 
li¡_push_äÚt
 (
li¡
 *, 
li¡_–em
 *);

144 
li¡_push_back
 (
li¡
 *, 
li¡_–em
 *);

147 
li¡_–em
 *
li¡_»move
 (list_elem *);

148 
li¡_–em
 *
li¡_pİ_äÚt
 (
li¡
 *);

149 
li¡_–em
 *
li¡_pİ_back
 (
li¡
 *);

152 
li¡_–em
 *
li¡_äÚt
 (
li¡
 *);

153 
li¡_–em
 *
li¡_back
 (
li¡
 *);

156 
size_t
 
li¡_size
 (
li¡
 *);

157 
boŞ
 
li¡_em±y
 (
li¡
 *);

160 
li¡_»v”£
 (
li¡
 *);

165 
boŞ
 
	tli¡_Ëss_func
 (cÚ¡ 
	tli¡_–em
 *
	ta
,

166 cÚ¡ 
	tli¡_–em
 *
	tb
,

167 *
	taux
);

170 
li¡_sÜt
 (
li¡
 *,

171 
li¡_Ëss_func
 *, *
aux
);

172 
li¡_š£¹_Üd”ed
 (
li¡
 *, 
li¡_–em
 *,

173 
li¡_Ëss_func
 *, *
aux
);

174 
li¡_unique
 (
li¡
 *, li¡ *
du¶iÿ‹s
,

175 
li¡_Ëss_func
 *, *
aux
);

178 
li¡_–em
 *
li¡_max
 (
li¡
 *, 
li¡_Ëss_func
 *, *
aux
);

179 
li¡_–em
 *
li¡_mš
 (
li¡
 *, 
li¡_Ëss_func
 *, *
aux
);

	@lib/kernel/stdio.h

1 #iâdeà
__LIB_KERNEL_STDIO_H


2 
	#__LIB_KERNEL_STDIO_H


	)

4 
putbuf
 (cÚ¡ *, 
size_t
);

	@lib/limits.h

1 #iâdeà
__LIB_LIMITS_H


3 
	#__LIB_LIMITS_H


	)

5 
	#CHAR_BIT
 8

	)

7 
	#SCHAR_MAX
 127

	)

8 
	#SCHAR_MIN
 (-
SCHAR_MAX
 - 1)

	)

9 
	#UCHAR_MAX
 255

	)

11 #ifdeà
__CHAR_UNSIGNED__


12 
	#CHAR_MIN
 0

	)

13 
	#CHAR_MAX
 
UCHAR_MAX


	)

15 
	#CHAR_MIN
 
SCHAR_MIN


	)

16 
	#CHAR_MAX
 
SCHAR_MAX


	)

19 
	#SHRT_MAX
 32767

	)

20 
	#SHRT_MIN
 (-
SHRT_MAX
 - 1)

	)

21 
	#USHRT_MAX
 65535

	)

23 
	#INT_MAX
 2147483647

	)

24 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

25 
	#UINT_MAX
 4294967295U

	)

27 
	#LONG_MAX
 2147483647L

	)

28 
	#LONG_MIN
 (-
LONG_MAX
 - 1)

	)

29 
	#ULONG_MAX
 4294967295UL

	)

31 
	#LLONG_MAX
 9223372036854775807LL

	)

32 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1)

	)

33 
	#ULLONG_MAX
 18446744073709551615ULL

	)

	@lib/packed.h

1 #iâdeà
__LIB_PACKED_H


3 
	#__LIB_PACKED_H


	)

9 
	#PACKED
 
	`__©Œibu‹__
 ((
·cked
))

	)

	@lib/random.c

1 
	~"¿ndom.h
"

3 
	~<¡dboŞ.h
>

4 
	~<¡dšt.h
>

5 
	~"debug.h
"

18 
ušt8_t
 
	gs
[256];

19 
ušt8_t
 
	gs_i
, 
	gs_j
;

22 
boŞ
 
	gš™ed
;

25 
šlše
 

26 
	$sw­_by‹
 (
ušt8_t
 *
a
, ušt8_ˆ*
b
)

28 
ušt8_t
 
t
 = *
a
;

29 *
a
 = *
b
;

30 *
b
 = 
t
;

31 
	}
}

35 
	$¿ndom_š™
 (
£ed
)

37 
ušt8_t
 *
£edp
 = (ušt8_ˆ*è&
£ed
;

38 
i
;

39 
ušt8_t
 
j
;

41 
i
 = 0; i < 256; i++)

42 
s
[
i
] = i;

43 
i
 = 
j
 = 0; i < 256; i++)

45 
j
 +ğ
s
[
i
] + 
£edp
[˜%  
£ed
];

46 
	`sw­_by‹
 (
s
 + 
i
, s + 
j
);

49 
s_i
 = 
s_j
 = 0;

50 
š™ed
 = 
Œue
;

51 
	}
}

55 
	$¿ndom_by‹s
 (*
buf_
, 
size_t
 
size
)

57 
ušt8_t
 *
buf
;

59 ià(!
š™ed
)

60 
	`¿ndom_š™
 (0);

62 
buf
 = 
buf_
; 
size
-- > 0; buf++)

64 
ušt8_t
 
s_k
;

66 
s_i
++;

67 
s_j
 +ğ
s
[
s_i
];

68 
	`sw­_by‹
 (
s
 + 
s_i
, s + 
s_j
);

70 
s_k
 = 
s
[
s_i
] + s[
s_j
];

71 *
buf
 = 
s
[
s_k
];

73 
	}
}

79 
	$¿ndom_ulÚg
 ()

81 
ul
;

82 
	`¿ndom_by‹s
 (&
ul
,  ul);

83  
ul
;

84 
	}
}

	@lib/random.h

1 #iâdeà
__LIB_RANDOM_H


3 
	#__LIB_RANDOM_H


	)

5 
	~<¡ddef.h
>

7 
¿ndom_š™
 (
£ed
);

8 
¿ndom_by‹s
 (*, 
size_t
);

9 
¿ndom_ulÚg
 ();

	@lib/round.h

1 #iâdeà
__LIB_ROUND_H


3 
	#__LIB_ROUND_H


	)

7 
	#ROUND_UP
(
X
, 
STEP
è(((Xè+ (STEPè- 1è/ (STEPè* (STEP))

	)

11 
	#DIV_ROUND_UP
(
X
, 
STEP
è(((Xè+ (STEPè- 1è/ (STEP))

	)

15 
	#ROUND_DOWN
(
X
, 
STEP
è((Xè/ (STEPè* (STEP))

	)

	@lib/stdarg.h

1 #iâdeà
__LIB_STDARG_H


3 
	#__LIB_STDARG_H


	)

8 
__butš_va_li¡
 
	tva_li¡
;

10 
	#va_¡¬t
(
LIST
, 
ARG
è
	`__butš_va_¡¬t
 (LIST, ARG)

	)

11 
	#va_’d
(
LIST
è
	`__butš_va_’d
 (LIST)

	)

12 
	#va_¬g
(
LIST
, 
TYPE
è
	`__butš_va_¬g
 (LIST, TYPE)

	)

13 
	#va_cİy
(
DST
, 
SRC
è
	`__butš_va_cİy
 (DST, SRC)

	)

	@lib/stdbool.h

1 #iâdeà
__LIB_STDBOOL_H


3 
	#__LIB_STDBOOL_H


	)

5 
	#boŞ
 
_BoŞ


	)

6 
	#Œue
 1

	)

7 
	#çl£
 0

	)

8 
	#__boŞ_Œue_çl£_¬e_defšed
 1

	)

	@lib/stddef.h

1 #iâdeà
__LIB_STDDEF_H


3 
	#__LIB_STDDEF_H


	)

5 
	#NULL
 ((*è0)

	)

6 
	#off£tof
(
TYPE
, 
MEMBER
è((
size_t
è&((TYPE *è0)->MEMBER)

	)

10 
__PTRDIFF_TYPE__
 
	t±rdiff_t
;

11 
__SIZE_TYPE__
 
	tsize_t
;

	@lib/stdint.h

1 #iâdeà
__LIB_STDINT_H


3 
	#__LIB_STDINT_H


	)

5 sigÃd 
	tšt8_t
;

6 
	#INT8_MAX
 127

	)

7 
	#INT8_MIN
 (-
INT8_MAX
 - 1)

	)

9 sigÃd 
	tšt16_t
;

10 
	#INT16_MAX
 32767

	)

11 
	#INT16_MIN
 (-
INT16_MAX
 - 1)

	)

13 sigÃd 
	tšt32_t
;

14 
	#INT32_MAX
 2147483647

	)

15 
	#INT32_MIN
 (-
INT32_MAX
 - 1)

	)

17 sigÃd 
	tšt64_t
;

18 
	#INT64_MAX
 9223372036854775807LL

	)

19 
	#INT64_MIN
 (-
INT64_MAX
 - 1)

	)

21 
	tušt8_t
;

22 
	#UINT8_MAX
 255

	)

24 
	tušt16_t
;

25 
	#UINT16_MAX
 65535

	)

27 
	tušt32_t
;

28 
	#UINT32_MAX
 4294967295U

	)

30 
	tušt64_t
;

31 
	#UINT64_MAX
 18446744073709551615ULL

	)

33 
št32_t
 
	tšŒ_t
;

34 
	#INTPTR_MIN
 
INT32_MIN


	)

35 
	#INTPTR_MAX
 
INT32_MAX


	)

37 
ušt32_t
 
	tušŒ_t
;

38 
	#UINTPTR_MAX
 
UINT32_MAX


	)

40 
št64_t
 
	tštmax_t
;

41 
	#INTMAX_MIN
 
INT64_MIN


	)

42 
	#INTMAX_MAX
 
INT64_MAX


	)

44 
ušt64_t
 
	tuštmax_t
;

45 
	#UINTMAX_MAX
 
UINT64_MAX


	)

47 
	#PTRDIFF_MIN
 
INT32_MIN


	)

48 
	#PTRDIFF_MAX
 
INT32_MAX


	)

50 
	#SIZE_MAX
 
UINT32_MAX


	)

	@lib/stdio.c

1 
	~<¡dio.h
>

3 
	~<ùy³.h
>

4 
	~<š‰y³s.h
>

5 
	~<round.h
>

6 
	~<¡dšt.h
>

7 
	~<¡ršg.h
>

10 
	sv¢´štf_aux


12 *
	mp
;

13 
	mËngth
;

14 
	mmax_Ëngth
;

17 
v¢´štf_h–³r
 (, *);

27 
	$v¢´štf
 (*
bufãr
, 
size_t
 
buf_size
, cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
)

30 
v¢´štf_aux
 
aux
;

31 
aux
.
p
 = 
bufãr
;

32 
aux
.
Ëngth
 = 0;

33 
aux
.
max_Ëngth
 = 
buf_size
 > 0 ? buf_size - 1 : 0;

36 
	`__v´štf
 (
fÜm©
, 
¬gs
, 
v¢´štf_h–³r
, &
aux
);

39 ià(
buf_size
 > 0)

40 *
aux
.
p
 = '\0';

42  
aux
.
Ëngth
;

43 
	}
}

47 
	$v¢´štf_h–³r
 (
ch
, *
aux_
)

49 
v¢´štf_aux
 *
aux
 = 
aux_
;

51 ià(
aux
->
Ëngth
++ <‡ux->
max_Ëngth
)

52 *
aux
->
p
++ = 
ch
;

53 
	}
}

63 
	$¢´štf
 (*
bufãr
, 
size_t
 
buf_size
, cÚ¡ *
fÜm©
, ...)

65 
va_li¡
 
¬gs
;

66 
»tv®
;

68 
	`va_¡¬t
 (
¬gs
, 
fÜm©
);

69 
»tv®
 = 
	`v¢´štf
 (
bufãr
, 
buf_size
, 
fÜm©
, 
¬gs
);

70 
	`va_’d
 (
¬gs
);

72  
»tv®
;

73 
	}
}

80 
	$´štf
 (cÚ¡ *
fÜm©
, ...)

82 
va_li¡
 
¬gs
;

83 
»tv®
;

85 
	`va_¡¬t
 (
¬gs
, 
fÜm©
);

86 
»tv®
 = 
	`v´štf
 (
fÜm©
, 
¬gs
);

87 
	`va_’d
 (
¬gs
);

89  
»tv®
;

90 
	}
}

95 
	s´štf_cÚv”siÚ


100 
	mMINUS
 = 1 << 0,

101 
	mPLUS
 = 1 << 1,

102 
	mSPACE
 = 1 << 2,

103 
	mPOUND
 = 1 << 3,

104 
	mZERO
 = 1 << 4,

105 
	mGROUP
 = 1 << 5

107 
	mæags
;

110 
	mwidth
;

114 
	m´ecisiÚ
;

119 
	mCHAR
 = 1,

120 
	mSHORT
 = 2,

121 
	mINT
 = 3,

122 
	mINTMAX
 = 4,

123 
	mLONG
 = 5,

124 
	mLONGLONG
 = 6,

125 
	mPTRDIFFT
 = 7,

126 
	mSIZET
 = 8

128 
	mty³
;

131 
	sš‹g”_ba£


133 
	mba£
;

134 cÚ¡ *
	mdig™s
;

135 
	mx
;

136 
	mgroup
;

139 cÚ¡ 
š‹g”_ba£
 
	gba£_d
 = {10, "0123456789", 0, 3};

140 cÚ¡ 
š‹g”_ba£
 
	gba£_o
 = {8, "01234567", 0, 3};

141 cÚ¡ 
š‹g”_ba£
 
	gba£_x
 = {16, "0123456789abcdef", 'x', 4};

142 cÚ¡ 
š‹g”_ba£
 
	gba£_X
 = {16, "0123456789ABCDEF", 'X', 4};

144 cÚ¡ *
·r£_cÚv”siÚ
 (cÚ¡ *
fÜm©
,

145 
´štf_cÚv”siÚ
 *,

146 
va_li¡
 *);

147 
fÜm©_š‹g”
 (
uštmax_t
 
v®ue
, 
boŞ
 
is_sigÃd
, boŞ 
Ãg©ive
,

148 cÚ¡ 
š‹g”_ba£
 *,

149 cÚ¡ 
´štf_cÚv”siÚ
 *,

150 (*
ouut
è(, *), *
aux
);

151 
	`ouut_dup
 (
ch
, 
size_t
 
út
,

152 (*
ouut
è(, *), *
aux
);

153 
	`fÜm©_¡ršg
 (cÚ¡ *
¡ršg
, 
Ëngth
,

154 
´štf_cÚv”siÚ
 *,

155 (*
ouut
è(, *), *
aux
);

158 
	`__v´štf
 (cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
,

159 (*
ouut
è(, *), *
aux
)

161 ; *
fÜm©
 != '\0'; format++)

163 
´štf_cÚv”siÚ
 
c
;

166 ià(*
fÜm©
 != '%')

168 
	`ouut
 (*
fÜm©
, 
aux
);

171 
fÜm©
++;

174 ià(*
fÜm©
 == '%')

176 
	`ouut
 ('%', 
aux
);

181 
fÜm©
 = 
	`·r£_cÚv”siÚ
 (fÜm©, &
c
, &
¬gs
);

184 *
fÜm©
)

190 
štmax_t
 
v®ue
;

192 
c
.
ty³
)

194 
CHAR
:

195 
v®ue
 = (sigÃd è
	`va_¬g
 (
¬gs
, );

197 
SHORT
:

198 
v®ue
 = (è
	`va_¬g
 (
¬gs
, );

200 
INT
:

201 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

203 
INTMAX
:

204 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
štmax_t
);

206 
LONG
:

207 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

209 
LONGLONG
:

210 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

212 
PTRDIFFT
:

213 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
±rdiff_t
);

215 
SIZET
:

216 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
size_t
);

217 ià(
v®ue
 > 
SIZE_MAX
 / 2)

218 
v®ue
 = v®u- 
SIZE_MAX
 - 1;

221 
	`NOT_REACHED
 ();

224 
	`fÜm©_š‹g”
 (
v®ue
 < 0 ? -value : value,

225 
Œue
, 
v®ue
 < 0, &
ba£_d
, &
c
, 
ouut
, 
aux
);

235 
uštmax_t
 
v®ue
;

236 cÚ¡ 
š‹g”_ba£
 *
b
;

238 
c
.
ty³
)

240 
CHAR
:

241 
v®ue
 = (è
	`va_¬g
 (
¬gs
, );

243 
SHORT
:

244 
v®ue
 = (è
	`va_¬g
 (
¬gs
, );

246 
INT
:

247 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

249 
INTMAX
:

250 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
uštmax_t
);

252 
LONG
:

253 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

255 
LONGLONG
:

256 
v®ue
 = 
	`va_¬g
 (
¬gs
, );

258 
PTRDIFFT
:

259 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
±rdiff_t
);

260 #ià
UINTMAX_MAX
 !ğ
PTRDIFF_MAX


261 
v®ue
 &ğ((
uštmax_t
è
PTRDIFF_MAX
 << 1) | 1;

264 
SIZET
:

265 
v®ue
 = 
	`va_¬g
 (
¬gs
, 
size_t
);

268 
	`NOT_REACHED
 ();

271 *
fÜm©
)

273 'o': 
b
 = &
ba£_o
; ;

274 'u': 
b
 = &
ba£_d
; ;

275 'x': 
b
 = &
ba£_x
; ;

276 'X': 
b
 = &
ba£_X
; ;

277 : 
	`NOT_REACHED
 ();

280 
	`fÜm©_š‹g”
 (
v®ue
, 
çl£
, f®£, 
b
, &
c
, 
ouut
, 
aux
);

287 
ch
 = 
	`va_¬g
 (
¬gs
, );

288 
	`fÜm©_¡ršg
 (&
ch
, 1, &
c
, 
ouut
, 
aux
);

295 cÚ¡ *
s
 = 
	`va_¬g
 (
¬gs
, *);

296 ià(
s
 =ğ
NULL
)

297 
s
 = "(null)";

302 
	`fÜm©_¡ršg
 (
s
, 
	`¡ºËn
 (s, 
c
.
´ecisiÚ
), &c, 
ouut
, 
aux
);

310 *
p
 = 
	`va_¬g
 (
¬gs
, *);

312 
c
.
æags
 = 
POUND
;

313 
	`fÜm©_š‹g”
 ((
ušŒ_t
è
p
, 
çl£
, false,

314 &
ba£_x
, &
c
, 
ouut
, 
aux
);

326 
	`__´štf
 ("<<nØ%%%øš k”Ãl>>", 
ouut
, 
aux
, *
fÜm©
);

330 
	`__´štf
 ("<<nØ%%%øcÚv”siÚ>>", 
ouut
, 
aux
, *
fÜm©
);

334 
	}
}

341 
	$·r£_cÚv”siÚ
 (cÚ¡ *
fÜm©
, 
´štf_cÚv”siÚ
 *
c
,

342 
va_li¡
 *
¬gs
)

345 
c
->
æags
 = 0;

348 *
fÜm©
++)

351 
c
->
æags
 |ğ
MINUS
;

354 
c
->
æags
 |ğ
PLUS
;

357 
c
->
æags
 |ğ
SPACE
;

360 
c
->
æags
 |ğ
POUND
;

363 
c
->
æags
 |ğ
ZERO
;

366 
c
->
æags
 |ğ
GROUP
;

369 
fÜm©
--;

370 
nÙ_a_æag
;

373 
nÙ_a_æag
:

374 ià(
c
->
æags
 & 
MINUS
)

375 
c
->
æags
 &ğ~
ZERO
;

376 ià(
c
->
æags
 & 
PLUS
)

377 
c
->
æags
 &ğ~
SPACE
;

380 
c
->
width
 = 0;

381 ià(*
fÜm©
 == '*')

383 
fÜm©
++;

384 
c
->
width
 = 
	`va_¬g
 (*
¬gs
, );

388 ; 
	`isdig™
 (*
fÜm©
); format++)

389 
c
->
width
 = c->width * 10 + *
fÜm©
 - '0';

391 ià(
c
->
width
 < 0)

393 
c
->
width
 = -c->width;

394 
c
->
æags
 |ğ
MINUS
;

398 
c
->
´ecisiÚ
 = -1;

399 ià(*
fÜm©
 == '.')

401 
fÜm©
++;

402 ià(*
fÜm©
 == '*')

404 
fÜm©
++;

405 
c
->
´ecisiÚ
 = 
	`va_¬g
 (*
¬gs
, );

409 
c
->
´ecisiÚ
 = 0;

410 ; 
	`isdig™
 (*
fÜm©
); format++)

411 
c
->
´ecisiÚ
 = c->´ecisiÚ * 10 + *
fÜm©
 - '0';

413 ià(
c
->
´ecisiÚ
 < 0)

414 
c
->
´ecisiÚ
 = -1;

416 ià(
c
->
´ecisiÚ
 >= 0)

417 
c
->
æags
 &ğ~
ZERO
;

420 
c
->
ty³
 = 
INT
;

421 *
fÜm©
++)

424 ià(*
fÜm©
 == 'h')

426 
fÜm©
++;

427 
c
->
ty³
 = 
CHAR
;

430 
c
->
ty³
 = 
SHORT
;

434 
c
->
ty³
 = 
INTMAX
;

438 ià(*
fÜm©
 == 'l')

440 
fÜm©
++;

441 
c
->
ty³
 = 
LONGLONG
;

444 
c
->
ty³
 = 
LONG
;

448 
c
->
ty³
 = 
PTRDIFFT
;

452 
c
->
ty³
 = 
SIZET
;

456 
fÜm©
--;

460  
fÜm©
;

461 
	}
}

471 
fÜm©_š‹g”
 (
uštmax_t
 
v®ue
, 
boŞ
 
is_sigÃd
, boŞ 
Ãg©ive
,

472 cÚ¡ 
š‹g”_ba£
 *
b
,

473 cÚ¡ 
´štf_cÚv”siÚ
 *
c
,

474 (*
ouut
è(, *), *
aux
)

476 
buf
[64], *
ı
;

477 
x
;

478 
sign
;

479 
´ecisiÚ
;

480 
·d_út
;

481 
dig™_út
;

486 
sign
 = 0;

487 ià(
is_sigÃd
)

489 ià(
c
->
æags
 & 
PLUS
)

490 
sign
 = 
Ãg©ive
 ? '-' : '+';

491 ià(
c
->
æags
 & 
SPACE
)

492 
sign
 = 
Ãg©ive
 ? '-' : ' ';

493 ià(
Ãg©ive
)

494 
sign
 = '-';

500 
x
 = (
c
->
æags
 & 
POUND
è&& 
v®ue
 ? 
b
->x : 0;

505 
ı
 = 
buf
;

506 
dig™_út
 = 0;

507 
v®ue
 > 0)

509 ià((
c
->
æags
 & 
GROUP
è&& 
dig™_út
 > 0 && dig™_úˆ% 
b
->
group
 == 0)

510 *
ı
++ = ',';

511 *
ı
++ = 
b
->
dig™s
[
v®ue
 % b->
ba£
];

512 
v®ue
 /ğ
b
->
ba£
;

513 
dig™_út
++;

521 
´ecisiÚ
 = 
c
->precision < 0 ? 1 : c->precision;

522 
ı
 - 
buf
 < 
´ecisiÚ
 && cp < buf +  buf - 1)

523 *
ı
++ = '0';

524 ià((
c
->
æags
 & 
POUND
è&& 
b
->
ba£
 =ğ8 && (
ı
 =ğ
buf
 || cp[-1] != '0'))

525 *
ı
++ = '0';

528 
·d_út
 = 
c
->
width
 - (
ı
 - 
buf
è- (
x
 ? 2 : 0è- (
sign
 != 0);

529 ià(
·d_út
 < 0)

530 
·d_út
 = 0;

533 ià((
c
->
æags
 & (
MINUS
 | 
ZERO
)) == 0)

534 
	`ouut_dup
 (' ', 
·d_út
, 
ouut
, 
aux
);

535 ià(
sign
)

536 
	`ouut
 (
sign
, 
aux
);

537 ià(
x
)

539 
	`ouut
 ('0', 
aux
);

540 
	`ouut
 (
x
, 
aux
);

542 ià(
c
->
æags
 & 
ZERO
)

543 
	`ouut_dup
 ('0', 
·d_út
, 
ouut
, 
aux
);

544 
ı
 > 
buf
)

545 
	`ouut
 (*--
ı
, 
aux
);

546 ià(
c
->
æags
 & 
MINUS
)

547 
	`ouut_dup
 (' ', 
·d_út
, 
ouut
, 
aux
);

548 
	}
}

552 
ouut_dup
 (
ch
, 
size_t
 
út
, (*
ouut
è(, *), *
aux
)

554 
út
-- > 0)

555 
	`ouut
 (
ch
, 
aux
);

556 
	}
}

562 
fÜm©_¡ršg
 (cÚ¡ *
¡ršg
, 
Ëngth
,

563 
´štf_cÚv”siÚ
 *
c
,

564 (*
ouut
è(, *), *
aux
)

566 
i
;

567 ià(
c
->
width
 > 
Ëngth
 && (c->
æags
 & 
MINUS
) == 0)

568 
	`ouut_dup
 (' ', 
c
->
width
 - 
Ëngth
, 
ouut
, 
aux
);

569 
i
 = 0; i < 
Ëngth
; i++)

570 
	`ouut
 (
¡ršg
[
i
], 
aux
);

571 ià(
c
->
width
 > 
Ëngth
 && (c->
æags
 & 
MINUS
) != 0)

572 
	`ouut_dup
 (' ', 
c
->
width
 - 
Ëngth
, 
ouut
, 
aux
);

573 
	}
}

578 
__´štf
 (cÚ¡ *
fÜm©
,

579 (*
ouut
è(, *), *
aux
, ...)

581 
va_li¡
 
¬gs
;

583 
	`va_¡¬t
 (
¬gs
, 
aux
);

584 
	`__v´štf
 (
fÜm©
, 
¬gs
, 
ouut
, 
aux
);

585 
	`va_’d
 (
¬gs
);

586 
	}
}

594 
	$hex_dump
 (
ušŒ_t
 
ofs
, cÚ¡ *
buf_
, 
size_t
 
size
, 
boŞ
 
ascii
)

596 cÚ¡ 
ušt8_t
 *
buf
 = 
buf_
;

597 cÚ¡ 
size_t
 
³r_lše
 = 16;

599 
size
 > 0)

601 
size_t
 
¡¬t
, 
’d
, 
n
;

602 
size_t
 
i
;

605 
¡¬t
 = 
ofs
 % 
³r_lše
;

606 
’d
 = 
³r_lše
;

607 ià(
’d
 - 
¡¬t
 > 
size
)

608 
’d
 = 
¡¬t
 + 
size
;

609 
n
 = 
’d
 - 
¡¬t
;

612 
	`´štf
 ("%08jx ", (
uštmax_t
è
	`ROUND_DOWN
 (
ofs
, 
³r_lše
));

613 
i
 = 0; i < 
¡¬t
; i++)

614 
	`´štf
 (" ");

615 ; 
i
 < 
’d
; i++)

616 
	`´štf
 ("%02hhx%c",

617 
buf
[
i
 - 
¡¬t
], i =ğ
³r_lše
 / 2 - 1? '-' : ' ');

618 ià(
ascii
)

620 ; 
i
 < 
³r_lše
; i++)

621 
	`´štf
 (" ");

622 
	`´štf
 ("|");

623 
i
 = 0; i < 
¡¬t
; i++)

624 
	`´štf
 (" ");

625 ; 
i
 < 
’d
; i++)

626 
	`´štf
 ("%c",

627 
	`i¥ršt
 (
buf
[
i
 - 
¡¬t
]) ? buf[i - start] : '.');

628 ; 
i
 < 
³r_lše
; i++)

629 
	`´štf
 (" ");

630 
	`´štf
 ("|");

632 
	`´štf
 ("\n");

634 
ofs
 +ğ
n
;

635 
buf
 +ğ
n
;

636 
size
 -ğ
n
;

638 
	}
}

643 
	$´št_humª_»adabË_size
 (
ušt64_t
 
size
)

645 ià(
size
 == 1)

646 
	`´štf
 ("1 byte");

649 cÚ¡ *
çùÜs
[] = {"by‹s", "kB", "MB", "GB", "TB", 
NULL
};

650 cÚ¡ **
å
;

652 
å
 = 
çùÜs
; 
size
 >ğ1024 && fp[1] !ğ
NULL
; fp++)

653 
size
 /= 1024;

654 
	`´štf
 ("%"
PRIu64
" %s", 
size
, *
å
);

656 
	}
}

	@lib/stdio.h

1 #iâdeà
__LIB_STDIO_H


3 
	#__LIB_STDIO_H


	)

5 
	~<debug.h
>

6 
	~<¡d¬g.h
>

7 
	~<¡dboŞ.h
>

8 
	~<¡ddef.h
>

9 
	~<¡dšt.h
>

13 #šşude_Ãxˆ<
¡dio
.
h
>

16 
	#STDIN_FILENO
 0

	)

17 
	#STDOUT_FILENO
 1

	)

20 
	$´štf
 (cÚ¡ *, ...è
	`PRINTF_FORMAT
 (1, 2);

21 
	$¢´štf
 (*, 
size_t
, cÚ¡ *, ...è
	`PRINTF_FORMAT
 (3, 4);

22 
	$v´štf
 (cÚ¡ *, 
va_li¡
è
	`PRINTF_FORMAT
 (1, 0);

23 
	$v¢´štf
 (*, 
size_t
, cÚ¡ *, 
va_li¡
è
	`PRINTF_FORMAT
 (3, 0);

24 
	`putch¬
 ();

25 
	`puts
 (const *);

28 
	`hex_dump
 (
ušŒ_t
 
ofs
, cÚ¡ *, 
size_t
 
size
, 
boŞ
 
ascii
);

29 
	`´št_humª_»adabË_size
 (
ušt64_t
 
sz
);

32 
	`__v´štf
 (cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
,

33 (*
ouut
è(, *), *
aux
);

34 
	`__´štf
 (cÚ¡ *
fÜm©
,

35 (*
ouut
è(, *), *
aux
, ...);

38 
	#¥rštf
 
dÚt_u£_¥rštf_u£_¢´štf


	)

39 
	#v¥rštf
 
dÚt_u£_v¥rštf_u£_v¢´štf


	)

	@lib/stdlib.c

1 
	~<ùy³.h
>

3 
	~<debug.h
>

4 
	~<¿ndom.h
>

5 
	~<¡dlib.h
>

6 
	~<¡dboŞ.h
>

11 
	$©oi
 (cÚ¡ *
s
)

13 
boŞ
 
Ãg©ive
;

14 
v®ue
;

16 
	`ASSERT
 (
s
 !ğ
NULL
);

19 
	`is¥aû
 ((è*
s
))

20 
s
++;

23 
Ãg©ive
 = 
çl£
;

24 ià(*
s
 == '+')

25 
s
++;

26 ià(*
s
 == '-')

28 
Ãg©ive
 = 
Œue
;

29 
s
++;

36 
v®ue
 = 0; 
	`isdig™
 (*
s
); s++)

37 
v®ue
 = v®u* 10 - (*
s
 - '0');

38 ià(!
Ãg©ive
)

39 
v®ue
 = -value;

41  
v®ue
;

42 
	}
}

46 
	$com·»_thunk
 (cÚ¡ *
a
, cÚ¡ *
b
, *
aux
)

48 (**
com·»
è(cÚ¡ *, cÚ¡ *èğ
aux
;

49  (*
com·»
è(
a
, 
b
);

50 
	}
}

59 
qsÜt
 (*
¬¿y
, 
size_t
 
út
, size_ˆ
size
,

60 (*
com·»
) (const *, const *))

62 
	`sÜt
 (
¬¿y
, 
út
, 
size
, 
com·»_thunk
, &
com·»
);

63 
	}
}

68 
	$do_sw­
 (*
¬¿y
, 
size_t
 
a_idx
, size_ˆ
b_idx
, size_ˆ
size
)

70 *
a
 = 
¬¿y
 + (
a_idx
 - 1è* 
size
;

71 *
b
 = 
¬¿y
 + (
b_idx
 - 1è* 
size
;

72 
size_t
 
i
;

74 
i
 = 0; i < 
size
; i++)

76 
t
 = 
a
[
i
];

77 
a
[
i
] = 
b
[i];

78 
b
[
i
] = 
t
;

80 
	}
}

87 
do_com·»
 (*
¬¿y
, 
size_t
 
a_idx
, size_ˆ
b_idx
, size_ˆ
size
,

88 (*
com·»
è(cÚ¡ *, cÚ¡ *, *
aux
),

89 *
aux
)

91  
	`com·»
 (
¬¿y
 + (
a_idx
 - 1è* 
size
,‡¼ay + (
b_idx
 - 1è* size, 
aux
);

92 
	}
}

98 
h—pify
 (*
¬¿y
, 
size_t
 
i
, size_ˆ
út
, size_ˆ
size
,

99 (*
com·»
è(cÚ¡ *, cÚ¡ *, *
aux
),

100 *
aux
)

106 
size_t
 
Ëá
 = 2 * 
i
;

107 
size_t
 
right
 = 2 * 
i
 + 1;

108 
size_t
 
max
 = 
i
;

109 ià(
Ëá
 <ğ
út
 && 
	`do_com·»
 (
¬¿y
,†eá, 
max
, 
size
, 
com·»
, 
aux
) > 0)

110 
max
 = 
Ëá
;

111 ià(
right
 <ğ
út


112 && 
	`do_com·»
 (
¬¿y
, 
right
, 
max
, 
size
, 
com·»
, 
aux
) > 0)

113 
max
 = 
right
;

117 ià(
max
 =ğ
i
)

121 
	`do_sw­
 (
¬¿y
, 
i
, 
max
, 
size
);

122 
i
 = 
max
;

124 
	}
}

133 
sÜt
 (*
¬¿y
, 
size_t
 
út
, size_ˆ
size
,

134 (*
com·»
è(cÚ¡ *, cÚ¡ *, *
aux
),

135 *
aux
)

137 
size_t
 
i
;

139 
	`ASSERT
 (
¬¿y
 !ğ
NULL
 || 
út
 == 0);

140 
	`ASSERT
 (
com·»
 !ğ
NULL
);

141 
	`ASSERT
 (
size
 > 0);

144 
i
 = 
út
 / 2; i > 0; i--)

145 
	`h—pify
 (
¬¿y
, 
i
, 
út
, 
size
, 
com·»
, 
aux
);

148 
i
 = 
út
; i > 1; i--)

150 
	`do_sw­
 (
¬¿y
, 1, 
i
, 
size
);

151 
	`h—pify
 (
¬¿y
, 1, 
i
 - 1, 
size
, 
com·»
, 
aux
);

153 
	}
}

167 
b£¬ch
 (cÚ¡ *
key
, cÚ¡ *
¬¿y
, 
size_t
 
út
,

168 
size_t
 
size
, (*
com·»
) (const *, const *))

170  
	`bš¬y_£¬ch
 (
key
, 
¬¿y
, 
út
, 
size
, 
com·»_thunk
, &
com·»
);

171 
	}
}

186 
bš¬y_£¬ch
 (cÚ¡ *
key
, cÚ¡ *
¬¿y
, 
size_t
 
út
, size_ˆ
size
,

187 (*
com·»
è(cÚ¡ *, cÚ¡ *, *
aux
),

188 *
aux
)

190 cÚ¡ *
fœ¡
 = 
¬¿y
;

191 cÚ¡ *
Ï¡
 = 
¬¿y
 + 
size
 * 
út
;

193 
fœ¡
 < 
Ï¡
)

195 
size_t
 
¿nge
 = (
Ï¡
 - 
fœ¡
è/ 
size
;

196 cÚ¡ *
middË
 = 
fœ¡
 + (
¿nge
 / 2è* 
size
;

197 
cmp
 = 
	`com·»
 (
key
, 
middË
, 
aux
);

199 ià(
cmp
 < 0)

200 
Ï¡
 = 
middË
;

201 ià(
cmp
 > 0)

202 
fœ¡
 = 
middË
 + 
size
;

204  (*è
middË
;

207  
NULL
;

208 
	}
}

	@lib/stdlib.h

1 #iâdeà
__LIB_STDLIB_H


3 
	#__LIB_STDLIB_H


	)

5 
	~<¡ddef.h
>

8 
©oi
 (const *);

9 
qsÜt
 (*
¬¿y
, 
size_t
 
út
, size_ˆ
size
,

10 (*
com·»
) (const *, const *));

11 *
	`b£¬ch
 (cÚ¡ *
key
, cÚ¡ *
¬¿y
, 
size_t
 
út
,

12 
size_t
 
size
, (*
com·»
) (const *, const *));

15 
	`sÜt
 (*
¬¿y
, 
size_t
 
út
, size_ˆ
size
,

16 (*
com·»
è(cÚ¡ *, cÚ¡ *, *
aux
),

17 *
aux
);

18 *
	`bš¬y_£¬ch
 (cÚ¡ *
key
, cÚ¡ *
¬¿y
, 
size_t
 
út
,

19 
size_t
 
size
,

20 (*
com·»
è(cÚ¡ *, cÚ¡ *, *
aux
),

21 *
aux
);

	@lib/string.c

1 
	~<¡ršg.h
>

3 
	~<debug.h
>

8 
	$memıy
 (*
d¡_
, cÚ¡ *
¤c_
, 
size_t
 
size
)

10 *
d¡
 = 
d¡_
;

11 cÚ¡ *
¤c
 = 
¤c_
;

13 
	`ASSERT
 (
d¡
 !ğ
NULL
 || 
size
 == 0);

14 
	`ASSERT
 (
¤c
 !ğ
NULL
 || 
size
 == 0);

16 
size
-- > 0)

17 *
d¡
++ = *
¤c
++;

19  
d¡_
;

20 
	}
}

25 
	$memmove
 (*
d¡_
, cÚ¡ *
¤c_
, 
size_t
 
size
)

27 *
d¡
 = 
d¡_
;

28 cÚ¡ *
¤c
 = 
¤c_
;

30 
	`ASSERT
 (
d¡
 !ğ
NULL
 || 
size
 == 0);

31 
	`ASSERT
 (
¤c
 !ğ
NULL
 || 
size
 == 0);

33 ià(
d¡
 < 
¤c
)

35 
size
-- > 0)

36 *
d¡
++ = *
¤c
++;

40 
d¡
 +ğ
size
;

41 
¤c
 +ğ
size
;

42 
size
-- > 0)

43 *--
d¡
 = *--
¤c
;

46  
d¡
;

47 
	}
}

54 
	$memcmp
 (cÚ¡ *
a_
, cÚ¡ *
b_
, 
size_t
 
size
)

56 cÚ¡ *
a
 = 
a_
;

57 cÚ¡ *
b
 = 
b_
;

59 
	`ASSERT
 (
a
 !ğ
NULL
 || 
size
 == 0);

60 
	`ASSERT
 (
b
 !ğ
NULL
 || 
size
 == 0);

62 ; 
size
-- > 0; 
a
++, 
b
++)

63 ià(*
a
 !ğ*
b
)

64  *
a
 > *
b
 ? +1 : -1;

66 
	}
}

74 
	$¡rcmp
 (cÚ¡ *
a_
, cÚ¡ *
b_
)

76 cÚ¡ *
a
 = (cÚ¡ *è
a_
;

77 cÚ¡ *
b
 = (cÚ¡ *è
b_
;

79 
	`ASSERT
 (
a
 !ğ
NULL
);

80 
	`ASSERT
 (
b
 !ğ
NULL
);

82 *
a
 !ğ'\0' && *¨=ğ*
b
)

84 
a
++;

85 
b
++;

88  *
a
 < *
b
 ? -1 : *a > *b;

89 
	}
}

95 
	$memchr
 (cÚ¡ *
block_
, 
ch_
, 
size_t
 
size
)

97 cÚ¡ *
block
 = 
block_
;

98 
ch
 = 
ch_
;

100 
	`ASSERT
 (
block
 !ğ
NULL
 || 
size
 == 0);

102 ; 
size
-- > 0; 
block
++)

103 ià(*
block
 =ğ
ch
)

104  (*è
block
;

106  
NULL
;

107 
	}
}

114 
	$¡rchr
 (cÚ¡ *
¡ršg
, 
c_
)

116 
c
 = 
c_
;

118 
	`ASSERT
 (
¡ršg
 !ğ
NULL
);

121 ià(*
¡ršg
 =ğ
c
)

122  (*è
¡ršg
;

123 ià(*
¡ršg
 == '\0')

124  
NULL
;

126 
¡ršg
++;

127 
	}
}

131 
size_t


132 
	$¡rc¥n
 (cÚ¡ *
¡ršg
, cÚ¡ *
¡İ
)

134 
size_t
 
Ëngth
;

136 
Ëngth
 = 0; 
¡ršg
[length] != '\0';†ength++)

137 ià(
	`¡rchr
 (
¡İ
, 
¡ršg
[
Ëngth
]è!ğ
NULL
)

139  
Ëngth
;

140 
	}
}

146 
	$¡½brk
 (cÚ¡ *
¡ršg
, cÚ¡ *
¡İ
)

148 ; *
¡ršg
 != '\0'; string++)

149 ià(
	`¡rchr
 (
¡İ
, *
¡ršg
è!ğ
NULL
)

150  (*è
¡ršg
;

151  
NULL
;

152 
	}
}

157 
	$¡¼chr
 (cÚ¡ *
¡ršg
, 
c_
)

159 
c
 = 
c_
;

160 cÚ¡ *
p
 = 
NULL
;

162 ; *
¡ršg
 != '\0'; string++)

163 ià(*
¡ršg
 =ğ
c
)

164 
p
 = 
¡ršg
;

165  (*è
p
;

166 
	}
}

170 
size_t


171 
	$¡r¥n
 (cÚ¡ *
¡ršg
, cÚ¡ *
sk
)

173 
size_t
 
Ëngth
;

175 
Ëngth
 = 0; 
¡ršg
[length] != '\0';†ength++)

176 ià(
	`¡rchr
 (
sk
, 
¡ršg
[
Ëngth
]è=ğ
NULL
)

178  
Ëngth
;

179 
	}
}

185 
	$¡r¡r
 (cÚ¡ *
hay¡ack
, cÚ¡ *
ÃedË
)

187 
size_t
 
hay¡ack_Ën
 = 
	`¡¾’
 (
hay¡ack
);

188 
size_t
 
ÃedË_Ën
 = 
	`¡¾’
 (
ÃedË
);

190 ià(
hay¡ack_Ën
 >ğ
ÃedË_Ën
)

192 
size_t
 
i
;

194 
i
 = 0; i <ğ
hay¡ack_Ën
 - 
ÃedË_Ën
; i++)

195 ià(!
	`memcmp
 (
hay¡ack
 + 
i
, 
ÃedË
, 
ÃedË_Ën
))

196  (*è
hay¡ack
 + 
i
;

199  
NULL
;

200 
	}
}

236 
	$¡¹ok_r
 (*
s
, cÚ¡ *
d–im™”s
, **
§ve_±r
)

238 *
tok’
;

240 
	`ASSERT
 (
d–im™”s
 !ğ
NULL
);

241 
	`ASSERT
 (
§ve_±r
 !ğ
NULL
);

245 ià(
s
 =ğ
NULL
)

246 
s
 = *
§ve_±r
;

247 
	`ASSERT
 (
s
 !ğ
NULL
);

250 
	`¡rchr
 (
d–im™”s
, *
s
è!ğ
NULL
)

255 ià(*
s
 == '\0')

257 *
§ve_±r
 = 
s
;

258  
NULL
;

261 
s
++;

265 
tok’
 = 
s
;

266 
	`¡rchr
 (
d–im™”s
, *
s
è=ğ
NULL
)

267 
s
++;

268 ià(*
s
 != '\0')

270 *
s
 = '\0';

271 *
§ve_±r
 = 
s
 + 1;

274 *
§ve_±r
 = 
s
;

275  
tok’
;

276 
	}
}

280 
	$mem£t
 (*
d¡_
, 
v®ue
, 
size_t
 
size
)

282 *
d¡
 = 
d¡_
;

284 
	`ASSERT
 (
d¡
 !ğ
NULL
 || 
size
 == 0);

286 
size
-- > 0)

287 *
d¡
++ = 
v®ue
;

289  
d¡_
;

290 
	}
}

293 
size_t


294 
	$¡¾’
 (cÚ¡ *
¡ršg
)

296 cÚ¡ *
p
;

298 
	`ASSERT
 (
¡ršg
 !ğ
NULL
);

300 
p
 = 
¡ršg
; *p != '\0';…++)

302  
p
 - 
¡ršg
;

303 
	}
}

307 
size_t


308 
	$¡ºËn
 (cÚ¡ *
¡ršg
, 
size_t
 
maxËn
)

310 
size_t
 
Ëngth
;

312 
Ëngth
 = 0; 
¡ršg
[Ëngth] !ğ'\0' &&†’gth < 
maxËn
;†ength++)

314  
Ëngth
;

315 
	}
}

326 
size_t


327 
	$¡¾ıy
 (*
d¡
, cÚ¡ *
¤c
, 
size_t
 
size
)

329 
size_t
 
¤c_Ën
;

331 
	`ASSERT
 (
d¡
 !ğ
NULL
);

332 
	`ASSERT
 (
¤c
 !ğ
NULL
);

334 
¤c_Ën
 = 
	`¡¾’
 (
¤c
);

335 ià(
size
 > 0)

337 
size_t
 
d¡_Ën
 = 
size
 - 1;

338 ià(
¤c_Ën
 < 
d¡_Ën
)

339 
d¡_Ën
 = 
¤c_Ën
;

340 
	`memıy
 (
d¡
, 
¤c
, 
d¡_Ën
);

341 
d¡
[
d¡_Ën
] = '\0';

343  
¤c_Ën
;

344 
	}
}

356 
size_t


357 
	$¡¾ÿt
 (*
d¡
, cÚ¡ *
¤c
, 
size_t
 
size
)

359 
size_t
 
¤c_Ën
, 
d¡_Ën
;

361 
	`ASSERT
 (
d¡
 !ğ
NULL
);

362 
	`ASSERT
 (
¤c
 !ğ
NULL
);

364 
¤c_Ën
 = 
	`¡¾’
 (
¤c
);

365 
d¡_Ën
 = 
	`¡¾’
 (
d¡
);

366 ià(
size
 > 0 && 
d¡_Ën
 < size)

368 
size_t
 
cİy_út
 = 
size
 - 
d¡_Ën
 - 1;

369 ià(
¤c_Ën
 < 
cİy_út
)

370 
cİy_út
 = 
¤c_Ën
;

371 
	`memıy
 (
d¡
 + 
d¡_Ën
, 
¤c
, 
cİy_út
);

372 
d¡
[
d¡_Ën
 + 
cİy_út
] = '\0';

374  
¤c_Ën
 + 
d¡_Ën
;

375 
	}
}

	@lib/string.h

1 #iâdeà
__LIB_STRING_H


3 
	#__LIB_STRING_H


	)

5 
	~<¡ddef.h
>

8 *
memıy
 (*, cÚ¡ *, 
size_t
);

9 *
memmove
 (*, cÚ¡ *, 
size_t
);

10 *
¡ºÿt
 (*, cÚ¡ *, 
size_t
);

11 
memcmp
 (cÚ¡ *, cÚ¡ *, 
size_t
);

12 
¡rcmp
 (const *, const *);

13 *
memchr
 (cÚ¡ *, , 
size_t
);

14 *
¡rchr
 (const *, );

15 
size_t
 
¡rc¥n
 (const *, const *);

16 *
¡½brk
 (const *, const *);

17 *
¡¼chr
 (const *, );

18 
size_t
 
¡r¥n
 (const *, const *);

19 *
¡r¡r
 (const *, const *);

20 *
mem£t
 (*, , 
size_t
);

21 
size_t
 
¡¾’
 (const *);

24 
size_t
 
¡¾ıy
 (*, const *, size_t);

25 
size_t
 
¡¾ÿt
 (*, const *, size_t);

26 *
¡¹ok_r
 (*, const *, **);

27 
size_t
 
¡ºËn
 (const *, size_t);

30 
	#¡rıy
 
dÚt_u£_¡rıy_u£_¡¾ıy


	)

31 
	#¡ºıy
 
dÚt_u£_¡ºıy_u£_¡¾ıy


	)

32 
	#¡rÿt
 
dÚt_u£_¡rÿt_u£_¡¾ÿt


	)

33 
	#¡ºÿt
 
dÚt_u£_¡ºÿt_u£_¡¾ÿt


	)

34 
	#¡¹ok
 
dÚt_u£_¡¹ok_u£_¡¹ok_r


	)

	@lib/syscall-nr.h

1 #iâdeà
__LIB_SYSCALL_NR_H


3 
	#__LIB_SYSCALL_NR_H


	)

9 
	mSYS_HALT
,

10 
	mSYS_EXIT
,

11 
	mSYS_EXEC
,

12 
	mSYS_WAIT
,

13 
	mSYS_CREATE
,

14 
	mSYS_REMOVE
,

15 
	mSYS_OPEN
,

16 
	mSYS_FILESIZE
,

17 
	mSYS_READ
,

18 
	mSYS_WRITE
,

19 
	mSYS_SEEK
,

20 
	mSYS_TELL
,

21 
	mSYS_CLOSE
,

24 
	mSYS_MMAP
,

25 
	mSYS_MUNMAP
,

28 
	mSYS_CHDIR
,

29 
	mSYS_MKDIR
,

30 
	mSYS_READDIR
,

31 
	mSYS_ISDIR
,

32 
	mSYS_INUMBER


	@lib/user/console.c

1 
	~<¡dio.h
>

2 
	~<¡ršg.h
>

3 
	~<sysÿÎ.h
>

4 
	~<sysÿÎ-Ä.h
>

9 
	$v´štf
 (cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
)

11  
	`vh´štf
 (
STDOUT_FILENO
, 
fÜm©
, 
¬gs
);

12 
	}
}

16 
	$h´štf
 (
hªdË
, cÚ¡ *
fÜm©
, ...)

18 
va_li¡
 
¬gs
;

19 
»tv®
;

21 
	`va_¡¬t
 (
¬gs
, 
fÜm©
);

22 
»tv®
 = 
	`vh´štf
 (
hªdË
, 
fÜm©
, 
¬gs
);

23 
	`va_’d
 (
¬gs
);

25  
»tv®
;

26 
	}
}

31 
	$puts
 (cÚ¡ *
s
)

33 
	`wr™e
 (
STDOUT_FILENO
, 
s
, 
	`¡¾’
 (s));

34 
	`putch¬
 ('\n');

37 
	}
}

41 
	$putch¬
 (
c
)

43 
c2
 = 
c
;

44 
	`wr™e
 (
STDOUT_FILENO
, &
c2
, 1);

45  
c
;

46 
	}
}

49 
	svh´štf_aux


51 
	mbuf
[64];

52 *
	mp
;

53 
	mch¬_út
;

54 
	mhªdË
;

57 
add_ch¬
 (, *);

58 
æush
 (
vh´štf_aux
 *);

64 
	$vh´štf
 (
hªdË
, cÚ¡ *
fÜm©
, 
va_li¡
 
¬gs
)

66 
vh´štf_aux
 
aux
;

67 
aux
.
p
 =‡ux.
buf
;

68 
aux
.
ch¬_út
 = 0;

69 
aux
.
hªdË
 = handle;

70 
	`__v´štf
 (
fÜm©
, 
¬gs
, 
add_ch¬
, &
aux
);

71 
	`æush
 (&
aux
);

72  
aux
.
ch¬_út
;

73 
	}
}

78 
	$add_ch¬
 (
c
, *
aux_
)

80 
vh´štf_aux
 *
aux
 = 
aux_
;

81 *
aux
->
p
++ = 
c
;

82 ià(
aux
->
p
 >ğaux->
buf
 + ‡ux->buf)

83 
	`æush
 (
aux
);

84 
aux
->
ch¬_út
++;

85 
	}
}

89 
	$æush
 (
vh´štf_aux
 *
aux
)

91 ià(
aux
->
p
 >‡ux->
buf
)

92 
	`wr™e
 (
aux
->
hªdË
,‡ux->
buf
,‡ux->
p
 -‡ux->buf);

93 
aux
->
p
 =‡ux->
buf
;

94 
	}
}

	@lib/user/debug.c

1 
	~<debug.h
>

2 
	~<¡d¬g.h
>

3 
	~<¡dboŞ.h
>

4 
	~<¡dio.h
>

5 
	~<sysÿÎ.h
>

10 
	$debug_·nic
 (cÚ¡ *
fe
, 
lše
, cÚ¡ *
funùiÚ
,

11 cÚ¡ *
mes§ge
, ...)

13 
va_li¡
 
¬gs
;

15 
	`´štf
 ("U£¸´oûs ABORT‡ˆ%s:%d iÀ%s(): ", 
fe
, 
lše
, 
funùiÚ
);

17 
	`va_¡¬t
 (
¬gs
, 
mes§ge
);

18 
	`v´štf
 (
mes§ge
, 
¬gs
);

19 
	`´štf
 ("\n");

20 
	`va_’d
 (
¬gs
);

22 
	`debug_backŒaû
 ();

24 
	`ex™
 (1);

25 
	}
}

	@lib/user/entry.c

1 
	~<sysÿÎ.h
>

3 
maš
 (, *[]);

4 
_¡¬t
 (
¬gc
, *
¬gv
[]);

7 
	$_¡¬t
 (
¬gc
, *
¬gv
[])

9 
	`ex™
 (
	`maš
 (
¬gc
, 
¬gv
));

10 
	}
}

	@lib/user/stdio.h

1 #iâdeà
__LIB_USER_STDIO_H


2 
	#__LIB_USER_STDIO_H


	)

4 
	$h´štf
 (, cÚ¡ *, ...è
	`PRINTF_FORMAT
 (2, 3);

5 
	$vh´štf
 (, cÚ¡ *, 
va_li¡
è
	`PRINTF_FORMAT
 (2, 0);

	@lib/user/syscall.c

1 
	~<sysÿÎ.h
>

2 
	~"../sysÿÎ-Ä.h
"

6 
	#sysÿÎ0
(
NUMBER
) \

8 
»tv®
; \

9 
asm
 volatile \

11 : "÷" (
»tv®
) \

12 : [
numb”
] "i" (
NUMBER
) \

14 
»tv®
; \

15 })

	)

19 
	#sysÿÎ1
(
NUMBER
, 
ARG0
) \

21 
»tv®
; \

22 
asm
 volatile \

24 : "÷" (
»tv®
) \

25 : [
numb”
] "i" (
NUMBER
), \

26 [
¬g0
] "r" (
ARG0
) \

28 
»tv®
; \

29 })

	)

33 
	#sysÿÎ2
(
NUMBER
, 
ARG0
, 
ARG1
) \

35 
»tv®
; \

36 
asm
 volatile \

39 : "÷" (
»tv®
) \

40 : [
numb”
] "i" (
NUMBER
), \

41 [
¬g0
] "r" (
ARG0
), \

42 [
¬g1
] "r" (
ARG1
) \

44 
»tv®
; \

45 })

	)

49 
	#sysÿÎ3
(
NUMBER
, 
ARG0
, 
ARG1
, 
ARG2
) \

51 
»tv®
; \

52 
asm
 volatile \

55 : "÷" (
»tv®
) \

56 : [
numb”
] "i" (
NUMBER
), \

57 [
¬g0
] "r" (
ARG0
), \

58 [
¬g1
] "r" (
ARG1
), \

59 [
¬g2
] "r" (
ARG2
) \

61 
»tv®
; \

62 })

	)

65 
	$h®t
 ()

67 
	`sysÿÎ0
 (
SYS_HALT
);

68 
	`NOT_REACHED
 ();

69 
	}
}

72 
	$ex™
 (
¡©us
)

74 
	`sysÿÎ1
 (
SYS_EXIT
, 
¡©us
);

75 
	`NOT_REACHED
 ();

76 
	}
}

78 
pid_t


79 
	$exec
 (cÚ¡ *
fe
)

81  (
pid_t
è
	`sysÿÎ1
 (
SYS_EXEC
, 
fe
);

82 
	}
}

85 
	$wa™
 (
pid_t
 
pid
)

87  
	`sysÿÎ1
 (
SYS_WAIT
, 
pid
);

88 
	}
}

90 
boŞ


91 
	$ü—‹
 (cÚ¡ *
fe
, 
š™Ÿl_size
)

93  
	`sysÿÎ2
 (
SYS_CREATE
, 
fe
, 
š™Ÿl_size
);

94 
	}
}

96 
boŞ


97 
	$»move
 (cÚ¡ *
fe
)

99  
	`sysÿÎ1
 (
SYS_REMOVE
, 
fe
);

100 
	}
}

103 
	$İ’
 (cÚ¡ *
fe
)

105  
	`sysÿÎ1
 (
SYS_OPEN
, 
fe
);

106 
	}
}

109 
	$fesize
 (
fd
)

111  
	`sysÿÎ1
 (
SYS_FILESIZE
, 
fd
);

112 
	}
}

115 
	$»ad
 (
fd
, *
bufãr
, 
size
)

117  
	`sysÿÎ3
 (
SYS_READ
, 
fd
, 
bufãr
, 
size
);

118 
	}
}

121 
	$wr™e
 (
fd
, cÚ¡ *
bufãr
, 
size
)

123  
	`sysÿÎ3
 (
SYS_WRITE
, 
fd
, 
bufãr
, 
size
);

124 
	}
}

127 
	$£ek
 (
fd
, 
pos™iÚ
)

129 
	`sysÿÎ2
 (
SYS_SEEK
, 
fd
, 
pos™iÚ
);

130 
	}
}

133 
	$‹Î
 (
fd
)

135  
	`sysÿÎ1
 (
SYS_TELL
, 
fd
);

136 
	}
}

139 
	$şo£
 (
fd
)

141 
	`sysÿÎ1
 (
SYS_CLOSE
, 
fd
);

142 
	}
}

144 
m­id_t


145 
	$mm­
 (
fd
, *
addr
)

147  
	`sysÿÎ2
 (
SYS_MMAP
, 
fd
, 
addr
);

148 
	}
}

151 
	$munm­
 (
m­id_t
 
m­id
)

153 
	`sysÿÎ1
 (
SYS_MUNMAP
, 
m­id
);

154 
	}
}

156 
boŞ


157 
	$chdœ
 (cÚ¡ *
dœ
)

159  
	`sysÿÎ1
 (
SYS_CHDIR
, 
dœ
);

160 
	}
}

162 
boŞ


163 
	$mkdœ
 (cÚ¡ *
dœ
)

165  
	`sysÿÎ1
 (
SYS_MKDIR
, 
dœ
);

166 
	}
}

168 
boŞ


169 
»addœ
 (
fd
, 
Çme
[
READDIR_MAX_LEN
 + 1])

171  
sysÿÎ2
 (
SYS_READDIR
, 
fd
, 
Çme
);

174 
boŞ


175 
	$isdœ
 (
fd
)

177  
	`sysÿÎ1
 (
SYS_ISDIR
, 
fd
);

178 
	}
}

181 
	$šumb”
 (
fd
)

183  
	`sysÿÎ1
 (
SYS_INUMBER
, 
fd
);

184 
	}
}

	@lib/user/syscall.h

1 #iâdeà
__LIB_USER_SYSCALL_H


2 
	#__LIB_USER_SYSCALL_H


	)

4 
	~<¡dboŞ.h
>

5 
	~<debug.h
>

8 
	tpid_t
;

9 
	#PID_ERROR
 ((
pid_t
è-1)

	)

12 
	tm­id_t
;

13 
	#MAP_FAILED
 ((
m­id_t
è-1)

	)

16 
	#READDIR_MAX_LEN
 14

	)

19 
	#EXIT_SUCCESS
 0

	)

20 
	#EXIT_FAILURE
 1

	)

23 
	$h®t
 (è
NO_RETURN
;

24 
	$ex™
 (
¡©us
è
NO_RETURN
;

25 
pid_t
 
	`exec
 (cÚ¡ *
fe
);

26 
	`wa™
 (
pid_t
);

27 
boŞ
 
	`ü—‹
 (cÚ¡ *
fe
, 
š™Ÿl_size
);

28 
boŞ
 
	`»move
 (cÚ¡ *
fe
);

29 
	`İ’
 (cÚ¡ *
fe
);

30 
	`fesize
 (
fd
);

31 
	`»ad
 (
fd
, *
bufãr
, 
Ëngth
);

32 
	`wr™e
 (
fd
, cÚ¡ *
bufãr
, 
Ëngth
);

33 
	`£ek
 (
fd
, 
pos™iÚ
);

34 
	`‹Î
 (
fd
);

35 
	`şo£
 (
fd
);

38 
m­id_t
 
	`mm­
 (
fd
, *
addr
);

39 
	`munm­
 (
m­id_t
);

42 
boŞ
 
	`chdœ
 (cÚ¡ *
dœ
);

43 
boŞ
 
	`mkdœ
 (cÚ¡ *
dœ
);

44 
boŞ
 
	`»addœ
 (
fd
, 
Çme
[
READDIR_MAX_LEN
 + 1]);

45 
boŞ
 
	`isdœ
 (
fd
);

46 
	`šumb”
 (
fd
);

	@lib/ustar.c

1 
	~<u¡¬.h
>

3 
	~<lim™s.h
>

4 
	~<·cked.h
>

5 
	~<¡dio.h
>

6 
	~<¡ršg.h
>

11 
	su¡¬_h—d”


13 
	mÇme
[100];

14 
	mmode
[8];

15 
	muid
[8];

16 
	mgid
[8];

17 
	msize
[12];

18 
	mmtime
[12];

20 
	mchksum
[8];

21 
	mty³æag
;

22 
	mlškÇme
[100];

24 
	mmagic
[6];

25 
	mv”siÚ
[2];

26 
	muÇme
[32];

27 
	mgÇme
[32];

28 
	mdevmajÜ
[8];

29 
	mdevmšÜ
[8];

30 
	m´efix
[155];

32 
	m·ddšg
[12];

34 
	gPACKED
;

38 
	$ÿlcuÏ‹_chksum
 (cÚ¡ 
u¡¬_h—d”
 *
h
)

40 cÚ¡ 
ušt8_t
 *
h—d”
 = (cÚ¡ ušt8_ˆ*è
h
;

41 
chksum
;

42 
size_t
 
i
;

44 
chksum
 = 0;

45 
i
 = 0; i < 
USTAR_HEADER_SIZE
; i++)

49 cÚ¡ 
size_t
 
chksum_¡¬t
 = 
	`off£tof
 (
u¡¬_h—d”
, 
chksum
);

50 cÚ¡ 
size_t
 
chksum_’d
 = 
chksum_¡¬t
 +  
h
->
chksum
;

51 
boŞ
 
š_chksum_f›ld
 = 
i
 >ğ
chksum_¡¬t
 && i < 
chksum_’d
;

52 
chksum
 +ğ
š_chksum_f›ld
 ? ' ' : 
h—d”
[
i
];

54  
chksum
;

55 
	}
}

67 
	$¡r_ªtisocŸl_´efixes
 (cÚ¡ *
fe_Çme
)

69 *
fe_Çme
 == '/'

70 || !
	`memcmp
 (
fe_Çme
, "./", 2)

71 || !
	`memcmp
 (
fe_Çme
, "../", 3))

72 
fe_Çme
 = 
	`¡rchr
 (file_name, '/') + 1;

73  *
fe_Çme
 =ğ'\0' || !
	`¡rcmp
 (file_name, "..") ? "." : file_name;

74 
	}
}

83 
boŞ


84 
	$u¡¬_make_h—d”
 (cÚ¡ *
fe_Çme
, 
u¡¬_ty³
 
ty³
,

85 
size
, 
h—d”
[
USTAR_HEADER_SIZE
])

87 
u¡¬_h—d”
 *
h
 = (u¡¬_h—d” *è
h—d”
;

89 
	`ASSERT
 ( (
u¡¬_h—d”
è=ğ
USTAR_HEADER_SIZE
);

90 
	`ASSERT
 (
ty³
 =ğ
USTAR_REGULAR
 ||y³ =ğ
USTAR_DIRECTORY
);

93 
fe_Çme
 = 
	`¡r_ªtisocŸl_´efixes
 (file_name);

94 ià(
	`¡¾’
 (
fe_Çme
) > 99)

96 
	`´štf
 ("%s: fÇmtoØlÚg\n", 
fe_Çme
);

97  
çl£
;

101 
	`mem£t
 (
h
, 0,  *h);

102 
	`¡¾ıy
 (
h
->
Çme
, 
fe_Çme
,  h->name);

103 
	`¢´štf
 (
h
->
mode
,  h->mode, "%07o",

104 
ty³
 =ğ
USTAR_REGULAR
 ? 0644 : 0755);

105 
	`¡¾ıy
 (
h
->
uid
, "0000000",  h->uid);

106 
	`¡¾ıy
 (
h
->
gid
, "0000000",  h->gid);

107 
	`¢´štf
 (
h
->
size
,  h->size, "%011o", size);

108 
	`¢´štf
 (
h
->
mtime
,  h->
size
, "%011o", 1136102400);

109 
h
->
ty³æag
 = 
ty³
;

110 
	`¡¾ıy
 (
h
->
magic
, "ustar",  h->magic);

111 
h
->
v”siÚ
[0] = h->version[1] = '0';

112 
	`¡¾ıy
 (
h
->
gÇme
, "root",  h->gname);

113 
	`¡¾ıy
 (
h
->
uÇme
, "root",  h->uname);

116 
	`¢´štf
 (
h
->
chksum
,  h->chksum, "%07o", 
	`ÿlcuÏ‹_chksum
 (h));

118  
Œue
;

119 
	}
}

130 
boŞ


131 
	$·r£_où®_f›ld
 (cÚ¡ *
s
, 
size_t
 
size
, *
v®ue
)

133 
size_t
 
ofs
;

135 *
v®ue
 = 0;

136 
ofs
 = 0; of < 
size
; ofs++)

138 
c
 = 
s
[
ofs
];

139 ià(
c
 >= '0' && c <= '7')

141 ià(*
v®ue
 > 
ULONG_MAX
 / 8)

144  
çl£
;

146 *
v®ue
 = 
c
 - '0' + *value * 8;

148 ià(
c
 == ' ' || c == '\0')

152  
ofs
 > 0;

157  
çl£
;

162  
çl£
;

163 
	}
}

167 
boŞ


168 
	$is_®l_z”os
 (cÚ¡ *
block
, 
size_t
 
út
)

170 
út
-- > 0)

171 ià(*
block
++ != 0)

172  
çl£
;

173  
Œue
;

174 
	}
}

183 
	$u¡¬_·r£_h—d”
 (cÚ¡ 
h—d”
[
USTAR_HEADER_SIZE
],

184 cÚ¡ **
fe_Çme
, 
u¡¬_ty³
 *
ty³
, *
size
)

186 cÚ¡ 
u¡¬_h—d”
 *
h
 = (cÚ¡ u¡¬_h—d” *è
h—d”
;

187 
chksum
, 
size_ul
;

189 
	`ASSERT
 ( (
u¡¬_h—d”
è=ğ
USTAR_HEADER_SIZE
);

192 ià(
	`is_®l_z”os
 (
h—d”
, 
USTAR_HEADER_SIZE
))

194 *
fe_Çme
 = 
NULL
;

195 *
ty³
 = 
USTAR_EOF
;

196 *
size
 = 0;

197  
NULL
;

201 ià(
	`memcmp
 (
h
->
magic
, "ustar", 6))

203 ià(
h
->
v”siÚ
[0] != '0' || h->version[1] != '0')

205 ià(!
	`·r£_où®_f›ld
 (
h
->
chksum
,  h->chksum, &chksum))

207 ià(
chksum
 !ğ
	`ÿlcuÏ‹_chksum
 (
h
))

209 ià(
h
->
Çme
[ h->Çm- 1] !ğ'\0' || h->
´efix
[0] != '\0')

211 ià(
h
->
ty³æag
 !ğ
USTAR_REGULAR
 && h->ty³æag !ğ
USTAR_DIRECTORY
)

213 ià(
h
->
ty³æag
 =ğ
USTAR_REGULAR
)

215 ià(!
	`·r£_où®_f›ld
 (
h
->
size
,  h->size, &
size_ul
))

217 ià(
size_ul
 > 
INT_MAX
)

221 
size_ul
 = 0;

224 *
fe_Çme
 = 
	`¡r_ªtisocŸl_´efixes
 (
h
->
Çme
);

225 *
ty³
 = 
h
->
ty³æag
;

226 *
size
 = 
size_ul
;

227  
NULL
;

228 
	}
}

	@lib/ustar.h

1 #iâdeà
__LIB_USTAR_H


3 
	#__LIB_USTAR_H


	)

9 
	~<¡dboŞ.h
>

14 
	eu¡¬_ty³


16 
	mUSTAR_REGULAR
 = '0',

17 
	mUSTAR_DIRECTORY
 = '5',

18 
	mUSTAR_EOF
 = -1

22 
	#USTAR_HEADER_SIZE
 512

	)

24 
boŞ
 
u¡¬_make_h—d”
 (cÚ¡ *
fe_Çme
, 
u¡¬_ty³
,

25 
size
, 
h—d”
[
USTAR_HEADER_SIZE
]);

26 cÚ¡ *
u¡¬_·r£_h—d”
 (cÚ¡ 
h—d”
[
USTAR_HEADER_SIZE
],

27 cÚ¡ **
fe_Çme
,

28 
u¡¬_ty³
 *, *
size
);

	@threads/flags.h

1 #iâdeà
THREADS_FLAGS_H


3 
	#THREADS_FLAGS_H


	)

6 
	#FLAG_MBS
 0x00000002

	)

7 
	#FLAG_IF
 0x00000200

	)

	@threads/init.c

1 
	~"th»ads/š™.h
"

3 
	~<cÚsŞe.h
>

4 
	~<debug.h
>

5 
	~<š‰y³s.h
>

6 
	~<lim™s.h
>

7 
	~<¿ndom.h
>

8 
	~<¡ddef.h
>

9 
	~<¡dio.h
>

10 
	~<¡dlib.h
>

11 
	~<¡ršg.h
>

12 
	~"deviûs/kbd.h
"

13 
	~"deviûs/šput.h
"

14 
	~"deviûs/pci.h
"

15 
	~"deviûs/usb.h
"

16 
	~"deviûs/£rŸl.h
"

17 
	~"deviûs/tim”.h
"

18 
	~"deviûs/vga.h
"

19 
	~"deviûs/¹c.h
"

20 
	~"th»ads/š‹¼u±.h
"

21 
	~"th»ads/io.h
"

22 
	~"th»ads/lßd”.h
"

23 
	~"th»ads/m®loc.h
"

24 
	~"th»ads/·Îoc.h
"

25 
	~"th»ads/±e.h
"

26 
	~"th»ads/th»ad.h
"

27 #ifdeà
USERPROG


28 
	~"u£½rog/´oûss.h
"

29 
	~"u£½rog/exû±iÚ.h
"

30 
	~"u£½rog/gdt.h
"

31 
	~"u£½rog/sysÿÎ.h
"

32 
	~"u£½rog/tss.h
"

34 
	~"‹¡s/th»ads/‹¡s.h
"

36 #ifdeà
FILESYS


37 
	~"deviûs/block.h
"

38 
	~"deviûs/ide.h
"

39 
	~"fesys/fesys.h
"

40 
	~"fesys/fsut.h
"

44 
ušt32_t
 *
	gba£_·ge_dœ
;

45 
boŞ
 
	gba£_·ge_dœ_š™Ÿlized
 = 0;

47 #ifdeà
FILESYS


49 
boŞ
 
	gfÜm©_fesys
;

53 cÚ¡ *
	gfesys_bdev_Çme
;

54 cÚ¡ *
	gsü©ch_bdev_Çme
;

55 #ifdeà
VM


56 cÚ¡ *
	gsw­_bdev_Çme
;

61 
boŞ
 
	gpow”_off_wh’_dÚe
;

64 
boŞ
 
	g»boÙ_wh’_dÚe
;

66 
bss_š™
 ();

67 
·gšg_š™
 ();

68 
pci_zÚe_š™
 ();

70 **
»ad_commªd_lše
 ();

71 **
·r£_İtiÚs
 (**
¬gv
);

72 
run_aùiÚs
 (**
¬gv
);

73 
u§ge
 ();

75 #ifdeà
FILESYS


76 
loÿ‹_block_deviûs
 ();

77 
loÿ‹_block_deviû
 (
block_ty³
, cÚ¡ *
Çme
);

80 
´št_¡©s
 ();

82 
	$maš
 (è
NO_RETURN
;

86 
	$maš
 ()

88 **
¬gv
;

91 
	`bss_š™
 ();

94 
¬gv
 = 
	`»ad_commªd_lše
 ();

95 
¬gv
 = 
	`·r£_İtiÚs
 (argv);

99 
	`th»ad_š™
 ();

100 
	`cÚsŞe_š™
 ();

103 
	`´štf
 ("Pšto boÙšg w™h %'"
PRIu32
" kB RAM...\n",

104 
¿m_·ges
 * 
PGSIZE
 / 1024);

107 
	`·Îoc_š™
 ();

108 
	`m®loc_š™
 ();

109 
	`·gšg_š™
 ();

112 #ifdeà
USERPROG


113 
	`tss_š™
 ();

114 
	`gdt_š™
 ();

118 
	`šŒ_š™
 ();

119 
	`tim”_š™
 ();

120 
	`kbd_š™
 ();

121 
	`pci_š™
 ();

122 
	`šput_š™
 ();

123 #ifdeà
USERPROG


124 
	`exû±iÚ_š™
 ();

125 
	`sysÿÎ_š™
 ();

129 
	`th»ad_¡¬t
 ();

130 
	`£rŸl_š™_queue
 ();

131 
	`tim”_ÿlib¿‹
 ();

132 
	`usb_š™
 ();

134 #ifdeà
FILESYS


136 
	`usb_¡Üage_š™
 ();

137 
	`ide_š™
 ();

138 
	`loÿ‹_block_deviûs
 ();

139 
	`fesys_š™
 (
fÜm©_fesys
);

142 
	`´štf
 ("Boot complete.\n");

145 
	`run_aùiÚs
 (
¬gv
);

148 ià(
»boÙ_wh’_dÚe
)

149 
	`»boÙ
 ();

151 ià(
pow”_off_wh’_dÚe
)

152 
	`pow”_off
 ();

153 
	`th»ad_ex™
 ();

154 
	}
}

163 
	$bss_š™
 ()

165 
_¡¬t_bss
, 
_’d_bss
;

166 
	`mem£t
 (&
_¡¬t_bss
, 0, &
_’d_bss
 - &_start_bss);

167 
	}
}

174 
	$·gšg_š™
 ()

176 
ušt32_t
 *
pd
, *
±
;

177 
size_t
 
·ge
;

178 
_¡¬t
, 
_’d_k”Ãl_‹xt
;

180 
pd
 = 
ba£_·ge_dœ
 = 
	`·Îoc_g‘_·ge
 (
PAL_ASSERT
 | 
PAL_ZERO
);

181 
±
 = 
NULL
;

182 
·ge
 = 0;…ag< 
¿m_·ges
;…age++)

184 
ušŒ_t
 
·ddr
 = 
·ge
 * 
PGSIZE
;

185 *
vaddr
 = 
	`±ov
 (
·ddr
);

186 
size_t
 
pde_idx
 = 
	`pd_no
 (
vaddr
);

187 
size_t
 
±e_idx
 = 
	`±_no
 (
vaddr
);

188 
boŞ
 
š_k”Ãl_‹xt
 = &
_¡¬t
 <ğ
vaddr
 && vadd¸< &
_’d_k”Ãl_‹xt
;

190 ià(
pd
[
pde_idx
] == 0)

192 
±
 = 
	`·Îoc_g‘_·ge
 (
PAL_ASSERT
 | 
PAL_ZERO
);

193 
pd
[
pde_idx
] = 
	`pde_ü—‹_k”Ãl
 (
±
);

196 
±
[
±e_idx
] = 
	`±e_ü—‹_k”Ãl
 (
vaddr
, !
š_k”Ãl_‹xt
);

199 
	`pci_zÚe_š™
 ();

206 
asm
 vŞ©("movÈ%0, %%ü3" : : "r" (
	`vtİ
 (
ba£_·ge_dœ
)));

208 
ba£_·ge_dœ_š™Ÿlized
 = 1;

209 
	}
}

213 
	$pci_zÚe_š™
 ()

215 
i
;

216 
i
 = 0; i < 
PCI_ADDR_ZONE_PDES
; i++)

218 
size_t
 
pde_idx
 = 
	`pd_no
 ((*è
PCI_ADDR_ZONE_BEGIN
è+ 
i
;

219 
ušt32_t
 
pde
;

220 *
±
;

222 
±
 = 
	`·Îoc_g‘_·ge
 (
PAL_ASSERT
 | 
PAL_ZERO
);

223 
pde
 = 
	`pde_ü—‹_k”Ãl
 (
±
);

224 
ba£_·ge_dœ
[
pde_idx
] = 
pde
;

226 
	}
}

231 
	$»ad_commªd_lše
 ()

233 *
¬gv
[
LOADER_ARGS_LEN
 / 2 + 1];

234 *
p
, *
’d
;

235 
¬gc
;

236 
i
;

238 
¬gc
 = *(
ušt32_t
 *è
	`±ov
 (
LOADER_ARG_CNT
);

239 
p
 = 
	`±ov
 (
LOADER_ARGS
);

240 
’d
 = 
p
 + 
LOADER_ARGS_LEN
;

241 
i
 = 0; i < 
¬gc
; i++)

243 ià(
p
 >ğ
’d
)

244 
	`PANIC
 ("command†ine‡rguments overflow");

246 
¬gv
[
i
] = 
p
;

247 
p
 +ğ
	`¡ºËn
 (p, 
’d
 -…) + 1;

249 
¬gv
[
¬gc
] = 
NULL
;

252 
	`´štf
 ("Kernel command†ine:");

253 
i
 = 0; i < 
¬gc
; i++)

254 ià(
	`¡rchr
 (
¬gv
[
i
], ' 'è=ğ
NULL
)

255 
	`´štf
 (" %s", 
¬gv
[
i
]);

257 
	`´štf
 (" '%s'", 
¬gv
[
i
]);

258 
	`´štf
 ("\n");

260  
¬gv
;

261 
	}
}

266 
	$·r£_İtiÚs
 (**
¬gv
)

268 ; *
¬gv
 !ğ
NULL
 && **argv == '-';‡rgv++)

270 *
§ve_±r
;

271 *
Çme
 = 
	`¡¹ok_r
 (*
¬gv
, "=", &
§ve_±r
);

272 *
v®ue
 = 
	`¡¹ok_r
 (
NULL
, "", &
§ve_±r
);

274 ià(!
	`¡rcmp
 (
Çme
, "-h"))

275 
	`u§ge
 ();

276 ià(!
	`¡rcmp
 (
Çme
, "-q"))

277 
pow”_off_wh’_dÚe
 = 
Œue
;

278 ià(!
	`¡rcmp
 (
Çme
, "-r"))

279 
»boÙ_wh’_dÚe
 = 
Œue
;

280 #ifdeà
FILESYS


281 ià(!
	`¡rcmp
 (
Çme
, "-f"))

282 
fÜm©_fesys
 = 
Œue
;

283 ià(!
	`¡rcmp
 (
Çme
, "-filesys"))

284 
fesys_bdev_Çme
 = 
v®ue
;

285 ià(!
	`¡rcmp
 (
Çme
, "-scratch"))

286 
sü©ch_bdev_Çme
 = 
v®ue
;

287 #ifdeà
VM


288 ià(!
	`¡rcmp
 (
Çme
, "-swap"))

289 
sw­_bdev_Çme
 = 
v®ue
;

292 ià(!
	`¡rcmp
 (
Çme
, "-rs"))

293 
	`¿ndom_š™
 (
	`©oi
 (
v®ue
));

294 ià(!
	`¡rcmp
 (
Çme
, "-mlfqs"))

295 
th»ad_mlfqs
 = 
Œue
;

296 #ifdeà
USERPROG


297 ià(!
	`¡rcmp
 (
Çme
, "-ul"))

298 
u£r_·ge_lim™
 = 
	`©oi
 (
v®ue
);

301 
	`PANIC
 ("unknowÀİtiÚ `%s' (u£ -h fÜ h–p)", 
Çme
);

312 
	`¿ndom_š™
 (
	`¹c_g‘_time
 ());

314  
¬gv
;

315 
	}
}

319 
	$run_sk
 (**
¬gv
)

321 cÚ¡ *
sk
 = 
¬gv
[1];

323 
	`´štf
 ("Executšg '%s':\n", 
sk
);

324 #ifdeà
USERPROG


325 
	`´oûss_wa™
 (
	`´oûss_execu‹
 (
sk
));

327 
	`´štf
("Boob: \n");

328 
	`run_‹¡
 (
sk
);

330 
	`´štf
 ("ExecutiÚ oà'%s' com¶‘e.\n", 
sk
);

331 
	}
}

336 
	$run_aùiÚs
 (**
¬gv
)

339 
	saùiÚ


341 *
Çme
;

342 
¬gc
;

343 (*
funùiÚ
è(**
¬gv
);

347 cÚ¡ 
aùiÚ
 
aùiÚs
[] =

349 {"run", 2, 
run_sk
},

350 #ifdeà
FILESYS


351 {"ls", 1, 
fsut_ls
},

352 {"ÿt", 2, 
fsut_ÿt
},

353 {"rm", 2, 
fsut_rm
},

354 {"exŒaù", 1, 
fsut_exŒaù
},

355 {"­³nd", 2, 
fsut_­³nd
},

357 {
NULL
, 0, NULL},

360 *
¬gv
 !ğ
NULL
)

362 cÚ¡ 
aùiÚ
 *
a
;

363 
i
;

366 
a
 = 
aùiÚs
; ;‡++)

367 ià(
a
->
Çme
 =ğ
NULL
)

368 
	`PANIC
 ("unknowÀaùiÚ `%s' (u£ -h fÜ h–p)", *
¬gv
);

369 ià(!
	`¡rcmp
 (*
¬gv
, 
a
->
Çme
))

373 
i
 = 1; i < 
a
->
¬gc
; i++)

374 ià(
¬gv
[
i
] =ğ
NULL
)

375 
	`PANIC
 ("aùiÚ `%s'„equœe %d‡rgum’t(s)", *
¬gv
, 
a
->
¬gc
 - 1);

378 
a
->
	`funùiÚ
 (
¬gv
);

379 
¬gv
 +ğ
a
->
¬gc
;

382 
	}
}

387 
	$u§ge
 ()

389 
	`´štf
 ("\nCommand†ine syntax: [OPTION...] [ACTION...]\n"

393 #ifdeà
USERPROG


398 #ifdeà
FILESYS


410 #ifdeà
FILESYS


414 #ifdeà
VM


420 #ifdeà
USERPROG


424 
	`pow”_off
 ();

425 
	}
}

427 #ifdeà
FILESYS


430 
	$loÿ‹_block_deviûs
 ()

432 
	`loÿ‹_block_deviû
 (
BLOCK_FILESYS
, 
fesys_bdev_Çme
);

433 
	`loÿ‹_block_deviû
 (
BLOCK_SCRATCH
, 
sü©ch_bdev_Çme
);

434 #ifdeà
VM


435 
	`loÿ‹_block_deviû
 (
BLOCK_SWAP
, 
sw­_bdev_Çme
);

437 
	}
}

444 
	$loÿ‹_block_deviû
 (
block_ty³
 
rŞe
, cÚ¡ *
Çme
)

446 
block
 *block = 
NULL
;

448 ià(
Çme
 !ğ
NULL
)

450 
block
 = 
	`block_g‘_by_Çme
 (
Çme
);

451 ià(
block
 =ğ
NULL
)

452 
	`PANIC
 ("NØsuch block deviû \"%s\"", 
Çme
);

456 
block
 = 
	`block_fœ¡
 (); block !ğ
NULL
; block = 
	`block_Ãxt
 (block))

457 ià(
	`block_ty³
 (
block
è=ğ
rŞe
)

461 ià(
block
 !ğ
NULL
)

463 
	`´štf
 ("%s: usšg %s\n", 
	`block_ty³_Çme
 (
rŞe
), 
	`block_Çme
 (
block
));

464 
	`block_£t_rŞe
 (
rŞe
, 
block
);

466 
	}
}

470 
	#CONTROL_REG
 0x64

	)

474 
	$»boÙ
 ()

476 
i
;

478 
	`´štf
 ("Rebooting...\n");

482 
i
 = 0; i < 100; i++)

484 
j
;

488 
j
 = 0; j < 0x10000; j++)

490 ià((
	`šb
 (
CONTROL_REG
) & 0x02) == 0)

492 
	`tim”_ud–ay
 (2);

495 
	`tim”_ud–ay
 (50);

499 
	`outb
 (
CONTROL_REG
, 0xfe);

500 
	`tim”_ud–ay
 (50);

502 
	}
}

507 
	$pow”_off
 ()

509 cÚ¡ 
s
[] = "Shutdown";

510 cÚ¡ *
p
;

512 #ifdeà
FILESYS


513 
	`fesys_dÚe
 ();

516 
	`´št_¡©s
 ();

518 
	`´štf
 ("Powering off...\n");

519 
	`£rŸl_æush
 ();

521 
p
 = 
s
; *p != '\0';…++)

522 
	`outb
 (0x8900, *
p
);

523 
asm
 volatile ("cli; hlt" : : : "memory");

524 
	`´štf
 ("still„unning...\n");

526 
	}
}

530 
	$´št_¡©s
 ()

532 
	`tim”_´št_¡©s
 ();

533 
	`th»ad_´št_¡©s
 ();

534 #ifdeà
FILESYS


535 
	`block_´št_¡©s
 ();

537 
	`cÚsŞe_´št_¡©s
 ();

538 
	`kbd_´št_¡©s
 ();

539 #ifdeà
USERPROG


540 
	`exû±iÚ_´št_¡©s
 ();

542 
	}
}

	@threads/init.h

1 #iâdeà
THREADS_INIT_H


3 
	#THREADS_INIT_H


	)

5 
	~<debug.h
>

6 
	~<¡dboŞ.h
>

7 
	~<¡ddef.h
>

8 
	~<¡dšt.h
>

11 
ušt32_t
 *
ba£_·ge_dœ
;

14 
boŞ
 
pow”_off_wh’_dÚe
;

16 
	$pow”_off
 (è
NO_RETURN
;

17 
	`»boÙ
 ();

	@threads/interrupt.c

1 
	~"th»ads/š‹¼u±.h
"

3 
	~<debug.h
>

4 
	~<š‰y³s.h
>

5 
	~<¡dšt.h
>

6 
	~<¡dio.h
>

7 
	~"th»ads/æags.h
"

8 
	~"th»ads/šŒ-¡ubs.h
"

9 
	~"th»ads/io.h
"

10 
	~"th»ads/th»ad.h
"

11 
	~"th»ads/vaddr.h
"

12 
	~"deviûs/tim”.h
"

17 
	#PIC0_CTRL
 0x20

	)

18 
	#PIC0_DATA
 0x21

	)

19 
	#PIC1_CTRL
 0xa0

	)

20 
	#PIC1_DATA
 0xa1

	)

21 
	#IRQ_CASCADE0
 2

	)

22 
	#IRQ_CASCADE1
 9

	)

27 
	#PIC0_CTRL
 0x20

	)

28 
	#PIC0_DATA
 0x21

	)

29 
	#PIC1_CTRL
 0xa0

	)

30 
	#PIC1_DATA
 0xa1

	)

33 
	#INTR_CNT
 256

	)

39 
ušt64_t
 
	gidt
[
INTR_CNT
];

42 
šŒ_hªdËr_func
 *
	gšŒ_hªdËrs
[
INTR_CNT
];

45 cÚ¡ *
	gšŒ_Çmes
[
INTR_CNT
];

48 
ušt8_t
 
	gpic_mask
[2];

57 
boŞ
 
	gš_ex‹º®_šŒ
;

58 
boŞ
 
	gy›ld_Ú_»tuº
;

61 
pic_š™
 ();

62 
pic_’d_of_š‹¼u±
 (
œq
);

65 
ušt64_t
 
make_šŒ_g©e
 ((*è(), 
d¶
);

66 
ušt64_t
 
	`make_Œ­_g©e
 ((*è(), 
d¶
);

67 
šlše
 
ušt64_t
 
	`make_idŒ_İ”ªd
 (
ušt16_t
 
lim™
, *
ba£
);

70 
	`šŒ_hªdËr
 (
šŒ_äame
 *
¬gs
);

73 
šŒ_Ëv–


74 
	$šŒ_g‘_Ëv–
 ()

76 
ušt32_t
 
æags
;

82 
asm
 vŞ©("pushæ;…İÈ%0" : "=g" (
æags
));

84  
æags
 & 
FLAG_IF
 ? 
INTR_ON
 : 
INTR_OFF
;

85 
	}
}

89 
šŒ_Ëv–


90 
	$šŒ_£t_Ëv–
 (
šŒ_Ëv–
 
Ëv–
)

92  
Ëv–
 =ğ
INTR_ON
 ? 
	`šŒ_’abË
 (è: 
	`šŒ_di§bË
 ();

93 
	}
}

96 
šŒ_Ëv–


97 
	$šŒ_’abË
 ()

99 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_g‘_Ëv–
 ();

100 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

106 
asm
 volatile ("sti");

108  
Şd_Ëv–
;

109 
	}
}

112 
šŒ_Ëv–


113 
	$šŒ_di§bË
 ()

115 
šŒ_Ëv–
 
Şd_Ëv–
 = 
	`šŒ_g‘_Ëv–
 ();

120 
asm
 volatile ("cli" : : : "memory");

122  
Şd_Ëv–
;

123 
	}
}

127 
	$šŒ_š™
 ()

129 
ušt64_t
 
idŒ_İ”ªd
;

130 
i
;

133 
	`pic_š™
 ();

136 
i
 = 0; i < 
INTR_CNT
; i++)

137 
idt
[
i
] = 
	`make_šŒ_g©e
 (
šŒ_¡ubs
[i], 0);

142 
idŒ_İ”ªd
 = 
	`make_idŒ_İ”ªd
 ( 
idt
 - 1, idt);

143 
asm
 vŞ©("lidˆ%0" : : "m" (
idŒ_İ”ªd
));

146 
i
 = 0; i < 
INTR_CNT
; i++)

147 
šŒ_Çmes
[
i
] = "unknown";

148 
šŒ_Çmes
[0] = "#DE Divide Error";

149 
šŒ_Çmes
[1] = "#DB Debug Exception";

150 
šŒ_Çmes
[2] = "NMI Interrupt";

151 
šŒ_Çmes
[3] = "#BP Breakpoint Exception";

152 
šŒ_Çmes
[4] = "#OF Overflow Exception";

153 
šŒ_Çmes
[5] = "#BR BOUND Range Exceeded Exception";

154 
šŒ_Çmes
[6] = "#UD Invalid Opcode Exception";

155 
šŒ_Çmes
[7] = "#NM Device Not Available Exception";

156 
šŒ_Çmes
[8] = "#DF Double Fault Exception";

157 
šŒ_Çmes
[9] = "Coprocessor Segment Overrun";

158 
šŒ_Çmes
[10] = "#TS Invalid TSS Exception";

159 
šŒ_Çmes
[11] = "#NP Segment Not Present";

160 
šŒ_Çmes
[12] = "#SS Stack Fault Exception";

161 
šŒ_Çmes
[13] = "#GP General Protection Exception";

162 
šŒ_Çmes
[14] = "#PF Page-Fault Exception";

163 
šŒ_Çmes
[16] = "#MF x87 FPU Floating-Point Error";

164 
šŒ_Çmes
[17] = "#AC Alignment Check Exception";

165 
šŒ_Çmes
[18] = "#MC Machine-Check Exception";

166 
šŒ_Çmes
[19] = "#XF SIMD Floating-Point Exception";

167 
	}
}

174 
	$»gi¡”_hªdËr
 (
ušt8_t
 
vec_no
, 
d¶
, 
šŒ_Ëv–
 
Ëv–
,

175 
šŒ_hªdËr_func
 *
hªdËr
, cÚ¡ *
Çme
)

177 
	`ASSERT
 (
šŒ_hªdËrs
[
vec_no
] =ğ
NULL
);

178 ià(
Ëv–
 =ğ
INTR_ON
)

179 
idt
[
vec_no
] = 
	`make_Œ­_g©e
 (
šŒ_¡ubs
[vec_no], 
d¶
);

181 
idt
[
vec_no
] = 
	`make_šŒ_g©e
 (
šŒ_¡ubs
[vec_no], 
d¶
);

182 
šŒ_hªdËrs
[
vec_no
] = 
hªdËr
;

183 
šŒ_Çmes
[
vec_no
] = 
Çme
;

184 
	}
}

190 
	$šŒ_»gi¡”_ext
 (
ušt8_t
 
vec_no
, 
šŒ_hªdËr_func
 *
hªdËr
,

191 cÚ¡ *
Çme
)

193 
	`ASSERT
 (
vec_no
 >= 0x20 && vec_no <= 0x2f);

194 
	`»gi¡”_hªdËr
 (
vec_no
, 0, 
INTR_OFF
, 
hªdËr
, 
Çme
);

195 
	}
}

211 
	$šŒ_»gi¡”_št
 (
ušt8_t
 
vec_no
, 
d¶
, 
šŒ_Ëv–
 
Ëv–
,

212 
šŒ_hªdËr_func
 *
hªdËr
, cÚ¡ *
Çme
)

214 
	`ASSERT
 (
vec_no
 < 0x20 || vec_no > 0x2f);

215 
	`»gi¡”_hªdËr
 (
vec_no
, 
d¶
, 
Ëv–
, 
hªdËr
, 
Çme
);

216 
	}
}

220 
boŞ


221 
	$šŒ_cÚ‹xt
 ()

223  
š_ex‹º®_šŒ
;

224 
	}
}

231 
	$šŒ_y›ld_Ú_»tuº
 ()

233 
	`ASSERT
 (
	`šŒ_cÚ‹xt
 ());

234 
y›ld_Ú_»tuº
 = 
Œue
;

235 
	}
}

247 
	$pic_š™
 ()

250 
	`outb
 (
PIC0_DATA
, 0xff);

251 
	`outb
 (
PIC1_DATA
, 0xff);

254 
	`outb
 (
PIC0_CTRL
, 0x11);

255 
	`outb
 (
PIC0_DATA
, 0x20);

256 
	`outb
 (
PIC0_DATA
, 0x04);

257 
	`outb
 (
PIC0_DATA
, 0x01);

260 
	`outb
 (
PIC1_CTRL
, 0x11);

261 
	`outb
 (
PIC1_DATA
, 0x28);

262 
	`outb
 (
PIC1_DATA
, 0x02);

263 
	`outb
 (
PIC1_DATA
, 0x01);

266 
	`outb
 (
PIC0_DATA
, 0x00);

267 
	`outb
 (
PIC1_DATA
, 0x00);

268 
pic_mask
[0] = 0;

269 
pic_mask
[1] = 0;

270 
	}
}

276 
	$pic_’d_of_š‹¼u±
 (
œq
)

278 
	`ASSERT
 (
œq
 >= 0x20 && irq < 0x30);

281 
	`outb
 (0x20, 0x20);

284 ià(
œq
 >= 0x28)

285 
	`outb
 (0xa0, 0x20);

286 
	}
}

304 
ušt64_t


305 
make_g©e
 ((*
funùiÚ
è(), 
d¶
, 
ty³
)

307 
ušt32_t
 
e0
, 
e1
;

309 
	`ASSERT
 (
funùiÚ
 !ğ
NULL
);

310 
	`ASSERT
 (
d¶
 >= 0 && dpl <= 3);

311 
	`ASSERT
 (
ty³
 >= 0 &&ype <= 15);

313 
e0
 = (((
ušt32_t
è
funùiÚ
 & 0xffff)

314 | (
SEL_KCSEG
 << 16));

316 
e1
 = (((
ušt32_t
è
funùiÚ
 & 0xffff0000)

318 | ((
ušt32_t
è
d¶
 << 13)

320 | ((
ušt32_t
è
ty³
 << 8));

322  
e0
 | ((
ušt64_t
è
e1
 << 32);

323 
	}
}

327 
ušt64_t


328 
make_šŒ_g©e
 ((*
funùiÚ
è(), 
d¶
)

330  
	`make_g©e
 (
funùiÚ
, 
d¶
, 14);

331 
	}
}

335 
ušt64_t


336 
make_Œ­_g©e
 ((*
funùiÚ
è(), 
d¶
)

338  
	`make_g©e
 (
funùiÚ
, 
d¶
, 15);

339 
	}
}

343 
šlše
 
ušt64_t


344 
	$make_idŒ_İ”ªd
 (
ušt16_t
 
lim™
, *
ba£
)

346  
lim™
 | ((
ušt64_t
è(
ušt32_t
è
ba£
 << 16);

347 
	}
}

356 
	$šŒ_hªdËr
 (
šŒ_äame
 *
äame
)

358 
boŞ
 
ex‹º®
;

359 
šŒ_hªdËr_func
 *
hªdËr
;

365 
ex‹º®
 = 
äame
->
vec_no
 >= 0x20 && frame->vec_no < 0x30;

366 ià(
ex‹º®
)

368 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

369 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

371 
š_ex‹º®_šŒ
 = 
Œue
;

372 
y›ld_Ú_»tuº
 = 
çl£
;

376 
hªdËr
 = 
šŒ_hªdËrs
[
äame
->
vec_no
];

377 ià(
hªdËr
 !ğ
NULL
)

378 
	`hªdËr
 (
äame
);

379 ià(
äame
->
vec_no
 == 0x27 || frame->vec_no == 0x2f)

389 
	`šŒ_dump_äame
 (
äame
);

390 
	`PANIC
 ("Unexpected interrupt");

394 ià(
ex‹º®
)

396 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

397 
	`ASSERT
 (
	`šŒ_cÚ‹xt
 ());

399 
š_ex‹º®_šŒ
 = 
çl£
;

400 
	`pic_’d_of_š‹¼u±
 (
äame
->
vec_no
);

402 ià(
y›ld_Ú_»tuº
)

403 
	`th»ad_y›ld
 ();

405 
	}
}

409 
	$šŒ_dump_äame
 (cÚ¡ 
šŒ_äame
 *
f
)

411 
ušt32_t
 
ü2
;

418 
	`asm
 ("movÈ%%ü2, %0" : "ô" (
ü2
));

420 
	`´štf
 ("Interrupt %#04x (%s)‡tƒip=%p\n",

421 
f
->
vec_no
, 
šŒ_Çmes
[f->vec_no], f->
e
);

422 
	`´štf
 (" cr2=%08"
PRIx32
"ƒ¼Ü=%08"PRIx32"\n", 
ü2
, 
f
->
”rÜ_code
);

423 
	`´štf
 ("ƒax=%08"
PRIx32
"ƒbx=%08"PRIx32"ƒcx=%08"PRIx32"ƒdx=%08"PRIx32"\n",

424 
f
->
—x
, f->
ebx
, f->
ecx
, f->
edx
);

425 
	`´štf
 ("ƒsi=%08"
PRIx32
"ƒdi=%08"PRIx32"ƒsp=%08"PRIx32"ƒbp=%08"PRIx32"\n",

426 
f
->
esi
, f->
edi
, (
ušt32_t
èf->
e¥
, f->
ebp
);

427 
	`´štf
 (" cs=%04"
PRIx16
" ds=%04"PRIx16"ƒs=%04"PRIx16" ss=%04"PRIx16"\n",

428 
f
->
cs
, f->
ds
, f->
es
, f->
ss
);

429 
	}
}

433 
	$šŒ_Çme
 (
ušt8_t
 
vec
)

435  
šŒ_Çmes
[
vec
];

436 
	}
}

439 
	$šŒ_œq_mask
(
œq
)

441 if(
œq
 < 8){

442 
pic_mask
[0] |ğ1 << 
œq
;

443 
	`outb
 (
PIC0_DATA
, 
pic_mask
[0]);

445 
pic_mask
[1] |ğ1 << (
œq
 - 8);

446 
	`outb
 (
PIC1_DATA
, 
pic_mask
[1]);

448 
	}
}

451 
	$šŒ_œq_unmask
(
œq
)

453 if(
œq
 >= 8){

455 if(
pic_mask
[1] & (1 << (
IRQ_CASCADE1
 - 8)))

456 
pic_mask
[1] &ğ~(1 << (
IRQ_CASCADE1
 - 8));

458 
pic_mask
[1] &ğ~(1 << (
œq
 - 8));

459 
	`outb
(
PIC1_DATA
, 
pic_mask
[1]);

462 if(
pic_mask
[0] & (1 << 
IRQ_CASCADE0
))

463 
œq
 = 
IRQ_CASCADE0
;

466 if(
œq
 < 8){

467 
pic_mask
[0] &ğ~(1 << 
œq
);

468 
	`outb
 (
PIC0_DATA
, 
pic_mask
[0]);

471 
	}
}

474 
boŞ
 
	$šŒ_is_»gi¡”ed
(
ušt8_t
 
vec_no
)

476  (
šŒ_hªdËrs
[
vec_no
] !ğ
NULL
);

477 
	}
}

	@threads/interrupt.h

1 #iâdeà
THREADS_INTERRUPT_H


3 
	#THREADS_INTERRUPT_H


	)

5 
	~<¡dboŞ.h
>

6 
	~<¡dšt.h
>

9 
	ešŒ_Ëv–


11 
	mINTR_OFF
,

12 
	mINTR_ON


15 
šŒ_Ëv–
 
šŒ_g‘_Ëv–
 ();

16 
šŒ_Ëv–
 
šŒ_£t_Ëv–
 (intr_level);

17 
šŒ_Ëv–
 
šŒ_’abË
 ();

18 
šŒ_Ëv–
 
šŒ_di§bË
 ();

21 
	sšŒ_äame


25 
ušt32_t
 
	medi
;

26 
ušt32_t
 
	mesi
;

27 
ušt32_t
 
	mebp
;

28 
ušt32_t
 
	me¥_dummy
;

29 
ušt32_t
 
	mebx
;

30 
ušt32_t
 
	medx
;

31 
ušt32_t
 
	mecx
;

32 
ušt32_t
 
	m—x
;

33 
ušt16_t
 
	mgs
, :16;

34 
ušt16_t
 
	mfs
, :16;

35 
ušt16_t
 
	mes
, :16;

36 
ušt16_t
 
	mds
, :16;

39 
ušt32_t
 
	mvec_no
;

44 
ušt32_t
 
	m”rÜ_code
;

48 *
	mäame_poš‹r
;

52 (*
	me
) ();

53 
ušt16_t
 
	mcs
, :16;

54 
ušt32_t
 
	meæags
;

55 *
	me¥
;

56 
ušt16_t
 
	mss
, :16;

59 
	tšŒ_hªdËr_func
 (
	tšŒ_äame
 *);

61 
šŒ_š™
 ();

62 
šŒ_»gi¡”_ext
 (
ušt8_t
 
vec
, 
šŒ_hªdËr_func
 *, cÚ¡ *
Çme
);

63 
šŒ_»gi¡”_št
 (
ušt8_t
 
vec
, 
d¶
, 
šŒ_Ëv–
,

64 
šŒ_hªdËr_func
 *, cÚ¡ *
Çme
);

65 
boŞ
 
šŒ_cÚ‹xt
 ();

66 
šŒ_y›ld_Ú_»tuº
 ();

68 
šŒ_dump_äame
 (cÚ¡ 
šŒ_äame
 *);

69 cÚ¡ *
šŒ_Çme
 (
ušt8_t
 
vec
);

71 
šŒ_œq_mask
(
œq
);

72 
šŒ_œq_unmask
(
œq
);

74 
boŞ
 
šŒ_is_»gi¡”ed
 ( 
ušt8_t
 
vec
 );

	@threads/intr-stubs.S

1 
	~"th»ads/lßd”.h
"

4 .
	g‹xt


19 .
func
 
šŒ_’Œy


20 
	gšŒ_’Œy
:

22 
pushl
 %
ds


23 
pushl
 %
es


24 
pushl
 %
fs


25 
pushl
 %
gs


26 
push®


29 
şd


30 
mov
 
$SEL_KDSEG
, %
—x


31 
	gmov
 %
	g—x
, %
ds


32 
	gmov
 %
	g—x
, %
es


33 
	gË®
 56(%
	ge¥
), %
ebp


36 
	gpushl
 %
	ge¥


37 .
globl
 
šŒ_hªdËr


38 
ÿÎ
 
šŒ_hªdËr


39 
addl
 
	g$4
, %
	ge¥


40 .
	g’dfunc


50 .
globl
 
	gšŒ_ex™


51 .
func
 
šŒ_ex™


52 
	gšŒ_ex™
:

54 
pİ®


55 
pİl
 %
gs


56 
pİl
 %
fs


57 
pİl
 %
es


58 
pİl
 %
ds


62 
addl
 
$12
, %
e¥


65 
	gœ‘


66 .
	g’dfunc


94 .
	gd©a


95 .
globl
 
šŒ_¡ubs


96 
	gšŒ_¡ubs
:

100 
	#z”o
 \

101 
pushl
 %
ebp
; \

102 
pushl
 
$0


	)

106 
	#REAL
 \

107 
	`pushl
 (%
e¥
); \

108 
movl
 %
ebp
, 4(%
e¥
)

	)

113 
	#STUB
(
NUMBER
, 
TYPE
) \

114 .
‹xt
; \

115 .
globl
 
šŒ
##
NUMBER
##
_¡ub
; \

116 .
func
 
šŒ
##
NUMBER
##
_¡ub
; \

117 
šŒ
##
NUMBER
##
_¡ub
: \

118 
TYPE
; \

119 
push
 
$0x
##
NUMBER
; \

120 
jmp
 
šŒ_’Œy
; \

121 .
’dfunc
; \

123 .
d©a
; \

124 .
šŒ
##
NUMBER
##
_¡ub
;

	)

127 
	$STUB
(00, 
z”o
è
	$STUB
(01, 
z”o
è
	$STUB
(02, 
z”o
è
	$STUB
(03, 
z”o
)

128 
	$STUB
(04, 
z”o
è
	$STUB
(05, 
z”o
è
	$STUB
(06, 
z”o
è
	$STUB
(07, 
z”o
)

129 
	$STUB
(08, 
REAL
è
	$STUB
(09, 
z”o
è
	$STUB
(0a, 
REAL
è
	$STUB
(0b, 
REAL
)

130 
	$STUB
(0c, 
z”o
è
	$STUB
(0d, 
REAL
è
	$STUB
(0e, 
REAL
è
	$STUB
(0f, 
z”o
)

132 
	$STUB
(10, 
z”o
è
	$STUB
(11, 
REAL
è
	$STUB
(12, 
z”o
è
	$STUB
(13, 
z”o
)

133 
	$STUB
(14, 
z”o
è
	$STUB
(15, 
z”o
è
	$STUB
(16, 
z”o
è
	$STUB
(17, 
z”o
)

134 
	$STUB
(18, 
REAL
è
	$STUB
(19, 
z”o
è
	$STUB
(1a, 
REAL
è
	$STUB
(1b, 
REAL
)

135 
	$STUB
(1c, 
z”o
è
	$STUB
(1d, 
REAL
è
	$STUB
(1e, 
REAL
è
	$STUB
(1f, 
z”o
)

137 
	$STUB
(20, 
z”o
è
	$STUB
(21, 
z”o
è
	$STUB
(22, 
z”o
è
	$STUB
(23, 
z”o
)

138 
	$STUB
(24, 
z”o
è
	$STUB
(25, 
z”o
è
	$STUB
(26, 
z”o
è
	$STUB
(27, 
z”o
)

139 
	$STUB
(28, 
z”o
è
	$STUB
(29, 
z”o
è
	$STUB
(2a, 
z”o
è
	$STUB
(2b, 
z”o
)

140 
	$STUB
(2c, 
z”o
è
	$STUB
(2d, 
z”o
è
	$STUB
(2e, 
z”o
è
	$STUB
(2f, 
z”o
)

142 
	$STUB
(30, 
z”o
è
	$STUB
(31, 
z”o
è
	$STUB
(32, 
z”o
è
	$STUB
(33, 
z”o
)

143 
	$STUB
(34, 
z”o
è
	$STUB
(35, 
z”o
è
	$STUB
(36, 
z”o
è
	$STUB
(37, 
z”o
)

144 
	$STUB
(38, 
z”o
è
	$STUB
(39, 
z”o
è
	$STUB
(3a, 
z”o
è
	$STUB
(3b, 
z”o
)

145 
	$STUB
(3c, 
z”o
è
	$STUB
(3d, 
z”o
è
	$STUB
(3e, 
z”o
è
	$STUB
(3f, 
z”o
)

147 
	$STUB
(40, 
z”o
è
	$STUB
(41, 
z”o
è
	$STUB
(42, 
z”o
è
	$STUB
(43, 
z”o
)

148 
	$STUB
(44, 
z”o
è
	$STUB
(45, 
z”o
è
	$STUB
(46, 
z”o
è
	$STUB
(47, 
z”o
)

149 
	$STUB
(48, 
z”o
è
	$STUB
(49, 
z”o
è
	$STUB
(4a, 
z”o
è
	$STUB
(4b, 
z”o
)

150 
	$STUB
(4c, 
z”o
è
	$STUB
(4d, 
z”o
è
	$STUB
(4e, 
z”o
è
	$STUB
(4f, 
z”o
)

152 
	$STUB
(50, 
z”o
è
	$STUB
(51, 
z”o
è
	$STUB
(52, 
z”o
è
	$STUB
(53, 
z”o
)

153 
	$STUB
(54, 
z”o
è
	$STUB
(55, 
z”o
è
	$STUB
(56, 
z”o
è
	$STUB
(57, 
z”o
)

154 
	$STUB
(58, 
z”o
è
	$STUB
(59, 
z”o
è
	$STUB
(5a, 
z”o
è
	$STUB
(5b, 
z”o
)

155 
	$STUB
(5c, 
z”o
è
	$STUB
(5d, 
z”o
è
	$STUB
(5e, 
z”o
è
	$STUB
(5f, 
z”o
)

157 
	$STUB
(60, 
z”o
è
	$STUB
(61, 
z”o
è
	$STUB
(62, 
z”o
è
	$STUB
(63, 
z”o
)

158 
	$STUB
(64, 
z”o
è
	$STUB
(65, 
z”o
è
	$STUB
(66, 
z”o
è
	$STUB
(67, 
z”o
)

159 
	$STUB
(68, 
z”o
è
	$STUB
(69, 
z”o
è
	$STUB
(6a, 
z”o
è
	$STUB
(6b, 
z”o
)

160 
	$STUB
(6c, 
z”o
è
	$STUB
(6d, 
z”o
è
	$STUB
(6e, 
z”o
è
	$STUB
(6f, 
z”o
)

162 
	$STUB
(70, 
z”o
è
	$STUB
(71, 
z”o
è
	$STUB
(72, 
z”o
è
	$STUB
(73, 
z”o
)

163 
	$STUB
(74, 
z”o
è
	$STUB
(75, 
z”o
è
	$STUB
(76, 
z”o
è
	$STUB
(77, 
z”o
)

164 
	$STUB
(78, 
z”o
è
	$STUB
(79, 
z”o
è
	$STUB
(7a, 
z”o
è
	$STUB
(7b, 
z”o
)

165 
	$STUB
(7c, 
z”o
è
	$STUB
(7d, 
z”o
è
	$STUB
(7e, 
z”o
è
	$STUB
(7f, 
z”o
)

167 
	$STUB
(80, 
z”o
è
	$STUB
(81, 
z”o
è
	$STUB
(82, 
z”o
è
	$STUB
(83, 
z”o
)

168 
	$STUB
(84, 
z”o
è
	$STUB
(85, 
z”o
è
	$STUB
(86, 
z”o
è
	$STUB
(87, 
z”o
)

169 
	$STUB
(88, 
z”o
è
	$STUB
(89, 
z”o
è
	$STUB
(8a, 
z”o
è
	$STUB
(8b, 
z”o
)

170 
	$STUB
(8c, 
z”o
è
	$STUB
(8d, 
z”o
è
	$STUB
(8e, 
z”o
è
	$STUB
(8f, 
z”o
)

172 
	$STUB
(90, 
z”o
è
	$STUB
(91, 
z”o
è
	$STUB
(92, 
z”o
è
	$STUB
(93, 
z”o
)

173 
	$STUB
(94, 
z”o
è
	$STUB
(95, 
z”o
è
	$STUB
(96, 
z”o
è
	$STUB
(97, 
z”o
)

174 
	$STUB
(98, 
z”o
è
	$STUB
(99, 
z”o
è
	$STUB
(9a, 
z”o
è
	$STUB
(9b, 
z”o
)

175 
	$STUB
(9c, 
z”o
è
	$STUB
(9d, 
z”o
è
	$STUB
(9e, 
z”o
è
	$STUB
(9f, 
z”o
)

177 
	$STUB
(
a0
, 
z”o
è
	$STUB
(
a1
, 
z”o
è
	$STUB
(
a2
, 
z”o
è
	$STUB
(
a3
, 
z”o
)

178 
	$STUB
(
a4
, 
z”o
è
	$STUB
(
a5
, 
z”o
è
	$STUB
(
a6
, 
z”o
è
	$STUB
(
a7
, 
z”o
)

179 
	$STUB
(
a8
, 
z”o
è
	$STUB
(
a9
, 
z”o
è
	$STUB
(
¯
, 
z”o
è
	$STUB
(
ab
, 
z”o
)

180 
	$STUB
(
ac
, 
z”o
è
	$STUB
(
ad
, 
z”o
è
	$STUB
(
«
, 
z”o
è
	$STUB
(
af
, 
z”o
)

182 
	$STUB
(
b0
, 
z”o
è
	$STUB
(
b1
, 
z”o
è
	$STUB
(
b2
, 
z”o
è
	$STUB
(
b3
, 
z”o
)

183 
	$STUB
(
b4
, 
z”o
è
	$STUB
(
b5
, 
z”o
è
	$STUB
(
b6
, 
z”o
è
	$STUB
(
b7
, 
z”o
)

184 
	$STUB
(
b8
, 
z”o
è
	$STUB
(
b9
, 
z”o
è
	$STUB
(
ba
, 
z”o
è
	$STUB
(
bb
, 
z”o
)

185 
	$STUB
(
bc
, 
z”o
è
	$STUB
(
bd
, 
z”o
è
	$STUB
(
be
, 
z”o
è
	$STUB
(
bf
, 
z”o
)

187 
	$STUB
(
c0
, 
z”o
è
	$STUB
(
c1
, 
z”o
è
	$STUB
(
c2
, 
z”o
è
	$STUB
(
c3
, 
z”o
)

188 
	$STUB
(
c4
, 
z”o
è
	$STUB
(
c5
, 
z”o
è
	$STUB
(
c6
, 
z”o
è
	$STUB
(
c7
, 
z”o
)

189 
	$STUB
(
c8
, 
z”o
è
	$STUB
(
c9
, 
z”o
è
	$STUB
(
ÿ
, 
z”o
è
	$STUB
(
cb
, 
z”o
)

190 
	$STUB
(
cc
, 
z”o
è
	$STUB
(
cd
, 
z”o
è
	$STUB
(
û
, 
z”o
è
	$STUB
(
cf
, 
z”o
)

192 
	$STUB
(
d0
, 
z”o
è
	$STUB
(
d1
, 
z”o
è
	$STUB
(
d2
, 
z”o
è
	$STUB
(
d3
, 
z”o
)

193 
	$STUB
(
d4
, 
z”o
è
	$STUB
(
d5
, 
z”o
è
	$STUB
(
d6
, 
z”o
è
	$STUB
(
d7
, 
z”o
)

194 
	$STUB
(
d8
, 
z”o
è
	$STUB
(
d9
, 
z”o
è
	$STUB
(
da
, 
z”o
è
	$STUB
(
db
, 
z”o
)

195 
	$STUB
(
dc
, 
z”o
è
	$STUB
(
dd
, 
z”o
è
	$STUB
(
de
, 
z”o
è
	$STUB
(
df
, 
z”o
)

197 
	$STUB
(
e0
, 
z”o
è
	$STUB
(
e1
, 
z”o
è
	$STUB
(
e2
, 
z”o
è
	$STUB
(
e3
, 
z”o
)

198 
	$STUB
(
e4
, 
z”o
è
	$STUB
(
e5
, 
z”o
è
	$STUB
(
e6
, 
z”o
è
	$STUB
(
e7
, 
z”o
)

199 
	$STUB
(
e8
, 
z”o
è
	$STUB
(
e9
, 
z”o
è
	$STUB
(
—
, 
z”o
è
	$STUB
(
eb
, 
z”o
)

200 
	$STUB
(
ec
, 
z”o
è
	$STUB
(
ed
, 
z”o
è
	$STUB
(
“
, 
z”o
è
	$STUB
(
ef
, 
z”o
)

202 
	$STUB
(
f0
, 
z”o
è
	$STUB
(
f1
, 
z”o
è
	$STUB
(
f2
, 
z”o
è
	$STUB
(
f3
, 
z”o
)

203 
	$STUB
(
f4
, 
z”o
è
	$STUB
(
f5
, 
z”o
è
	$STUB
(
f6
, 
z”o
è
	$STUB
(
f7
, 
z”o
)

204 
	$STUB
(
f8
, 
z”o
è
	$STUB
(
f9
, 
z”o
è
	$STUB
(
ç
, 
z”o
è
	$STUB
(
fb
, 
z”o
)

205 
	$STUB
(
fc
, 
z”o
è
	$STUB
(
fd
, 
z”o
è
	$STUB
(
ã
, 
z”o
è
	`STUB
(
ff
, zero)

	@threads/intr-stubs.h

1 #iâdeà
THREADS_INTR_STUBS_H


3 
	#THREADS_INTR_STUBS_H


	)

14 
	tšŒ_¡ub_func
 ();

15 
šŒ_¡ub_func
 *
šŒ_¡ubs
[256];

18 
šŒ_ex™
 ();

	@threads/io.h

1 #iâdeà
THREADS_IO_H


3 
	#THREADS_IO_H


	)

5 
	~<¡ddef.h
>

6 
	~<¡dšt.h
>

9 
šlše
 
ušt8_t


10 
	$šb
 (
ušt16_t
 
pÜt
)

13 
ušt8_t
 
d©a
;

14 
asm
 vŞ©("šb %w1, %b0" : "÷" (
d©a
è: "Nd" (
pÜt
));

15  
d©a
;

16 
	}
}

20 
šlše
 

21 
	$šsb
 (
ušt16_t
 
pÜt
, *
addr
, 
size_t
 
út
)

24 
asm
 vŞ©("»°šsb" : "+D" (
addr
), "+c" (
út
è: "d" (
pÜt
) : "memory");

25 
	}
}

28 
šlše
 
ušt16_t


29 
	$šw
 (
ušt16_t
 
pÜt
)

31 
ušt16_t
 
d©a
;

33 
asm
 vŞ©("šw %w1, %w0" : "÷" (
d©a
è: "Nd" (
pÜt
));

34  
d©a
;

35 
	}
}

39 
šlše
 

40 
	$šsw
 (
ušt16_t
 
pÜt
, *
addr
, 
size_t
 
út
)

43 
asm
 vŞ©("»°šsw" : "+D" (
addr
), "+c" (
út
è: "d" (
pÜt
) : "memory");

44 
	}
}

47 
šlše
 
ušt32_t


48 
	$šl
 (
ušt16_t
 
pÜt
)

51 
ušt32_t
 
d©a
;

52 
asm
 vŞ©("šÈ%w1, %0" : "÷" (
d©a
è: "Nd" (
pÜt
));

53  
d©a
;

54 
	}
}

58 
šlše
 

59 
	$š¦
 (
ušt16_t
 
pÜt
, *
addr
, 
size_t
 
út
)

62 
asm
 vŞ©("»°š¦" : "+D" (
addr
), "+c" (
út
è: "d" (
pÜt
) : "memory");

63 
	}
}

66 
šlše
 

67 
	$outb
 (
ušt16_t
 
pÜt
, 
ušt8_t
 
d©a
)

70 
asm
 vŞ©("outb %b0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

71 
	}
}

75 
šlše
 

76 
	$outsb
 (
ušt16_t
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
)

79 
asm
 vŞ©("»°outsb" : "+S" (
addr
), "+c" (
út
è: "d" (
pÜt
));

80 
	}
}

83 
šlše
 

84 
	$outw
 (
ušt16_t
 
pÜt
, ušt16_ˆ
d©a
)

87 
asm
 vŞ©("outw %w0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

88 
	}
}

92 
šlše
 

93 
	$outsw
 (
ušt16_t
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
)

96 
asm
 vŞ©("»°outsw" : "+S" (
addr
), "+c" (
út
è: "d" (
pÜt
));

97 
	}
}

100 
šlše
 

101 
	$ou
 (
ušt16_t
 
pÜt
, 
ušt32_t
 
d©a
)

104 
asm
 vŞ©("ou %0, %w1" : : "a" (
d©a
), "Nd" (
pÜt
));

105 
	}
}

109 
šlše
 

110 
	$out¦
 (
ušt16_t
 
pÜt
, cÚ¡ *
addr
, 
size_t
 
út
)

113 
asm
 vŞ©("»°out¦" : "+S" (
addr
), "+c" (
út
è: "d" (
pÜt
));

114 
	}
}

	@threads/kernel.lds.S

1 
	~"th»ads/lßd”.h
"

4 
OUTPUT_FORMAT
("elf32-i386")

5 
OUTPUT_ARCH
("i386")

6 
	$ENTRY
(
¡¬t
)

7 
SECTIONS


10 
_¡¬t
 = 
LOADER_PHYS_BASE
 + 
LOADER_KERN_BASE
;

13 . = 
_¡¬t
 + 
SIZEOF_HEADERS
;

16 .
‹xt
 : { *(.
¡¬t
) *(.text) } = 0x90

17 .
rod©a
 : { *(.rodata) *(.rodata.*)

18 . = 
	`ALIGN
(0x1000);

19 
_’d_k”Ãl_‹xt
 = .; }

20 .
d©a
 : { *(.data)

21 
_sigÇtu»
 = .; 
	`LONG
(0xaa55aa55) }

24 
_¡¬t_bss
 = .;

25 .
bss
 : { *(.bss) }

26 
_’d_bss
 = .;

28 
_’d
 = .;

30 
	`ASSERT
 (
_’d
 - 
_¡¬t
 <ğ512
K
, "Kernel image isoo big.")

31 
	}
}

	@threads/loader.S

1 
	~"th»ads/lßd”.h
"

4 #### 
K”Ãl
 
lßd”
.

6 #### 
This
 
code
 
should
 
be
 
¡Üed
 
š
 
the
 
fœ¡
 
£ùÜ
 
of
 
a
 
h¬d
 
disk
.

7 #### 
Wh’
 
the
 
BIOS
 
runs
, 
™
 
lßds
 
this
 
code
 
©
 
physiÿl
 
add»ss


8 #### 0x7c00-0x7e00 (512 
by‹s
è
ªd
 
jumps
 
to
 
the
 
begšnšg
 
of
 
™
,

9 #### 
š
 
»®
 
mode
. 
The
 
lßd”
 
lßds
 
the
 
k”Ãl
 
što
 
memÜy
 
ªd
 
jumps


10 #### 
to
 
™s
 
’Œy
 
pošt
, 
which
 
is
 
the
 
¡¬t
 
funùiÚ
 
š
 s¹.
S
.

12 #### 
The
 
BIOS
 
·s£s
 
š
 
the
 
drive
 
th©
h
lßd”
 
was
 
»ad
 
äom
 
as


13 #### 
DL
, 
w™h
 
æİpy
 
drives
 
numb”ed
 0x00, 0x01, ... 
ªd
 
h¬d
 drives

14 #### 
numb”ed
 0x80, 0x81, ... 
We
 
wªt
 
to
 
suµÜt
 
boÙšg
 
a
 
k”Ãl
 
Ú


15 #### 
a
 
difã»Á
 
drive
 
äom
 
the
 
lßd”
, 
so
 
we
 
dÚ
'take‡dvantage of

16 #### 
this
.

18 #Run 
š
 
»®
 
mode
, 
which
 
is
 
a
 16-
b™
 
£gm’t
.

19 .
	gcode16


21 #S‘ 
up
 
£gm’t
 
»gi¡”s
.

22 #S‘ 
¡ack
 
to
 
grow
 
downw¬d
 
äom
 60 
kB
 (
aá”
 
boÙ
, 
the
 
k”Ãl


23 #cÚtšue 
to
 
u£
 
this
 
¡ack
 
™s
 
š™Ÿl
 
th»ad
).

25 
	gsub
 %
	gax
, %
ax


26 
	gmov
 %
	gax
, %
ds


27 
	gmov
 %
	gax
, %
ss


28 
mov
 
	g$0xf000
, %
	ge¥


30 #CÚfigu» 
£rŸl
 
pÜt
 
so
 
we
 
ÿn
 
»pÜt
 
´og»ss
 
w™hout
 
cÚÃùed
 
VGA
.

31 #S“ [
IÁrLi¡
] 
d‘as
.

32 
	gsub
 %
	gdx
, %dx #S”ŸÈ
	gpÜt
 0.

33 
mov
 
	g$0xe3
, %
	g®
 #9600 
	gbps
, 
	gN
-8-1.

34 #AH 
is
 
®»ady
 0 (
In™Ÿlize
 
PÜt
).

35 
	g$0x14
 #De¡roy 
	gAX
.

37 
ÿÎ
 
	gputs


38 .
	g¡ršg
 "PiLo"

40 #### 
R—d
 
the
 
·¹™iÚ
 
bË
 
Ú
 
—ch
 
sy¡em
 
h¬d
 
disk
 
ªd
 
sÿn
 
a


41 #### 
·¹™iÚ
 
of
 
ty³
 0x20, 
which
 
is
 
the
y³ 
th©
 
we
 
u£
 
a


42 #### 
Pštos
 
k”Ãl
.

44 #### 
R—d
 [
P¬t™iÚs
] 
a
 
desütiÚ
 
of
 
the
 
·¹™iÚ
 
bË
 
fÜm©


45 #### 
th©
 
we
 
·r£
.

47 #### 
We
 
´št
 
out
 
¡©us
 
mes§ges
 
to
 
show
 
the
 
disk
 
ªd
 
·¹™iÚ
 
bešg


48 #### 
sÿÂed
, 
e
.
g
. 
hda1234
 
as
 
we
 
sÿn
 
four
 
·¹™iÚs
 
Ú
 
the
 
fœ¡


49 #### 
h¬d
 
disk
.

51 
mov
 
	g$0x80
, %
	gdl
 #H¬d 
	gdisk
 0.

52 
	g»ad_mbr
:

53 
sub
 %
ebx
, %
	gebx
 #Sector 0.

54 
mov
 
	g$0x2000
, %
	gax
 #U£ 0x20000 
	gbufãr
.

55 
	gmov
 %
	gax
, %
es


56 
ÿÎ
 
»ad_£ùÜ


57 
jc
 
	gno_such_drive


59 #Pršˆ
hd
[
a
-
z
].

60 
ÿÎ
 
	gputs


61 .
	g¡ršg
 " hd"

62 
	gmov
 %
	gdl
, %
®


63 
add
 
	g$
'a' - 0x80, %
®


64 
ÿÎ
 
	gputc


66 #Check 
MBR
 
sigÇtu»
--
nÙ
 
´e£Á
, 
™
's‚ot‡

67 #·¹™iÚed 
h¬d
 
disk
.

68 
cmpw
 
	g$0x¯55
, %
	ges
:510

69 
jÃ
 
Ãxt_drive


71 
mov
 
$446
, %
	gsi
 #Off£ˆ
of
 
·¹™iÚ
 
bË
 
	g’Œy
 1.

72 
mov
 
	g$
'1', %
®


73 
	gcheck_·¹™iÚ
:

74 #I 
™
 
ª
 
unu£d
 
·¹™iÚ
?

75 
cm¶
 
$0
, %
	ges
:(%
si
)

76 
je
 
Ãxt_·¹™iÚ


79 
ÿÎ
 
putc


81 #I 
™
 
a
 
Pštos
 
k”Ãl
 
·¹™iÚ
?

82 
cmpb
 
$0x20
, %
	ges
:4(%
si
)

83 
jÃ
 
Ãxt_·¹™iÚ


85 #I 
™
 
a
 
boÙabË
 
·¹™iÚ
?

86 
cmpb
 
$0x80
, %
	ges
:(%
si
)

87 
je
 
lßd_k”Ãl


89 
Ãxt_·¹™iÚ
:

90 #NØ
m©ch
 
this
 
·¹™iÚ
, 
go
 
Ú
 
to
 
the
 
Ãxt
 
Úe
.

91 
add
 
	g$16
, %
	gsi
 #Off£ˆ
to
 
Ãxt
 
·¹™iÚ
 
bË
 
	g’Œy
.

92 
	gšc
 %
®


93 
cmp
 
	g$510
, %
si


94 
jb
 
check_·¹™iÚ


96 
	gÃxt_drive
:

97 #NØ
m©ch
 
Ú
 
this
 
drive
, 
go
 oÀ
to
 
the
 
Ãxt
 
Úe
.

98 
	gšc
 %
dl


99 
jnc
 
»ad_mbr


101 
	gno_such_drive
:

102 
no_boÙ_·¹™iÚ
:

104 
ÿÎ
 
puts


105 .
¡ršg
 "\rNot found\r"

107 #NÙify 
BIOS
 
th©
 
boÙ
 
çed
. 
S“
 [
IÁrLi¡
].

108 
$0x18


110 #### 
We
 
found
 
a
 
k”Ãl
. 
The
 kernel's drive is in DL. The…artition

111 #### 
bË
 
’Œy
 
the
 
k”Ãl
's…artition is‡t ES:SI. Our job‚ow

112 #### 
is
 
to
 
»ad
 
the
 
k”Ãl
 
äom
 
disk
 
ªd
 
jump
Ø
™s
 
¡¬t
 
add»ss
.

114 
lßd_k”Ãl
:

115 
ÿÎ
 
puts


116 .
¡ršg
 "\rLoading"

118 #Figu» 
out
 
numb”
 
of
 
£ùÜs
 
to
 
»ad
. 
A
 
Pštos
 
k”Ãl
 
is


119 #ju¡ 
ª
 
ELF
 
fÜm©
 
objeù
, 
which
 
dÛ¢
't have‡n

120 #—sy-
to
-
»ad
 
f›ld
Ø
id’tify
 
™s
 
own
 
size
 (
£e
 [
ELF1
]).

121 #Buˆ
we
 
lim™
 
Pštos
 
k”Ãls
 
to
 512 
kB
 
Ùh”
 
»asÚs
, 
so


123 #·¹™iÚ 
Ü
 512 
kB
 
äom
 
disk
, 
whichev”
 
is
 
sm®Ër
.

124 
	gmov
 %
	ges
:12(%
si
), %
	gecx
 #EBP = 
numb”
 
of
 
£ùÜs


125 
cmp
 
$1024
, %
	gecx
 #C­ 
size
 
	g©
 512 
kB


126 
	gjbe
 1f

127 
mov
 
	g$1024
, %
	gcx


130 
mov
 %
es
:8(%
si
), %
	gebx
 #EBX = 
fœ¡
 
£ùÜ


131 
mov
 
$0x2000
, %
	gax
 #S¹ 
lßd
 
	gadd»ss
: 0x20000

133 
Ãxt_£ùÜ
:

134 #R—d 
Úe
 
£ùÜ
 
što
 
memÜy
.

135 
mov
 %
ax
, %
	ges
 #ES:0000 -> 
lßd
 
add»ss


136 
ÿÎ
 
»ad_£ùÜ


137 
jc
 
»ad_çed


139 #Pršˆ'.' 
as
 
´og»ss
 
šdiÿtÜ
 
Úû
 
ev”y
 16 
£ùÜs
 =ğ8 
kB
.

140 
‹¡
 
$15
, %
bl


141 
	gjnz
 1f

142 
ÿÎ
 
	gputs


143 .
	g¡ršg
 "."

146 #Advªû 
memÜy
 
poš‹r
 
ªd
 
disk
 
£ùÜ
.

147 
add
 
$0x20
, %
ax


148 
	gšc
 %
bx


149 
loİ
 
Ãxt_£ùÜ


151 
ÿÎ
 
	gputs


152 .
	g¡ršg
 "\r"

154 #### 
T¿nsãr
 
cÚŒŞ
 
to
 
the
 
k”Ãl
 
th©
 
we
 
lßded
. 
We
 
»ad
h
¡¬t


155 #### 
add»ss
 
out
 
of
 
the
 
ELF
 
h—d”
 (
£e
 [
ELF1
]è
ªd
 
cÚv”t
 
™
 
äom
 
a


156 #### 32-
b™
 
lš—r
 
add»ss
 
što
 
a
 16:16 
£gm’t
:
off£t
‡ddress 

157 #### 
»®
 
mode
, 
th’
 
jump
 
to
 
the
 
cÚv”‹d
 
add»ss
. 
The
 80x86 
dÛ¢
't

158 #### 
have
 
ª
 
š¡ruùiÚ
 
to
 
jump
Øª 
absŞu‹
 
£gm’t
:
off£t
 
k•t
 
š


159 #### 
»gi¡”s
, 
so
 
š
 
çù
 
we
 
¡Üe
 
the
 
add»ss
 iÀ
a
 
‹mpÜ¬y
 
memÜy


160 #### 
loÿtiÚ
, 
th’
 
jump
 
šdœeùly
 
through
 
th©
†oÿtiÚ. 
To
 
§ve
 4

161 #### 
by‹s
 
š
 
the
 
lßd”
, 
we
 
»u£
 4 by‹ 
of
he†oader's code for

162 #### 
this
 
‹mpÜ¬y
 
poš‹r
.

164 
mov
 
	g$0x2000
, %
ax


165 
	gmov
 %
	gax
, %
es


166 
	gmov
 %
	ges
:0x18, %
dx


167 
	gmov
 %
	gdx
, 
¡¬t


168 
movw
 
	g$0x2000
, 
	g¡¬t
 + 2

169 
ljmp
 *
¡¬t


171 
	g»ad_çed
:

172 
¡¬t
:

173 #Disk 
£ùÜ
 
»ad
 
çed
.

174 
ÿÎ
 
puts


175 1: .
¡ršg
 "\rBad„ead\r"

177 #NÙify 
BIOS
 
th©
 
boÙ
 
çed
. 
S“
 [
IÁrLi¡
].

178 
$0x18


180 #### 
Pršt
 
¡ršg
 
subroutše
. 
To
 
§ve
 
¥aû
 
š
 
the
 
lßd”
, 
this


181 #### 
subroutše
 
kes
 
™s
 
nuÎ
-
‹rmš©ed
 
¡ršg
 
¬gum’t
 
äom
 
the


182 #### 
code
 
¡»am
 
ju¡
 
aá”
 
the
 
ÿÎ
, 
ªd
 
th’
 
»tuºs
 
to
h
by‹


183 #### 
ju¡
 
aá”
 
the
 
‹rmš©šg
 
nuÎ
. 
This
 
subroutše
 
´e£rves
 
®l


184 #### 
g’”®
-
pu½o£
 
»gi¡”s
.

186 
	gputs
: 
xchg
 %
si
, %
	gss
:(%
e¥
)

187 
push
 %
ax


188 
Ãxt_ch¬
:

189 
mov
 %
cs
:(%
si
), %
®


190 
	gšc
 %
si


191 
	g‹¡
 %
	g®
, %
®


192 
	gjz
 1f

193 
ÿÎ
 
putc


194 
jmp
 
	gÃxt_ch¬


195 1: 
pİ
 %
ax


196 
xchg
 %
si
, %
	gss
:(%
e¥
)

197 
»t


199 #### 
Ch¬aù”
 
ouut
 
subroutše
. 
Pršts
 
the
 
ch¬aù”
 
š
 
AL
 
to
he

200 #### 
VGA
 
di¥Ïy
 
ªd
 
£rŸl
 
pÜt
 0, 
usšg
 
BIOS
 
£rviûs
 (
£e


201 #### [
IÁrLi¡
]). 
P»£rves
 
®l
 
g’”®
-
pu½o£
 
»gi¡”s
.

203 #### 
If
 
ÿÎed
 
upÚ
 
to
 
ouut
 
a
 
ÿ¼Ÿge
 , 
this
 
subroutše


204 #### 
autom©iÿÎy
 
suµl›s
 
the
 
fŞlowšg
 
lše
 
ãed
.

206 
	gputc
: 
pusha


208 1: 
sub
 %
bh
, %
	gbh
 #Page 0.

209 
mov
 
	g$0x0e
, %
	gah
 #T–‘y³ 
ouut
 
	g£rviû
.

210 
$0x10


212 
mov
 
	g$0x01
, %
	gah
 #S”ŸÈ
pÜt
 
ouut
 
	g£rviû
.

213 
	gsub
 %
	gdx
, %dx #S”ŸÈ
	gpÜt
 0.

214 2: 
$0x14
 #De¡roy 
AH
.

215 
‹¡
 
$0x80
, %
	gah
 #Ouuˆ
timed
 
	gout
?

216 
	gjz
 3f

217 
movw
 
	g$0x9090
, 2b

220 
cmp
 
$
'\r', %
®


221 
jÃ
 
pİa_»t


222 
mov
 
	g$
'\n', %
®


223 
	gjmp
 1b

225 #### 
SeùÜ
 
»ad
 
subroutše
. 
Takes
 
a
 
drive
 
numb”
 
š
 
DL
 (0x80 = 
h¬d


226 #### 
disk
 0, 0x81 = 
h¬d
 disk 1, ...è
ªd
 
a
 
£ùÜ
 
numb”
 
š
 
EBX
,‡nd

227 #### 
»ads
 
the
 
¥ecif›d
 
£ùÜ
 
što
 
memÜy
 
©
 
ES
:0000. 
R‘uºs
 
w™h


228 #### 
ÿ¼y
 
£t
 
Ú
 
”rÜ
, 
ş—r
 
Ùh”wi£
. 
P»£rves
 
®l


229 #### 
g’”®
-
pu½o£
 
»gi¡”s
.

231 
	g»ad_£ùÜ
:

232 
pusha


233 
sub
 %
ax
, %ax

234 
	gpush
 %
	gax
 #LBA 
£ùÜ
 
	gnumb”
 [48:63]

235 
push
 %
ax
 #LBA 
£ùÜ
 
numb”
 [32:47]

236 
push
 %
ebx
 #LBA 
£ùÜ
 
numb”
 [0:31]

237 
push
 %
es
 #Bufã¸
£gm’t


238 
push
 %
ax
 #Bufã¸
	$off£t
 (
®ways
 0)

239 
push
 
$1
 #Numb” 
of
 
£ùÜs
 
to
 
»ad


240 
push
 
$16
 #Pack‘ 
size


241 
mov
 
$0x42
, %
ah
 #Ex‹nded 
»ad


242 
mov
 %
¥
, %
si
 #DS:
SI
 -> 
·ck‘


243 
$0x13
 #E¼Ü 
code
 
š
 
CF


244 
pİa
 #Pİ 16 
by‹s
, 
´e£rve
 
æags


245 
pİa_»t
:

246 
pİa


247 
»t
 #E¼Ü 
code
 
¡l
 
š
 
CF


249 #### 
Commªd
-
lše
 
¬gum’ts
 
ªd
 
theœ
 
couÁ
.

250 #### 
This
 
is
 
wr™‹n
 
by
 
the
 `
pštos
' utility‡nd„ead byhe kernel.

251 #### 
The
 
lßd”
 
™£lf
 
dÛs
 
nÙ
 dØ
ªythšg
 
w™h
 
the
 
commªd
 
lše
.

252 .
Üg
 
LOADER_ARG_CNT
 - 
LOADER_BASE


253 .
fl
 
LOADER_ARG_CNT_LEN
, 1, 0

255 .
Üg
 
LOADER_ARGS
 - 
LOADER_BASE


256 .
fl
 
LOADER_ARGS_LEN
, 1, 0

258 #### 
P¬t™iÚ
 
bË
.

259 .
Üg
 
LOADER_PARTS
 - 
LOADER_BASE


260 .
fl
 
LOADER_PARTS_LEN
, 1, 0

262 #### 
BoÙ
-
£ùÜ
 
sigÇtu»
 
BIOS
 
š¥eùiÚ
.

263 .
Üg
 
LOADER_SIG
 - 
LOADER_BASE


264 .
wÜd
 0xaa55

	@threads/loader.h

1 #iâdeà
THREADS_LOADER_H


3 
	#THREADS_LOADER_H


	)

6 
	#LOADER_BASE
 0x7c00

	)

7 
	#LOADER_END
 0x7e00

	)

10 
	#LOADER_KERN_BASE
 0x20000

	)

14 
	#LOADER_PHYS_BASE
 0xc0000000

	)

17 
	#LOADER_SIG
 (
LOADER_END
 - 
LOADER_SIG_LEN
è

	)

18 
	#LOADER_PARTS
 (
LOADER_SIG
 - 
LOADER_PARTS_LEN
è

	)

19 
	#LOADER_ARGS
 (
LOADER_PARTS
 - 
LOADER_ARGS_LEN
è

	)

20 
	#LOADER_ARG_CNT
 (
LOADER_ARGS
 - 
LOADER_ARG_CNT_LEN
è

	)

23 
	#LOADER_SIG_LEN
 2

	)

24 
	#LOADER_PARTS_LEN
 64

	)

25 
	#LOADER_ARGS_LEN
 128

	)

26 
	#LOADER_ARG_CNT_LEN
 4

	)

30 
	#SEL_NULL
 0x00

	)

31 
	#SEL_KCSEG
 0x08

	)

32 
	#SEL_KDSEG
 0x10

	)

34 #iâdeà
__ASSEMBLER__


35 
	~<¡dšt.h
>

38 
ušt32_t
 
¿m_·ges
;

	@threads/malloc.c

1 
	~"th»ads/m®loc.h
"

3 
	~<debug.h
>

4 
	~<li¡.h
>

5 
	~<round.h
>

6 
	~<¡dšt.h
>

7 
	~<¡dio.h
>

8 
	~<¡ršg.h
>

9 
	~"th»ads/·Îoc.h
"

10 
	~"th»ads/synch.h
"

11 
	~"th»ads/vaddr.h
"

39 
	sdesc


41 
size_t
 
	mblock_size
;

42 
size_t
 
	mblocks_³r_¬’a
;

43 
li¡
 
	mä“_li¡
;

44 
lock
 
	mlock
;

48 
	#ARENA_MAGIC
 0x9a548“d

	)

51 
	s¬’a


53 
	mmagic
;

54 
desc
 *
	mdesc
;

55 
size_t
 
	mä“_út
;

59 
	sblock


61 
li¡_–em
 
	mä“_–em
;

65 
desc
 
	gdescs
[10];

66 
size_t
 
	gdesc_út
;

68 
¬’a
 *
block_to_¬’a
 (
block
 *);

69 
block
 *
¬’a_to_block
 (
¬’a
 *, 
size_t
 
idx
);

73 
	$m®loc_š™
 ()

75 
size_t
 
block_size
;

77 
block_size
 = 16; block_siz< 
PGSIZE
 / 2; block_size *= 2)

79 
desc
 *
d
 = &
descs
[
desc_út
++];

80 
	`ASSERT
 (
desc_út
 <ğ 
descs
 /  *descs);

81 
d
->
block_size
 = block_size;

82 
d
->
blocks_³r_¬’a
 = (
PGSIZE
 -  (
¬’a
)è/ 
block_size
;

83 
	`li¡_š™
 (&
d
->
ä“_li¡
);

84 
	`lock_š™
 (&
d
->
lock
);

86 
	}
}

91 
	$m®loc
 (
size_t
 
size
)

93 
desc
 *
d
;

94 
block
 *
b
;

95 
¬’a
 *
a
;

98 ià(
size
 == 0)

99  
NULL
;

103 
d
 = 
descs
; d < desc + 
desc_út
; d++)

104 ià(
d
->
block_size
 >ğ
size
)

106 ià(
d
 =ğ
descs
 + 
desc_út
)

110 
size_t
 
·ge_út
 = 
	`DIV_ROUND_UP
 (
size
 +  *
a
, 
PGSIZE
);

111 
a
 = 
	`·Îoc_g‘_muÉË
 (0, 
·ge_út
);

112 ià(
a
 =ğ
NULL
)

113  
NULL
;

117 
a
->
magic
 = 
ARENA_MAGIC
;

118 
a
->
desc
 = 
NULL
;

119 
a
->
ä“_út
 = 
·ge_út
;

120  
a
 + 1;

123 
	`lock_acquœe
 (&
d
->
lock
);

126 ià(
	`li¡_em±y
 (&
d
->
ä“_li¡
))

128 
size_t
 
i
;

131 
a
 = 
	`·Îoc_g‘_·ge
 (0);

132 ià(
a
 =ğ
NULL
)

134 
	`lock_»Ëa£
 (&
d
->
lock
);

135  
NULL
;

139 
a
->
magic
 = 
ARENA_MAGIC
;

140 
a
->
desc
 = 
d
;

141 
a
->
ä“_út
 = 
d
->
blocks_³r_¬’a
;

142 
i
 = 0; i < 
d
->
blocks_³r_¬’a
; i++)

144 
block
 *
b
 = 
	`¬’a_to_block
 (
a
, 
i
);

145 
	`li¡_push_back
 (&
d
->
ä“_li¡
, &
b
->
ä“_–em
);

150 
b
 = 
	`li¡_’Œy
 (
	`li¡_pİ_äÚt
 (&
d
->
ä“_li¡
), 
block
, 
ä“_–em
);

151 
a
 = 
	`block_to_¬’a
 (
b
);

152 
a
->
ä“_út
--;

153 
	`lock_»Ëa£
 (&
d
->
lock
);

154  
b
;

155 
	}
}

160 
	$ÿÎoc
 (
size_t
 
a
, size_ˆ
b
)

162 *
p
;

163 
size_t
 
size
;

166 
size
 = 
a
 * 
b
;

167 ià(
size
 < 
a
 || siz< 
b
)

168  
NULL
;

171 
p
 = 
	`m®loc
 (
size
);

172 ià(
p
 !ğ
NULL
)

173 
	`mem£t
 (
p
, 0, 
size
);

175  
p
;

176 
	}
}

179 
size_t


180 
	$block_size
 (*
block
)

182 
block
 *
b
 = block;

183 
¬’a
 *
a
 = 
	`block_to_¬’a
 (
b
);

184 
desc
 *
d
 = 
a
->desc;

186  
d
 !ğ
NULL
 ? d->
block_size
 : 
PGSIZE
 * 
a
->
ä“_út
 - 
	`pg_ofs
 (
block
);

187 
	}
}

196 
	$»®loc
 (*
Şd_block
, 
size_t
 
Ãw_size
)

198 ià(
Ãw_size
 == 0)

200 
	`ä“
 (
Şd_block
);

201  
NULL
;

205 *
Ãw_block
 = 
	`m®loc
 (
Ãw_size
);

206 ià(
Şd_block
 !ğ
NULL
 && 
Ãw_block
 != NULL)

208 
size_t
 
Şd_size
 = 
	`block_size
 (
Şd_block
);

209 
size_t
 
mš_size
 = 
Ãw_size
 < 
Şd_size
 ?‚ew_size : old_size;

210 
	`memıy
 (
Ãw_block
, 
Şd_block
, 
mš_size
);

211 
	`ä“
 (
Şd_block
);

213  
Ãw_block
;

215 
	}
}

220 
	$ä“
 (*
p
)

222 ià(
p
 !ğ
NULL
)

224 
block
 *
b
 = 
p
;

225 
¬’a
 *
a
 = 
	`block_to_¬’a
 (
b
);

226 
desc
 *
d
 = 
a
->desc;

228 ià(
d
 !ğ
NULL
)

232 #iâdeà
NDEBUG


234 
	`mem£t
 (
b
, 0xcc, 
d
->
block_size
);

237 
	`lock_acquœe
 (&
d
->
lock
);

240 
	`li¡_push_äÚt
 (&
d
->
ä“_li¡
, &
b
->
ä“_–em
);

243 ià(++
a
->
ä“_út
 >ğ
d
->
blocks_³r_¬’a
)

245 
size_t
 
i
;

247 
	`ASSERT
 (
a
->
ä“_út
 =ğ
d
->
blocks_³r_¬’a
);

248 
i
 = 0; i < 
d
->
blocks_³r_¬’a
; i++)

250 
block
 *
b
 = 
	`¬’a_to_block
 (
a
, 
i
);

251 
	`li¡_»move
 (&
b
->
ä“_–em
);

253 
	`·Îoc_ä“_·ge
 (
a
);

256 
	`lock_»Ëa£
 (&
d
->
lock
);

261 
	`·Îoc_ä“_muÉË
 (
a
,‡->
ä“_út
);

265 
	}
}

268 
¬’a
 *

269 
	$block_to_¬’a
 (
block
 *
b
)

271 
¬’a
 *
a
 = 
	`pg_round_down
 (
b
);

274 
	`ASSERT
 (
a
 !ğ
NULL
);

275 
	`ASSERT
 (
a
->
magic
 =ğ
ARENA_MAGIC
);

278 
	`ASSERT
 (
a
->
desc
 =ğ
NULL


279 || (
	`pg_ofs
 (
b
è-  *
a
è%‡->
desc
->
block_size
 == 0);

280 
	`ASSERT
 (
a
->
desc
 !ğ
NULL
 || 
	`pg_ofs
 (
b
) ==  *a);

282  
a
;

283 
	}
}

286 
block
 *

287 
	$¬’a_to_block
 (
¬’a
 *
a
, 
size_t
 
idx
)

289 
	`ASSERT
 (
a
 !ğ
NULL
);

290 
	`ASSERT
 (
a
->
magic
 =ğ
ARENA_MAGIC
);

291 
	`ASSERT
 (
idx
 < 
a
->
desc
->
blocks_³r_¬’a
);

292  (
block
 *è((
ušt8_t
 *è
a


293 +  *
a


294 + 
idx
 * 
a
->
desc
->
block_size
);

295 
	}
}

	@threads/malloc.h

1 #iâdeà
THREADS_MALLOC_H


3 
	#THREADS_MALLOC_H


	)

5 
	~<debug.h
>

6 
	~<¡ddef.h
>

8 
m®loc_š™
 ();

9 *
	$m®loc
 (
size_t
è
	`__©Œibu‹__
 ((
m®loc
));

10 *
	$ÿÎoc
 (
size_t
, size_tè
	`__©Œibu‹__
 ((
m®loc
));

11 *
	`»®loc
 (*, 
size_t
);

12 
	`ä“
 (*);

	@threads/palloc.c

1 
	~"th»ads/·Îoc.h
"

3 
	~<b™m­.h
>

4 
	~<debug.h
>

5 
	~<š‰y³s.h
>

6 
	~<round.h
>

7 
	~<¡ddef.h
>

8 
	~<¡dšt.h
>

9 
	~<¡dio.h
>

10 
	~<¡ršg.h
>

11 
	~"th»ads/lßd”.h
"

12 
	~"th»ads/synch.h
"

13 
	~"th»ads/vaddr.h
"

30 
	spoŞ


32 
lock
 
	mlock
;

33 
b™m­
 *
	mu£d_m­
;

34 
ušt8_t
 *
	mba£
;

38 
poŞ
 
	gk”Ãl_poŞ
, 
	gu£r_poŞ
;

41 
size_t
 
	gu£r_·ge_lim™
 = 
SIZE_MAX
;

43 
š™_poŞ
 (
poŞ
 *, *
ba£
, 
size_t
 
·ge_út
,

44 cÚ¡ *
Çme
);

45 
boŞ
 
·ge_äom_poŞ
 (cÚ¡ 
poŞ
 *, *
·ge
);

49 
	$·Îoc_š™
 ()

52 
ušt8_t
 *
ä“_¡¬t
 = 
	`±ov
 (1024 * 1024);

53 
ušt8_t
 *
ä“_’d
 = 
	`±ov
 (
¿m_·ges
 * 
PGSIZE
);

54 
size_t
 
ä“_·ges
 = (
ä“_’d
 - 
ä“_¡¬t
è/ 
PGSIZE
;

55 
size_t
 
u£r_·ges
 = 
ä“_·ges
 / 2;

56 
size_t
 
k”Ãl_·ges
;

57 ià(
u£r_·ges
 > 
u£r_·ge_lim™
)

58 
u£r_·ges
 = 
u£r_·ge_lim™
;

59 
k”Ãl_·ges
 = 
ä“_·ges
 - 
u£r_·ges
;

62 
	`š™_poŞ
 (&
k”Ãl_poŞ
, 
ä“_¡¬t
, 
k”Ãl_·ges
, "kernel…ool");

63 
	`š™_poŞ
 (&
u£r_poŞ
, 
ä“_¡¬t
 + 
k”Ãl_·ges
 * 
PGSIZE
,

64 
u£r_·ges
, "user…ool");

65 
	}
}

74 
	$·Îoc_g‘_muÉË
 (
·Îoc_æags
 
æags
, 
size_t
 
·ge_út
)

76 
poŞ
 *poŞ = 
æags
 & 
PAL_USER
 ? &
u£r_poŞ
 : &
k”Ãl_poŞ
;

77 *
·ges
;

78 
size_t
 
·ge_idx
;

80 ià(
·ge_út
 == 0)

81  
NULL
;

83 
	`lock_acquœe
 (&
poŞ
->
lock
);

84 
·ge_idx
 = 
	`b™m­_sÿn_ªd_æ
 (
poŞ
->
u£d_m­
, 0, 
·ge_út
, 
çl£
);

85 
	`lock_»Ëa£
 (&
poŞ
->
lock
);

87 ià(
·ge_idx
 !ğ
BITMAP_ERROR
)

88 
·ges
 = 
poŞ
->
ba£
 + 
PGSIZE
 * 
·ge_idx
;

90 
·ges
 = 
NULL
;

92 ià(
·ges
 !ğ
NULL
)

94 ià(
æags
 & 
PAL_ZERO
)

95 
	`mem£t
 (
·ges
, 0, 
PGSIZE
 * 
·ge_út
);

99 ià(
æags
 & 
PAL_ASSERT
)

100 
	`PANIC
 ("palloc_get: out of…ages");

103  
·ges
;

104 
	}
}

114 
	$·Îoc_g‘_·ge
 (
·Îoc_æags
 
æags
)

116  
	`·Îoc_g‘_muÉË
 (
æags
, 1);

117 
	}
}

121 
	$·Îoc_ä“_muÉË
 (*
·ges
, 
size_t
 
·ge_út
)

123 
poŞ
 *pool;

124 
size_t
 
·ge_idx
;

126 
	`ASSERT
 (
	`pg_ofs
 (
·ges
) == 0);

127 ià(
·ges
 =ğ
NULL
 || 
·ge_út
 == 0)

130 ià(
	`·ge_äom_poŞ
 (&
k”Ãl_poŞ
, 
·ges
))

131 
poŞ
 = &
k”Ãl_poŞ
;

132 ià(
	`·ge_äom_poŞ
 (&
u£r_poŞ
, 
·ges
))

133 
poŞ
 = &
u£r_poŞ
;

135 
	`NOT_REACHED
 ();

137 
·ge_idx
 = 
	`pg_no
 (
·ges
è-…g_nØ(
poŞ
->
ba£
);

139 #iâdeà
NDEBUG


140 
	`mem£t
 (
·ges
, 0xcc, 
PGSIZE
 * 
·ge_út
);

143 
	`ASSERT
 (
	`b™m­_®l
 (
poŞ
->
u£d_m­
, 
·ge_idx
, 
·ge_út
));

144 
	`b™m­_£t_muÉË
 (
poŞ
->
u£d_m­
, 
·ge_idx
, 
·ge_út
, 
çl£
);

145 
	}
}

149 
	$·Îoc_ä“_·ge
 (*
·ge
)

151 
	`·Îoc_ä“_muÉË
 (
·ge
, 1);

152 
	}
}

157 
	$š™_poŞ
 (
poŞ
 *
p
, *
ba£
, 
size_t
 
·ge_út
, cÚ¡ *
Çme
)

162 
size_t
 
bm_·ges
 = 
	`DIV_ROUND_UP
 (
	`b™m­_buf_size
 (
·ge_út
), 
PGSIZE
);

163 ià(
bm_·ges
 > 
·ge_út
)

164 
	`PANIC
 ("NÙƒnough memÜy iÀ% fÜ b™m­.", 
Çme
);

165 
·ge_út
 -ğ
bm_·ges
;

167 
	`´štf
 ("%zu…age avaabË iÀ%s.\n", 
·ge_út
, 
Çme
);

170 
	`lock_š™
 (&
p
->
lock
);

171 
p
->
u£d_m­
 = 
	`b™m­_ü—‹_š_buf
 (
·ge_út
, 
ba£
, 
bm_·ges
 * 
PGSIZE
);

172 
p
->
ba£
 = ba£ + 
bm_·ges
 * 
PGSIZE
;

173 
	}
}

177 
boŞ


178 
	$·ge_äom_poŞ
 (cÚ¡ 
poŞ
 *poŞ, *
·ge
)

180 
size_t
 
·ge_no
 = 
	`pg_no
 (
·ge
);

181 
size_t
 
¡¬t_·ge
 = 
	`pg_no
 (
poŞ
->
ba£
);

182 
size_t
 
’d_·ge
 = 
¡¬t_·ge
 + 
	`b™m­_size
 (
poŞ
->
u£d_m­
);

184  
·ge_no
 >ğ
¡¬t_·ge
 &&…age_nØ< 
’d_·ge
;

185 
	}
}

	@threads/palloc.h

1 #iâdeà
THREADS_PALLOC_H


3 
	#THREADS_PALLOC_H


	)

5 
	~<¡ddef.h
>

8 
	e·Îoc_æags


10 
	mPAL_ASSERT
 = 0x1,

11 
	mPAL_ZERO
 = 0x2,

12 
	mPAL_USER
 = 0x4,

13 
	mPAL_NOCACHE
 = 0x8

17 
size_t
 
u£r_·ge_lim™
;

19 * 
z”o_·ge
;

21 
·Îoc_š™
 ();

22 *
·Îoc_g‘_·ge
 (
·Îoc_æags
);

23 *
·Îoc_g‘_muÉË
 (
·Îoc_æags
, 
size_t
 
·ge_út
);

24 
·Îoc_ä“_·ge
 (*);

25 
·Îoc_ä“_muÉË
 (*, 
size_t
 
·ge_út
);

	@threads/pte.h

1 #iâdeà
THREADS_PTE_H


3 
	#THREADS_PTE_H


	)

5 
	~"th»ads/vaddr.h
"

22 
	#PTSHIFT
 
PGBITS


	)

23 
	#PTBITS
 10

	)

24 
	#PTSPAN
 (1 << 
PTBITS
 << 
PGBITS
è

	)

25 
	#PTMASK
 
	`BITMASK
(
PTSHIFT
, 
PTBITS
è

	)

28 
	#PDSHIFT
 (
PTSHIFT
 + 
PTBITS
è

	)

29 
	#PDBITS
 10

	)

30 
	#PDMASK
 
	`BITMASK
(
PDSHIFT
, 
PDBITS
è

	)

33 
	#PCI_ADDR_ZONE_BEGIN
 0xe0000000

	)

34 
	#PCI_ADDR_ZONE_END
 0xe0800000

	)

35 
	#PCI_ADDR_ZONE_PDES
 2

	)

36 
	#PCI_ADDR_ZONE_PAGES
 (
PCI_ADDR_ZONE_END
-
PCI_ADDR_ZONE_BEGIN
)/
PGSIZE


	)

41 
šlše
 
	$±_no
 (cÚ¡ *
va
) {

42  ((
ušŒ_t
è
va
 & 
PTMASK
è>> 
PTSHIFT
;

43 
	}
}

46 
šlše
 
ušŒ_t
 
	$pd_no
 (cÚ¡ *
va
) {

47  (
ušŒ_t
è
va
 >> 
PDSHIFT
;

48 
	}
}

70 
	#PTE_FLAGS
 0x00000ffà

	)

71 
	#PTE_ADDR
 0xfffff000

	)

72 
	#PTE_AVL
 0x00000e00

	)

73 
	#PTE_P
 0x1

	)

74 
	#PTE_W
 0x2

	)

75 
	#PTE_U
 0x4

	)

76 
	#PTE_WT
 (1 << 3è

	)

77 
	#PTE_CD
 (1 << 4è

	)

78 
	#PTE_A
 0x20

	)

79 
	#PTE_D
 0x40

	)

80 
	#PTE_G
 (1 << 8è

	)

83 
šlše
 
ušt32_t
 
	$pde_ü—‹_u£r
 (
ušt32_t
 *
±
) {

84 
	`ASSERT
 (
	`pg_ofs
 (
±
) == 0);

85  
	`vtİ
 (
±
è| 
PTE_U
 | 
PTE_P
 | 
PTE_W
;

86 
	}
}

89 
šlše
 
ušt32_t
 
	$pde_ü—‹_k”Ãl
 (
ušt32_t
 *
±
) {

90 
	`ASSERT
 (
	`pg_ofs
 (
±
) == 0);

91  
	`vtİ
 (
±
è| 
PTE_P
 | 
PTE_W
 | 
PTE_G
;

92 
	}
}

96 
šlše
 
ušt32_t
 *
	$pde_g‘_±
 (
ušt32_t
 
pde
) {

97 
	`ASSERT
 (
pde
 & 
PTE_P
);

98  
	`±ov
 (
pde
 & 
PTE_ADDR
);

99 
	}
}

105 
šlše
 
ušt32_t
 
	$±e_ü—‹_k”Ãl
 (*
·ge
, 
boŞ
 
wr™abË
) {

106 
	`ASSERT
 (
	`pg_ofs
 (
·ge
) == 0);

107  
	`vtİ
 (
·ge
è| 
PTE_P
 | (
wr™abË
 ? 
PTE_W
 : 0è| 
PTE_G
;

108 
	}
}

114 
šlše
 
ušt32_t
 
	$±e_ü—‹_u£r
 (*
·ge
, 
boŞ
 
wr™abË
) {

115 
	`ASSERT
 (
	`pg_ofs
 (
·ge
) == 0);

116  
	`vtİ
 (
·ge
è| 
PTE_P
 | (
wr™abË
 ? 
PTE_W
 : 0è| 
PTE_U
;

117 
	}
}

121 
šlše
 *
	$±e_g‘_·ge
 (
ušt32_t
 
±e
) {

122  
	`±ov
 (
±e
 & 
PTE_ADDR
);

123 
	}
}

	@threads/start.S

1 
	~"th»ads/lßd”.h
"

4 #### 
K”Ãl
 
¡¬tup
 
code
.

6 #### 
The
 
lßd”
 (
š
†ßd”.
S
è
lßds
 
the
 
k”Ãl
 
©
 
physiÿl
 
add»ss


7 #### 0x20000 (128 
kB
è
ªd
 
jumps
 
to
 "¡¬t", 
defšed
 
h”e
. 
This
 
code


8 #### 
sw™ches
 
äom
 
»®
 
mode
 
to
 32-
b™
 
´Ùeùed
 mod
ªd
 
ÿÎs


9 #### 
maš
().

12 
	#CR0_PE
 0x00000001

	)

13 
	#CR0_EM
 0x00000004

	)

14 
	#CR0_PG
 0x80000000

	)

15 
	#CR0_WP
 0x00010000

	)

17 .
	g£ùiÚ
 .
	g¡¬t


19 #Th
fŞlowšg
 
code
 
runs
 
š
 
»®
 
mode
, 
which
 
is
 
a
 16-
b™
 cod
£gm’t
.

20 .
	gcode16


22 .
func
 
	g¡¬t


23 .
globl
 
¡¬t


24 
	g¡¬t
:

26 #Th
lßd”
 
ÿÎed
 
što
 
us
 
w™h
 
CS
 = 0x2000, 
SS
 = 0x0000, 
ESP
 = 0xf000,

27 #buˆ
we
 
should
 
š™Ÿlize
 
the
 
Ùh”
 
£gm’t
 
»gi¡”s
.

29 
mov
 
	g$0x2000
, %
ax


30 
	gmov
 %
	gax
, %
ds


31 
	gmov
 %
	gax
, %
	ges


33 #S‘ 
¡ršg
 
š¡ruùiÚs
 
to
 
go
 
upw¬d
.

34 
	gşd


36 #### 
G‘
 
memÜy
 
size
, 
vŸ
 
š‹¼u±
 15
h
 
funùiÚ
 88h (
£e
 [
IÁrLi¡
]),

37 #### 
which
 
»tuºs
 
AX
 = (
kB
 
of
 
physiÿl
 
memÜy
è- 1024. 
This
 
Úly


38 #### 
wÜks
 
memÜy
 
sizes
 <ğ65 
MB
, 
which
 
should
 
be
 
fše
 
our


39 #### 
pu½o£s
. 
We
 
ÿp
 
memÜy
 
©
 64 
MB
 
beÿu£
 
th©
's‡ll we…repare

40 #### 
·ge
 
bËs
 , 
b–ow
.

42 
movb
 
	g$0x88
, %
ah


43 
$0x15


44 
addl
 
	g$1024
, %
	g—x
 #TÙ® 
kB
 
memÜy


45 
cmp
 
	g$0x10000
, %
	g—x
 #C­ 
	g©
 64 
MB


46 
	gjbe
 1f

47 
mov
 
	g$0x10000
, %
	g—x


48 1: 
sh¾
 
$2
, %
	g—x
 #TÙ® 4 
kB
 
·ges


49 
addr32
 
	gmovl
 %
	g—x
, 
	g¿m_·ges
 - 
	gLOADER_PHYS_BASE
 - 0x20000

51 #### 
EÇbË
 
A20
. 
Add»ss
 
lše
 20 
is
 
t›d
 
low
 
wh’
 
the
 
machše
 
boÙs
,

52 #### 
which
 
´ev’ts
 
add»ssšg
 
memÜy
 
about
 1 
MB
. 
This
 
code
 
fixes
 
™
.

54 #PŞÈ
¡©us
 
busy
.

56 1: 
šb
 
$0x64
, %
®


57 
‹¡b
 
	g$0x2
, %
®


58 
	gjnz
 1b

60 #S’d 
commªd
 
wr™šg
 
ouut
 
pÜt
.

62 
movb
 
	g$0xd1
, %
®


63 
	goutb
 %
	g®
, 
	g$0x64


65 #PŞÈ
¡©us
 
busy
.

67 1: 
šb
 
$0x64
, %
®


68 
‹¡b
 
	g$0x2
, %
®


69 
	gjnz
 1b

71 #EÇbË 
A20
 
lše
.

73 
movb
 
	g$0xdf
, %
®


74 
	goutb
 %
	g®
, 
	g$0x60


76 #PŞÈ
¡©us
 
busy
.

78 1: 
šb
 
$0x64
, %
®


79 
‹¡b
 
	g$0x2
, %
®


80 
	gjnz
 1b

82 #### 
C»©e
 
‹mpÜ¬y
 
·ge
 
dœeùÜy
 
ªd
…ag
bË
‡nd 
£t
…age

83 #### 
dœeùÜy
 
ba£
 .

85 #C»©
·ge
 
dœeùÜy
 
©
 0xf000 (60 
kB
è
ªd
 
fl
 
w™h
 
z”Ûs
.

86 
mov
 
	g$0xf00
, %
ax


87 
	gmov
 %
	gax
, %
es


88 
	gsubl
 %
	g—x
, %
—x


89 
	gsubl
 %
	gedi
, %
edi


90 
movl
 
	g$0x400
, %
ecx


91 
»p
 
	g¡o¦


93 #Add 
PDEs
 
to
 
pošt
Ø
·ge
 
bËs
 
the
 
fœ¡
 64 
MB
 
of
 
RAM
.

94 #AlsØ
add
 
id’tiÿl
 
PDEs
 
¡¬tšg
 
©
 
LOADER_PHYS_BASE
.

95 #S“ [
IA32
-
v3a
] 
£ùiÚ
 3.7.6 "Page-Directory‡nd Page-Table Entries"

96 #fÜ 
a
 
desütiÚ
 
of
 
the
 
b™s
 
š
 %
—x
.

98 
movl
 
	g$0x10007
, %
—x


99 
movl
 
	g$0x11
, %
ecx


100 
	gsubl
 %
	gedi
, %edi

101 1: 
movl
 %
—x
, %
	ges
:(%
di
)

102 
movl
 %
—x
, %
	ges
:
LOADER_PHYS_BASE
 >> 20(%
di
)

103 
addw
 
$4
, %
di


104 
addl
 
	g$0x1000
, %
—x


105 
	gloİ
 1b

107 #S‘ 
up
 
·ge
 
bËs
 
Úe
-
to
-
m­
 
lš—r
Ø
physiÿl
 m­ 
the


108 #fœ¡ 64 
MB
 
of
 
RAM
.

109 #S“ [
IA32
-
v3a
] 
£ùiÚ
 3.7.6 "Page-Directory‡nd Page-Table Entries"

110 #fÜ 
a
 
desütiÚ
 
of
 
the
 
b™s
 
š
 %
—x
.

112 
movw
 
	g$0x1000
, %
ax


113 
	gmovw
 %
	gax
, %
es


114 
movl
 
	g$0x7
, %
—x


115 
movl
 
	g$0x4000
, %
ecx


116 
	gsubl
 %
	gedi
, %edi

117 1: 
movl
 %
—x
, %
	ges
:(%
di
)

118 
addw
 
$4
, %
di


119 
addl
 
	g$0x1000
, %
—x


120 
	gloİ
 1b

122 #S‘ 
·ge
 
dœeùÜy
 
ba£
 .

124 
movl
 
	g$0xf000
, %
—x


125 
	gmovl
 %
	g—x
, %
	gü3


127 #### 
Sw™ch
 
to
 
´Ùeùed
 
mode
.

129 #Fœ¡, 
di§bË
 
š‹¼u±s
. 
We
 
wÚ
't set uphe IDT until we get

130 #štØ
C
 
code
, 
so
 
ªy
 
š‹¼u±
 
would
 
blow
 
us
 
away
.

132 
	gşi


134 #PrÙeùed 
mode
 
»quœes
 
a
 
GDT
, 
so
 
pošt
 
the
 
GDTR
 
to
 
our
 GDT.

135 #W
Ãed
 
a
 
d©a32
 
´efix
 
to
 
’su»
 
th©
 
®l
 32 
b™s
 
of
 
the
 
GDT


136 #desütÜ 
¬e
 
lßded
 ( 
is
 
to
 
lßd
 
Úly
 24 
b™s
).

137 #Th
CPU
 
dÛ¢
'ˆÃed‡Àaddr32…»fix buˆELF dÛ¢'
t
 dØ16-
b™


140 
d©a32
 
addr32
 
lgdt
 
	ggdtdesc
 - 
	gLOADER_PHYS_BASE
 - 0x20000

142 #Th’ 
we
 
tuº
 
Ú
 
the
 
fŞlowšg
 
b™s
 
š
 
CR0
:

143 #PE (
PrÙeù
 
EÇbË
): 
this
 
tuºs
 
Ú
 
´Ùeùed
 
mode
.

144 #PG (
Pagšg
): 
tuºs
 
Ú
 
·gšg
.

145 #WP (
Wr™e
 
PrÙeù
): 
un£t
, 
ršg
 0 
code
 
ignÜes


146 #wr™e-
´Ùeù
 
b™s
 
š
 
·ge
 
bËs
 (!).

147 #EM (
EmuÏtiÚ
): 
fÜûs
 
æßtšg
-
pošt
 
š¡ruùiÚs
 
to
 
Œ­
.

148 #W
dÚ
't support floating…oint.

150 
	gmovl
 %
	gü0
, %
—x


151 
Ül
 
	g$CR0_PE
 | 
	gCR0_PG
 | 
	gCR0_WP
 | 
	gCR0_EM
, %
—x


152 
	gmovl
 %
	g—x
, %
	gü0


155 #th
»®
-
mode
 
code
 
£gm’t
 
ÿched
 
š
 %
cs
's segment descriptor. We

156 #Ãed 
to
 
»lßd
 %
cs
, 
ªd
 
the
 
—s›¡
 
way
 
is
Ø
u£
 
a
 
çr
 
jump
.

157 #Beÿu£ 
we
're‚ot„unning in‡ 32-bit segmenthe data32…refix is

158 #Ãeded 
to
 
jump
Ø
a
 32-
b™
 
off£t
 
š
 
the
 
rg‘
 
£gm’t
.

160 
d©a32
 
ljmp
 
	g$SEL_KCSEG
, 
	g$1f


163 #L‘ 
the
 
as£mbËr
 
know
.

165 .
	gcode32


167 #R–ßd 
®l
 
the
 
Ùh”
 
£gm’t
 
»gi¡”s
 
ªd
h
¡ack
 
poš‹r
 
to


168 #pošˆ
što
 
our
 
Ãw
 
GDT
.

170 1: 
mov
 
$SEL_KDSEG
, %
ax


171 
	gmov
 %
	gax
, %
ds


172 
	gmov
 %
	gax
, %
es


173 
	gmov
 %
	gax
, %
fs


174 
	gmov
 %
	gax
, %
gs


175 
	gmov
 %
	gax
, %
ss


176 
addl
 
	g$LOADER_PHYS_BASE
, %
e¥


177 
movl
 
	g$0
, %
	gebp


179 #### 
C®l
 
maš
().

181 
ÿÎ
 
	gmaš


183 #maš(è
shouldn
'tƒver„eturn. If it does, spin.

185 1: 
jmp
 1b

186 .
’dfunc


188 #### 
GDT


190 .
®ign
 8

191 
gdt
:

192 .
quad
 0x0000000000000000 #NuÎ 
£gm’t
. 
NÙ
 
u£d
 
by
 
CPU
.

193 .
quad
 0x00cf9a000000fffà#Sy¡em 
code
, 
	gba£
 0, 
	glim™
 4 
	gGB
.

194 .
	gquad
 0x00cf92000000fffà#Sy¡em 
	gd©a
, 
	gba£
 0, 
	glim™
 4 
	gGB
.

196 
	ggdtdesc
:

197 .
wÜd
 
gdtdesc
 - 
gdt
 - 1 #Siz
of
 
the
 
GDT
, 
	gmšus
 1 
	gby‹
.

198 .
	ggdt
 #Add»s 
of
 
the
 
	gGDT
.

200 #### 
Physiÿl
 
memÜy
 
size
 
š
 4 
kB
 
·ges
. 
This
 
is
 
expÜ‹d
 
to
 
the
 
»¡


201 #### 
of
 
the
 
k”Ãl
.

202 .
globl
 
¿m_·ges


203 
	g¿m_·ges
:

	@threads/switch.S

1 
	~"th»ads/sw™ch.h
"

4 #### 
th»ad
 *
sw™ch_th»ads
 (th»ad *
cur
, th»ad *
Ãxt
);

6 #### 
Sw™ches
 
äom
 
CUR
, 
which
 
mu¡
 
be
 
the
 
ruÂšg
 
th»ad
, 
to
 
NEXT
,

7 #### 
which
 
mu¡
 
®so
 
be
 
ruÂšg
 
sw™ch_th»ads
(), 
»tuºšg
 
CUR
 
š


8 #### 
NEXT
's context.

10 #### 
This
 
funùiÚ
 
wÜks
 
by
 
assumšg
 
th©
 
the
 
th»ad
 
we
're switching

11 #### 
što
 
is
 
®so
 
ruÂšg
 
sw™ch_th»ads
(). 
Thus
, 
®l
 
™
 
has
 
to
 do is

12 #### 
´e£rve
 
a
 
ãw
 
»gi¡”s
 
Ú
 
the
 
¡ack
, 
th’
 
¡acks
 
ªd


13 #### 
»¡Üe
 
the
 
»gi¡”s
. 
As
 
·¹
 
of
 
sw™chšg
 
¡acks
 
we
 
»cÜd
he

14 #### 
cu¼’t
 
¡ack
 
poš‹r
 
š
 
CUR
'shread structure.

16 .
globl
 
	gsw™ch_th»ads


17 .
func
 
sw™ch_th»ads


18 
	gsw™ch_th»ads
:

19 #Sav
ÿÎ”
's„egister state.

20 #
#NÙ
th©
 
the
 
SVR4
 
ABI
 
®lows
 
us
 
to
 
de¡roy
 %
—x
, %
ecx
, %
edx
,

21 #buˆ
»quœes
 
us
 
to
 
´e£rve
 %
ebx
, %
ebp
, %
esi
, %
edi
. 
S“


22 #[
SysV
-
ABI
-386] 
·ges
 3-11 
ªd
 3-12 
d‘as
.

23 #
#Thi 
¡ack
 
äame
 
mu¡
 
m©ch
 
the
 
Úe
 
£t
 
up
 
by
 
th»ad_ü—‹
()

24 #š 
size
.

25 
	gpushl
 %
ebx


26 
	gpushl
 %
ebp


27 
	gpushl
 %
esi


28 
	gpushl
 %
	gedi


30 #G‘ 
off£tof
 (
th»ad
, 
¡ack
).

31 .
globl
 
th»ad_¡ack_ofs


32 
mov
 
	gth»ad_¡ack_ofs
, %
	gedx


34 #Sav
cu¼’t
 
¡ack
 
poš‹r
 
to
 
Şd
 
th»ad
's stack, if‡ny.

35 
movl
 
SWITCH_CUR
(%
e¥
), %
—x


36 
	gmovl
 %
	ge¥
, (%
	g—x
,%
	gedx
,1)

38 #Re¡Ü
¡ack
 
poš‹r
 
äom
 
Ãw
 
th»ad
's stack.

39 
movl
 
SWITCH_NEXT
(%
e¥
), %
ecx


40 
movl
 (%
ecx
,%
edx
,1), %
	ge¥


42 #Re¡Ü
ÿÎ”
's„egister state.

43 
	gpİl
 %
edi


44 
	gpİl
 %
esi


45 
	gpİl
 %
ebp


46 
	gpİl
 %
ebx


47 
	g»t


48 .
	g’dfunc


50 .
globl
 
	gsw™ch_’Œy


51 .
func
 
sw™ch_’Œy


52 
	gsw™ch_’Œy
:

53 #Disÿrd 
sw™ch_th»ads
(è
¬gum’ts
.

54 
addl
 
$8
, %
	ge¥


56 #C®È
scheduË_
(
´ev
).

57 
	gpushl
 %
	g—x


58 .
globl
 
scheduË_


59 
ÿÎ
 
scheduË_


60 
addl
 
	g$4
, %
	ge¥


62 #S¹ 
th»ad
 
´İ”
.

63 
	g»t


64 .
	g’dfunc


	@threads/switch.h

1 #iâdeà
THREADS_SWITCH_H


3 
	#THREADS_SWITCH_H


	)

5 #iâdeà
__ASSEMBLER__


7 
	ssw™ch_th»ads_äame


9 
ušt32_t
 
	medi
;

10 
ušt32_t
 
	mesi
;

11 
ušt32_t
 
	mebp
;

12 
ušt32_t
 
	mebx
;

13 (*
	me
) ();

14 
th»ad
 *
	mcur
;

15 
th»ad
 *
	mÃxt
;

21 
th»ad
 *
sw™ch_th»ads
 (th»ad *
cur
, th»ad *
Ãxt
);

24 
	ssw™ch_’Œy_äame


26 (*
	me
) ();

29 
sw™ch_’Œy
 ();

33 
sw™ch_thunk
 ();

37 
	#SWITCH_CUR
 20

	)

38 
	#SWITCH_NEXT
 24

	)

	@threads/synch.c

30 
	~"th»ads/synch.h
"

31 
	~<¡dio.h
>

32 
	~<¡ršg.h
>

33 
	~"th»ads/š‹¼u±.h
"

34 
	~"th»ads/th»ad.h
"

46 
	$£ma_š™
 (
£m­hÜe
 *
£ma
, 
v®ue
)

48 
	`ASSERT
 (
£ma
 !ğ
NULL
);

50 
£ma
->
v®ue
 = value;

51 
	`li¡_š™
 (&
£ma
->
wa™”s
);

52 
	}
}

62 
	$£ma_down
 (
£m­hÜe
 *
£ma
)

64 
šŒ_Ëv–
 
Şd_Ëv–
;

66 
	`ASSERT
 (
£ma
 !ğ
NULL
);

67 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

69 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

70 
£ma
->
v®ue
 == 0)

72 
	`li¡_push_back
 (&
£ma
->
wa™”s
, &
	`th»ad_cu¼’t
 ()->
–em
);

73 
	`th»ad_block
 ();

75 
£ma
->
v®ue
--;

76 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

77 
	}
}

84 
boŞ


85 
	$£ma_Œy_down
 (
£m­hÜe
 *
£ma
)

87 
šŒ_Ëv–
 
Şd_Ëv–
;

88 
boŞ
 
sucûss
;

90 
	`ASSERT
 (
£ma
 !ğ
NULL
);

92 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

93 ià(
£ma
->
v®ue
 > 0)

95 
£ma
->
v®ue
--;

96 
sucûss
 = 
Œue
;

99 
sucûss
 = 
çl£
;

100 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

102  
sucûss
;

103 
	}
}

110 
	$£ma_up
 (
£m­hÜe
 *
£ma
)

112 
šŒ_Ëv–
 
Şd_Ëv–
;

114 
	`ASSERT
 (
£ma
 !ğ
NULL
);

116 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

117 ià(!
	`li¡_em±y
 (&
£ma
->
wa™”s
))

118 
	`th»ad_unblock
 (
	`li¡_’Œy
 (
	`li¡_pİ_äÚt
 (&
£ma
->
wa™”s
),

119 
th»ad
, 
–em
));

120 
£ma
->
v®ue
++;

121 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

122 
	}
}

124 
£ma_‹¡_h–³r
 (*
£ma_
);

130 
	$£ma_£lf_‹¡
 ()

132 
£m­hÜe
 
£ma
[2];

133 
i
;

135 
	`´štf
 ("Testing semaphores...");

136 
	`£ma_š™
 (&
£ma
[0], 0);

137 
	`£ma_š™
 (&
£ma
[1], 0);

138 
	`th»ad_ü—‹
 ("£ma-‹¡", 
PRI_DEFAULT
, 
£ma_‹¡_h–³r
, &
£ma
);

139 
i
 = 0; i < 10; i++)

141 
	`£ma_up
 (&
£ma
[0]);

142 
	`£ma_down
 (&
£ma
[1]);

144 
	`´štf
 ("done.\n");

145 
	}
}

149 
	$£ma_‹¡_h–³r
 (*
£ma_
)

151 
£m­hÜe
 *
£ma
 = 
£ma_
;

152 
i
;

154 
i
 = 0; i < 10; i++)

156 
	`£ma_down
 (&
£ma
[0]);

157 
	`£ma_up
 (&
£ma
[1]);

159 
	}
}

177 
	$lock_š™
 (
lock
 *lock)

179 
	`ASSERT
 (
lock
 !ğ
NULL
);

181 
lock
->
hŞd”
 = 
NULL
;

182 
	`£ma_š™
 (&
lock
->
£m­hÜe
, 1);

183 
	}
}

194 
	$lock_acquœe
 (
lock
 *lock)

196 
	`ASSERT
 (
lock
 !ğ
NULL
);

197 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

198 
	`ASSERT
 (!
	`lock_h–d_by_cu¼’t_th»ad
 (
lock
));

200 
	`£ma_down
 (&
lock
->
£m­hÜe
);

201 
lock
->
hŞd”
 = 
	`th»ad_cu¼’t
 ();

202 
	}
}

210 
boŞ


211 
	$lock_Œy_acquœe
 (
lock
 *lock)

213 
boŞ
 
sucûss
;

215 
	`ASSERT
 (
lock
 !ğ
NULL
);

216 
	`ASSERT
 (!
	`lock_h–d_by_cu¼’t_th»ad
 (
lock
));

218 
sucûss
 = 
	`£ma_Œy_down
 (&
lock
->
£m­hÜe
);

219 ià(
sucûss
)

220 
lock
->
hŞd”
 = 
	`th»ad_cu¼’t
 ();

221  
sucûss
;

222 
	}
}

230 
	$lock_»Ëa£
 (
lock
 *lock)

232 
	`ASSERT
 (
lock
 !ğ
NULL
);

233 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (
lock
));

235 
lock
->
hŞd”
 = 
NULL
;

236 
	`£ma_up
 (&
lock
->
£m­hÜe
);

237 
	}
}

242 
boŞ


243 
	$lock_h–d_by_cu¼’t_th»ad
 (cÚ¡ 
lock
 *lock)

245 
	`ASSERT
 (
lock
 !ğ
NULL
);

247  
lock
->
hŞd”
 =ğ
	`th»ad_cu¼’t
 ();

248 
	}
}

251 
	s£m­hÜe_–em


253 
li¡_–em
 
	m–em
;

254 
£m­hÜe
 
	m£m­hÜe
;

261 
	$cÚd_š™
 (
cÚd™iÚ
 *
cÚd
)

263 
	`ASSERT
 (
cÚd
 !ğ
NULL
);

265 
	`li¡_š™
 (&
cÚd
->
wa™”s
);

266 
	}
}

289 
	$cÚd_wa™
 (
cÚd™iÚ
 *
cÚd
, 
lock
 *lock)

291 
£m­hÜe_–em
 
wa™”
;

293 
	`ASSERT
 (
cÚd
 !ğ
NULL
);

294 
	`ASSERT
 (
lock
 !ğ
NULL
);

295 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

296 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (
lock
));

298 
	`£ma_š™
 (&
wa™”
.
£m­hÜe
, 0);

299 
	`li¡_push_back
 (&
cÚd
->
wa™”s
, &
wa™”
.
–em
);

300 
	`lock_»Ëa£
 (
lock
);

301 
	`£ma_down
 (&
wa™”
.
£m­hÜe
);

302 
	`lock_acquœe
 (
lock
);

303 
	}
}

313 
	$cÚd_sigÇl
 (
cÚd™iÚ
 *
cÚd
, 
lock
 *lock 
UNUSED
)

315 
	`ASSERT
 (
cÚd
 !ğ
NULL
);

316 
	`ASSERT
 (
lock
 !ğ
NULL
);

317 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

318 
	`ASSERT
 (
	`lock_h–d_by_cu¼’t_th»ad
 (
lock
));

320 ià(!
	`li¡_em±y
 (&
cÚd
->
wa™”s
))

321 
	`£ma_up
 (&
	`li¡_’Œy
 (
	`li¡_pİ_äÚt
 (&
cÚd
->
wa™”s
),

322 
£m­hÜe_–em
, 
–em
)->
£m­hÜe
);

323 
	}
}

332 
	$cÚd_brßdÿ¡
 (
cÚd™iÚ
 *
cÚd
, 
lock
 *lock)

334 
	`ASSERT
 (
cÚd
 !ğ
NULL
);

335 
	`ASSERT
 (
lock
 !ğ
NULL
);

337 !
	`li¡_em±y
 (&
cÚd
->
wa™”s
))

338 
	`cÚd_sigÇl
 (
cÚd
, 
lock
);

339 
	}
}

	@threads/synch.h

1 #iâdeà
THREADS_SYNCH_H


3 
	#THREADS_SYNCH_H


	)

5 
	~<li¡.h
>

6 
	~<¡dboŞ.h
>

9 
	s£m­hÜe


11 
	mv®ue
;

12 
li¡
 
	mwa™”s
;

15 
£ma_š™
 (
£m­hÜe
 *, 
v®ue
);

16 
£ma_down
 (
£m­hÜe
 *);

17 
boŞ
 
£ma_Œy_down
 (
£m­hÜe
 *);

18 
£ma_up
 (
£m­hÜe
 *);

19 
£ma_£lf_‹¡
 ();

22 
	slock


24 
th»ad
 *
	mhŞd”
;

25 
£m­hÜe
 
	m£m­hÜe
;

28 
lock_š™
 (
lock
 *);

29 
lock_acquœe
 (
lock
 *);

30 
boŞ
 
lock_Œy_acquœe
 (
lock
 *);

31 
lock_»Ëa£
 (
lock
 *);

32 
boŞ
 
lock_h–d_by_cu¼’t_th»ad
 (cÚ¡ 
lock
 *);

35 
	scÚd™iÚ


37 
li¡
 
	mwa™”s
;

40 
cÚd_š™
 (
cÚd™iÚ
 *);

41 
cÚd_wa™
 (
cÚd™iÚ
 *, 
lock
 *);

42 
cÚd_sigÇl
 (
cÚd™iÚ
 *, 
lock
 *);

43 
cÚd_brßdÿ¡
 (
cÚd™iÚ
 *, 
lock
 *);

50 
	#b¬r›r
(è
asm
 vŞ©("" : : : "memÜy")

	)

	@threads/thread.c

1 
	~"th»ads/th»ad.h
"

3 
	~<debug.h
>

4 
	~<¡ddef.h
>

5 
	~<¿ndom.h
>

6 
	~<¡dio.h
>

7 
	~<¡ršg.h
>

8 
	~"th»ads/æags.h
"

9 
	~"th»ads/š‹¼u±.h
"

10 
	~"th»ads/šŒ-¡ubs.h
"

11 
	~"th»ads/·Îoc.h
"

12 
	~"th»ads/sw™ch.h
"

13 
	~"th»ads/synch.h
"

14 
	~"th»ads/vaddr.h
"

15 #ifdeà
USERPROG


16 
	~"u£½rog/´oûss.h
"

22 
	#THREAD_MAGIC
 0xcd6abf4b

	)

26 
li¡
 
	g»ady_li¡
;

30 
li¡
 
	g®l_li¡
;

33 
th»ad
 *
	gidË_th»ad
;

36 
th»ad
 *
	gš™Ÿl_th»ad
;

39 
lock
 
	gtid_lock
;

42 
	sk”Ãl_th»ad_äame


44 *
	me
;

45 
th»ad_func
 *
	mfunùiÚ
;

46 *
	maux
;

50 
	gidË_ticks
;

51 
	gk”Ãl_ticks
;

52 
	gu£r_ticks
;

55 
	#TIME_SLICE
 4

	)

56 
	gth»ad_ticks
;

61 
boŞ
 
	gth»ad_mlfqs
;

63 
k”Ãl_th»ad
 (
th»ad_func
 *, *
aux
);

65 
idË
 (*
aux
 
UNUSED
);

66 
th»ad
 *
ruÂšg_th»ad
 ();

67 
th»ad
 *
Ãxt_th»ad_to_run
 ();

68 
š™_th»ad
 (
th»ad
 *, cÚ¡ *
Çme
, 
´iÜ™y
);

69 
boŞ
 
	$is_th»ad
 (
th»ad
 *è
UNUSED
;

70 *
	`®loc_äame
 (
th»ad
 *, 
size_t
 
size
);

71 
	`scheduË
 ();

72 
	`scheduË_
 (
th»ad
 *
´ev
);

73 
tid_t
 
	`®loÿ‹_tid
 ();

89 
	$th»ad_š™
 ()

91 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

93 
	`lock_š™
 (&
tid_lock
);

94 
	`li¡_š™
 (&
»ady_li¡
);

95 
	`li¡_š™
 (&
®l_li¡
);

98 
š™Ÿl_th»ad
 = 
	`ruÂšg_th»ad
 ();

99 
	`š™_th»ad
 (
š™Ÿl_th»ad
, "maš", 
PRI_DEFAULT
);

100 
š™Ÿl_th»ad
->
¡©us
 = 
THREAD_RUNNING
;

101 
š™Ÿl_th»ad
->
tid
 = 
	`®loÿ‹_tid
 ();

102 
	}
}

107 
	$th»ad_¡¬t
 ()

110 
£m­hÜe
 
idË_¡¬‹d
;

111 
	`£ma_š™
 (&
idË_¡¬‹d
, 0);

112 
	`th»ad_ü—‹
 ("idË", 
PRI_MIN
, 
idË
, &
idË_¡¬‹d
);

115 
	`šŒ_’abË
 ();

118 
	`£ma_down
 (&
idË_¡¬‹d
);

119 
	}
}

124 
	$th»ad_tick
 ()

126 
th»ad
 *
t
 = 
	`th»ad_cu¼’t
 ();

129 ià(
t
 =ğ
idË_th»ad
)

130 
idË_ticks
++;

131 #ifdeà
USERPROG


132 ià(
t
->
·gedœ
 !ğ
NULL
)

133 
u£r_ticks
++;

136 
k”Ãl_ticks
++;

139 ià(++
th»ad_ticks
 >ğ
TIME_SLICE
)

140 
	`šŒ_y›ld_Ú_»tuº
 ();

141 
	}
}

145 
	$th»ad_´št_¡©s
 ()

147 
	`´štf
 ("Thread: %lld idleicks, %lld kernelicks, %lld usericks\n",

148 
idË_ticks
, 
k”Ãl_ticks
, 
u£r_ticks
);

149 
	}
}

166 
tid_t


167 
	$th»ad_ü—‹
 (cÚ¡ *
Çme
, 
´iÜ™y
,

168 
th»ad_func
 *
funùiÚ
, *
aux
)

170 
th»ad
 *
t
;

171 
k”Ãl_th»ad_äame
 *
kf
;

172 
sw™ch_’Œy_äame
 *
ef
;

173 
sw™ch_th»ads_äame
 *
sf
;

174 
tid_t
 
tid
;

175 
šŒ_Ëv–
 
Şd_Ëv–
;

177 
	`ASSERT
 (
funùiÚ
 !ğ
NULL
);

180 
t
 = 
	`·Îoc_g‘_·ge
 (
PAL_ZERO
);

181 ià(
t
 =ğ
NULL
)

182  
TID_ERROR
;

185 
	`š™_th»ad
 (
t
, 
Çme
, 
´iÜ™y
);

186 
tid
 = 
t
->tid = 
	`®loÿ‹_tid
 ();

191 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

194 
kf
 = 
	`®loc_äame
 (
t
,  *kf);

195 
kf
->
e
 = 
NULL
;

196 
kf
->
funùiÚ
 = function;

197 
kf
->
aux
 =‡ux;

201 
ef
 = 
	`®loc_äame
 (
t
,  *ef);

202 
ef
->
e
 = ((*è()è
k”Ãl_th»ad
;

205 
sf
 = 
	`®loc_äame
 (
t
,  *sf);

206 
sf
->
e
 = 
sw™ch_’Œy
;

207 
sf
->
ebp
 = 0;

209 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

212 
	`th»ad_unblock
 (
t
);

213 
	`´štf
("beforehread create„eturns \n");

214  
tid
;

215 
	}
}

224 
	$th»ad_block
 ()

226 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

227 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

229 
	`th»ad_cu¼’t
 ()->
¡©us
 = 
THREAD_BLOCKED
;

230 
	`scheduË
 ();

231 
	}
}

242 
	$th»ad_unblock
 (
th»ad
 *
t
)

244 
šŒ_Ëv–
 
Şd_Ëv–
;

246 
	`ASSERT
 (
	`is_th»ad
 (
t
));

248 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

249 
	`ASSERT
 (
t
->
¡©us
 =ğ
THREAD_BLOCKED
);

250 
	`li¡_push_back
 (&
»ady_li¡
, &
t
->
–em
);

251 
t
->
¡©us
 = 
THREAD_READY
;

252 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

253 
	}
}

257 
	$th»ad_Çme
 ()

259  
	`th»ad_cu¼’t
 ()->
Çme
;

260 
	}
}

265 
th»ad
 *

266 
	$th»ad_cu¼’t
 ()

268 
th»ad
 *
t
 = 
	`ruÂšg_th»ad
 ();

275 
	`ASSERT
 (
	`is_th»ad
 (
t
));

276 
	`ASSERT
 (
t
->
¡©us
 =ğ
THREAD_RUNNING
);

278  
t
;

279 
	}
}

282 
tid_t


283 
	$th»ad_tid
 ()

285  
	`th»ad_cu¼’t
 ()->
tid
;

286 
	}
}

291 
	$th»ad_ex™
 ()

293 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

295 #ifdeà
USERPROG


296 
	`´oûss_ex™
 ();

302 
	`šŒ_di§bË
 ();

303 
	`li¡_»move
 (&
	`th»ad_cu¼’t
()->
®ËËm
);

304 
	`th»ad_cu¼’t
 ()->
¡©us
 = 
THREAD_DYING
;

305 
	`scheduË
 ();

306 
	`NOT_REACHED
 ();

307 
	}
}

312 
	$th»ad_y›ld
 ()

314 
th»ad
 *
cur
 = 
	`th»ad_cu¼’t
 ();

315 
šŒ_Ëv–
 
Şd_Ëv–
;

317 
	`ASSERT
 (!
	`šŒ_cÚ‹xt
 ());

319 
Şd_Ëv–
 = 
	`šŒ_di§bË
 ();

320 ià(
cur
 !ğ
idË_th»ad
)

321 
	`li¡_push_back
 (&
»ady_li¡
, &
cur
->
–em
);

322 
cur
->
¡©us
 = 
THREAD_READY
;

323 
	`scheduË
 ();

324 
	`šŒ_£t_Ëv–
 (
Şd_Ëv–
);

325 
	}
}

330 
	$th»ad_fÜ—ch
 (
th»ad_aùiÚ_func
 *
func
, *
aux
)

332 
li¡_–em
 *
e
;

334 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

336 
e
 = 
	`li¡_begš
 (&
®l_li¡
);ƒ !ğ
	`li¡_’d
 (&all_list);

337 
e
 = 
	`li¡_Ãxt
 (e))

339 
th»ad
 *
t
 = 
	`li¡_’Œy
 (
e
, th»ad, 
®ËËm
);

340 
	`func
 (
t
, 
aux
);

342 
	}
}

346 
	$th»ad_£t_´iÜ™y
 (
Ãw_´iÜ™y
)

348 
	`th»ad_cu¼’t
 ()->
´iÜ™y
 = 
Ãw_´iÜ™y
;

349 
	}
}

353 
	$th»ad_g‘_´iÜ™y
 ()

355  
	`th»ad_cu¼’t
 ()->
´iÜ™y
;

356 
	}
}

360 
	$th»ad_£t_niû
 (
niû
 
UNUSED
)

363 
	}
}

367 
	$th»ad_g‘_niû
 ()

371 
	}
}

375 
	$th»ad_g‘_lßd_avg
 ()

379 
	}
}

383 
	$th»ad_g‘_»ûÁ_ıu
 ()

387 
	}
}

399 
	$idË
 (*
idË_¡¬‹d_
 
UNUSED
)

401 
£m­hÜe
 *
idË_¡¬‹d
 = 
idË_¡¬‹d_
;

402 
idË_th»ad
 = 
	`th»ad_cu¼’t
 ();

403 
	`£ma_up
 (
idË_¡¬‹d
);

408 
	`šŒ_di§bË
 ();

409 
	`th»ad_block
 ();

423 
asm
 volatile ("sti; hlt" : : : "memory");

425 
	}
}

429 
	$k”Ãl_th»ad
 (
th»ad_func
 *
funùiÚ
, *
aux
)

431 
	`ASSERT
 (
funùiÚ
 !ğ
NULL
);

433 
	`šŒ_’abË
 ();

434 
	`funùiÚ
 (
aux
);

435 
	`th»ad_ex™
 ();

436 
	}
}

439 
th»ad
 *

440 
	$ruÂšg_th»ad
 ()

442 
ušt32_t
 *
e¥
;

448 
	`asm
 ("mov %%e¥, %0" : "=g" (
e¥
));

449  
	`pg_round_down
 (
e¥
);

450 
	}
}

453 
boŞ


454 
	$is_th»ad
 (
th»ad
 *
t
)

456  
t
 !ğ
NULL
 &&->
magic
 =ğ
THREAD_MAGIC
;

457 
	}
}

462 
	$š™_th»ad
 (
th»ad
 *
t
, cÚ¡ *
Çme
, 
´iÜ™y
)

464 
	`ASSERT
 (
t
 !ğ
NULL
);

465 
	`ASSERT
 (
PRI_MIN
 <ğ
´iÜ™y
 &&…riÜ™y <ğ
PRI_MAX
);

466 
	`ASSERT
 (
Çme
 !ğ
NULL
);

468 
	`mem£t
 (
t
, 0,  *t);

469 
t
->
¡©us
 = 
THREAD_BLOCKED
;

470 
	`¡¾ıy
 (
t
->
Çme
,‚ame, ->name);

471 
t
->
¡ack
 = (
ušt8_t
 *èˆ+ 
PGSIZE
;

472 
t
->
·»Á_th»ad
 = 
	`th»ad_cu¼’t
();

473 
t
->
´iÜ™y
 =…riority;

474 
t
->
magic
 = 
THREAD_MAGIC
;

475 
	`li¡_push_back
 (&
®l_li¡
, &
t
->
®ËËm
);

476 
	}
}

481 
	$®loc_äame
 (
th»ad
 *
t
, 
size_t
 
size
)

484 
	`ASSERT
 (
	`is_th»ad
 (
t
));

485 
	`ASSERT
 (
size
 %  (
ušt32_t
) == 0);

487 
t
->
¡ack
 -ğ
size
;

488  
t
->
¡ack
;

489 
	}
}

496 
th»ad
 *

497 
	$Ãxt_th»ad_to_run
 ()

499 ià(
	`li¡_em±y
 (&
»ady_li¡
))

500  
idË_th»ad
;

502  
	`li¡_’Œy
 (
	`li¡_pİ_äÚt
 (&
»ady_li¡
), 
th»ad
, 
–em
);

503 
	}
}

522 
	$scheduË_
 (
th»ad
 *
´ev
)

524 
th»ad
 *
cur
 = 
	`ruÂšg_th»ad
 ();

526 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

529 
cur
->
¡©us
 = 
THREAD_RUNNING
;

532 
th»ad_ticks
 = 0;

534 #ifdeà
USERPROG


536 
	`´oûss_aùiv©e
 ();

544 ià(
´ev
 !ğ
NULL
 &&…»v->
¡©us
 =ğ
THREAD_DYING
 &&…»v !ğ
š™Ÿl_th»ad
)

546 
	`ASSERT
 (
´ev
 !ğ
cur
);

547 
	`·Îoc_ä“_·ge
 (
´ev
);

549 
	}
}

559 
	$scheduË
 ()

561 
th»ad
 *
cur
 = 
	`ruÂšg_th»ad
 ();

562 
th»ad
 *
Ãxt
 = 
	`Ãxt_th»ad_to_run
 ();

563 
th»ad
 *
´ev
 = 
NULL
;

565 
	`ASSERT
 (
	`šŒ_g‘_Ëv–
 (è=ğ
INTR_OFF
);

566 
	`ASSERT
 (
cur
->
¡©us
 !ğ
THREAD_RUNNING
);

567 
	`ASSERT
 (
	`is_th»ad
 (
Ãxt
));

569 ià(
cur
 !ğ
Ãxt
)

570 
´ev
 = 
	`sw™ch_th»ads
 (
cur
, 
Ãxt
);

571 
	`scheduË_
 (
´ev
);

572 
	}
}

575 
tid_t


576 
	$®loÿ‹_tid
 ()

578 
tid_t
 
Ãxt_tid
 = 1;

579 
tid_t
 
tid
;

581 
	`lock_acquœe
 (&
tid_lock
);

582 
tid
 = 
Ãxt_tid
++;

583 
	`lock_»Ëa£
 (&
tid_lock
);

585  
tid
;

586 
	}
}

590 
ušt32_t
 
	gth»ad_¡ack_ofs
 = 
off£tof
 (
th»ad
, 
¡ack
);

	@threads/thread.h

1 #iâdeà
THREADS_THREAD_H


3 
	#THREADS_THREAD_H


	)

5 
	~<debug.h
>

6 
	~<li¡.h
>

7 
	~<¡dšt.h
>

10 
	eth»ad_¡©us


12 
	mTHREAD_RUNNING
,

13 
	mTHREAD_READY
,

14 
	mTHREAD_BLOCKED
,

15 
	mTHREAD_DYING


20 
	ttid_t
;

21 
	#TID_ERROR
 ((
tid_t
è-1è

	)

24 
	#PRI_MIN
 0

	)

25 
	#PRI_DEFAULT
 31

	)

26 
	#PRI_MAX
 63

	)

84 
	sth»ad


87 
tid_t
 
	mtid
;

88 
th»ad_¡©us
 
	m¡©us
;

89 
	mÇme
[16];

90 
ušt8_t
 *
	m¡ack
;

91 
	m´iÜ™y
;

92 
th»ad
 *
·»Á_th»ad


93 
li¡_–em
 
	m®ËËm
;

94 
fe
 *
	mfes
[8];

95 
£m­hÜe
 *
	mchd_£m­hÜe
;

97 
li¡_–em
 
	m–em
;

99 #ifdeà
USERPROG


101 
ušt32_t
 *
	m·gedœ
;

105 
	mmagic
;

111 
boŞ
 
th»ad_mlfqs
;

113 
th»ad_š™
 ();

114 
th»ad_¡¬t
 ();

116 
th»ad_tick
 ();

117 
th»ad_´št_¡©s
 ();

119 
	tth»ad_func
 (*
	taux
);

120 
tid_t
 
th»ad_ü—‹
 (cÚ¡ *
Çme
, 
´iÜ™y
, 
th»ad_func
 *, *);

122 
th»ad_block
 ();

123 
th»ad_unblock
 (
th»ad
 *);

125 
th»ad
 *
th»ad_cu¼’t
 ();

126 
tid_t
 
th»ad_tid
 ();

127 cÚ¡ *
th»ad_Çme
 ();

129 
	$th»ad_ex™
 (è
NO_RETURN
;

130 
	`th»ad_y›ld
 ();

133 
	tth»ad_aùiÚ_func
 (
	tth»ad
 *
	tt
, *
	taux
);

134 
	`th»ad_fÜ—ch
 (
th»ad_aùiÚ_func
 *, *);

136 
	`th»ad_g‘_´iÜ™y
 ();

137 
	`th»ad_£t_´iÜ™y
 ();

139 
	`th»ad_g‘_niû
 ();

140 
	`th»ad_£t_niû
 ();

141 
	`th»ad_g‘_»ûÁ_ıu
 ();

142 
	`th»ad_g‘_lßd_avg
 ();

	@threads/vaddr.h

1 #iâdeà
THREADS_VADDR_H


3 
	#THREADS_VADDR_H


	)

5 
	~<debug.h
>

6 
	~<¡dšt.h
>

7 
	~<¡dboŞ.h
>

9 
	~"th»ads/lßd”.h
"

16 
	#BITMASK
(
SHIFT
, 
CNT
è(((1uÈ<< (CNT)è- 1è<< (SHIFT))

	)

19 
	#PGSHIFT
 0

	)

20 
	#PGBITS
 12

	)

21 
	#PGSIZE
 (1 << 
PGBITS
è

	)

22 
	#PGMASK
 
	`BITMASK
(
PGSHIFT
, 
PGBITS
è

	)

25 
šlše
 
	$pg_ofs
 (cÚ¡ *
va
) {

26  (
ušŒ_t
è
va
 & 
PGMASK
;

27 
	}
}

30 
šlše
 
ušŒ_t
 
	$pg_no
 (cÚ¡ *
va
) {

31  (
ušŒ_t
è
va
 >> 
PGBITS
;

32 
	}
}

35 
šlše
 *
	$pg_round_up
 (cÚ¡ *
va
) {

36  (*è(((
ušŒ_t
è
va
 + 
PGSIZE
 - 1è& ~
PGMASK
);

37 
	}
}

40 
šlše
 *
	$pg_round_down
 (cÚ¡ *
va
) {

41  (*è((
ušŒ_t
è
va
 & ~
PGMASK
);

42 
	}
}

54 
	#PHYS_BASE
 ((*è
LOADER_PHYS_BASE
)

	)

57 
šlše
 
boŞ


58 
	$is_u£r_vaddr
 (cÚ¡ *
vaddr
)

60  
vaddr
 < 
PHYS_BASE
;

61 
	}
}

64 
šlše
 
boŞ


65 
	$is_k”Ãl_vaddr
 (cÚ¡ *
vaddr
)

67  
vaddr
 >ğ
PHYS_BASE
;

68 
	}
}

72 
šlše
 *

73 
	$±ov
 (
ušŒ_t
 
·ddr
)

75 
	`ASSERT
 ((*è
·ddr
 < 
PHYS_BASE
);

77  (*è(
·ddr
 + 
PHYS_BASE
);

78 
	}
}

82 
šlše
 
ušŒ_t


83 
	$vtİ
 (cÚ¡ *
vaddr
)

85 
	`ASSERT
 (
	`is_k”Ãl_vaddr
 (
vaddr
));

87  (
ušŒ_t
è
vaddr
 - (ušŒ_tè
PHYS_BASE
;

88 
	}
}

	@userprog/exception.c

1 
	~"u£½rog/exû±iÚ.h
"

3 
	~<š‰y³s.h
>

4 
	~<¡dio.h
>

5 
	~"u£½rog/gdt.h
"

6 
	~"th»ads/š‹¼u±.h
"

7 
	~"th»ads/th»ad.h
"

10 
	g·ge_çuÉ_út
;

12 
kl
 (
šŒ_äame
 *);

13 
·ge_çuÉ
 (
šŒ_äame
 *);

31 
	$exû±iÚ_š™
 ()

37 
	`šŒ_»gi¡”_št
 (3, 3, 
INTR_ON
, 
kl
, "#BP Breakpoint Exception");

38 
	`šŒ_»gi¡”_št
 (4, 3, 
INTR_ON
, 
kl
, "#OF Overflow Exception");

39 
	`šŒ_»gi¡”_št
 (5, 3, 
INTR_ON
, 
kl
,

46 
	`šŒ_»gi¡”_št
 (0, 0, 
INTR_ON
, 
kl
, "#DE Divide Error");

47 
	`šŒ_»gi¡”_št
 (1, 0, 
INTR_ON
, 
kl
, "#DB Debug Exception");

48 
	`šŒ_»gi¡”_št
 (6, 0, 
INTR_ON
, 
kl
, "#UD Invalid Opcode Exception");

49 
	`šŒ_»gi¡”_št
 (7, 0, 
INTR_ON
, 
kl
,

51 
	`šŒ_»gi¡”_št
 (11, 0, 
INTR_ON
, 
kl
, "#NP Segment Not Present");

52 
	`šŒ_»gi¡”_št
 (12, 0, 
INTR_ON
, 
kl
, "#SS Stack Fault Exception");

53 
	`šŒ_»gi¡”_št
 (13, 0, 
INTR_ON
, 
kl
, "#GP General Protection Exception");

54 
	`šŒ_»gi¡”_št
 (16, 0, 
INTR_ON
, 
kl
, "#MF x87 FPU Floating-Point Error");

55 
	`šŒ_»gi¡”_št
 (19, 0, 
INTR_ON
, 
kl
,

61 
	`šŒ_»gi¡”_št
 (14, 0, 
INTR_OFF
, 
·ge_çuÉ
, "#PF Page-Fault Exception");

62 
	}
}

66 
	$exû±iÚ_´št_¡©s
 ()

68 
	`´štf
 ("Exû±iÚ: %Îd…agçuÉs\n", 
·ge_çuÉ_út
);

69 
	}
}

73 
	$kl
 (
šŒ_äame
 *
f
)

85 
f
->
cs
)

87 
SEL_UCSEG
:

90 
	`´štf
 ("%s: dying dueo interrupt %#04x (%s).\n",

91 
	`th»ad_Çme
 (), 
f
->
vec_no
, 
	`šŒ_Çme
 (f->vec_no));

92 
	`šŒ_dump_äame
 (
f
);

93 
	`th»ad_ex™
 ();

95 
SEL_KCSEG
:

100 
	`šŒ_dump_äame
 (
f
);

101 
	`PANIC
 ("Kernel bug - unexpected interrupt in kernel");

106 
	`´štf
 ("Interrupt %#04x (%s) in unknown segment %04x\n",

107 
f
->
vec_no
, 
	`šŒ_Çme
 (f->vec_no), f->
cs
);

108 
	`th»ad_ex™
 ();

110 
	}
}

124 
	$·ge_çuÉ
 (
šŒ_äame
 *
f
)

126 
boŞ
 
nÙ_´e£Á
;

127 
boŞ
 
wr™e
;

128 
boŞ
 
u£r
;

129 *
çuÉ_addr
;

138 
	`asm
 ("movÈ%%ü2, %0" : "ô" (
çuÉ_addr
));

142 
	`šŒ_’abË
 ();

145 
·ge_çuÉ_út
++;

148 
nÙ_´e£Á
 = (
f
->
”rÜ_code
 & 
PF_P
) == 0;

149 
wr™e
 = (
f
->
”rÜ_code
 & 
PF_W
) != 0;

150 
u£r
 = (
f
->
”rÜ_code
 & 
PF_U
) != 0;

155 
	`´štf
 ("Page fault‡t %p: %sƒrror %s…age in %s context.\n",

156 
çuÉ_addr
,

157 
nÙ_´e£Á
 ? "not…resent" : "rights violation",

158 
wr™e
 ? "writing" : "reading",

159 
u£r
 ? "user" : "kernel");

160 
	`kl
 (
f
);

161 
	}
}

	@userprog/exception.h

1 #iâdeà
USERPROG_EXCEPTION_H


3 
	#USERPROG_EXCEPTION_H


	)

6 
	#PF_P
 0x1

	)

7 
	#PF_W
 0x2

	)

8 
	#PF_U
 0x4

	)

10 
exû±iÚ_š™
 ();

11 
exû±iÚ_´št_¡©s
 ();

	@userprog/gdt.c

1 
	~"u£½rog/gdt.h
"

3 
	~<debug.h
>

4 
	~"u£½rog/tss.h
"

5 
	~"th»ads/·Îoc.h
"

6 
	~"th»ads/vaddr.h
"

26 
ušt64_t
 
	ggdt
[
SEL_CNT
];

29 
ušt64_t
 
make_code_desc
 (
d¶
);

30 
ušt64_t
 
make_d©a_desc
 (
d¶
);

31 
ušt64_t
 
make_tss_desc
 (*
Ïddr
);

32 
ušt64_t
 
make_gdŒ_İ”ªd
 (
ušt16_t
 
lim™
, *
ba£
);

37 
	$gdt_š™
 ()

39 
ušt64_t
 
gdŒ_İ”ªd
;

42 
gdt
[
SEL_NULL
 /  *gdt] = 0;

43 
gdt
[
SEL_KCSEG
 /  *gdt] = 
	`make_code_desc
 (0);

44 
gdt
[
SEL_KDSEG
 /  *gdt] = 
	`make_d©a_desc
 (0);

45 
gdt
[
SEL_UCSEG
 /  *gdt] = 
	`make_code_desc
 (3);

46 
gdt
[
SEL_UDSEG
 /  *gdt] = 
	`make_d©a_desc
 (3);

47 
gdt
[
SEL_TSS
 /  *gdt] = 
	`make_tss_desc
 (
	`tss_g‘
 ());

52 
gdŒ_İ”ªd
 = 
	`make_gdŒ_İ”ªd
 ( 
gdt
 - 1, gdt);

53 
asm
 vŞ©("lgdˆ%0" : : "m" (
gdŒ_İ”ªd
));

54 
asm
 vŞ©("É¸%w0" : : "q" (
SEL_TSS
));

55 
	}
}

58 
	e£g_şass


60 
	mCLS_SYSTEM
 = 0,

61 
	mCLS_CODE_DATA
 = 1

65 
	e£g_g¿nuÏr™y


67 
	mGRAN_BYTE
 = 0,

68 
	mGRAN_PAGE
 = 1

82 
ušt64_t


83 
	$make_£g_desc
 (
ušt32_t
 
ba£
,

84 
ušt32_t
 
lim™
,

85 
£g_şass
 
şass
,

86 
ty³
,

87 
d¶
,

88 
£g_g¿nuÏr™y
 
g¿nuÏr™y
)

90 
ušt32_t
 
e0
, 
e1
;

92 
	`ASSERT
 (
lim™
 <= 0xfffff);

93 
	`ASSERT
 (
şass
 =ğ
CLS_SYSTEM
 || cÏs =ğ
CLS_CODE_DATA
);

94 
	`ASSERT
 (
ty³
 >= 0 &&ype <= 15);

95 
	`ASSERT
 (
d¶
 >= 0 && dpl <= 3);

96 
	`ASSERT
 (
g¿nuÏr™y
 =ğ
GRAN_BYTE
 || g¿nuÏr™y =ğ
GRAN_PAGE
);

98 
e0
 = ((
lim™
 & 0xffff)

99 | (
ba£
 << 16));

101 
e1
 = (((
ba£
 >> 16) & 0xff)

102 | (
ty³
 << 8)

103 | (
şass
 << 12)

104 | (
d¶
 << 13)

106 | (
lim™
 & 0xf0000)

108 | (
g¿nuÏr™y
 << 23)

109 | (
ba£
 & 0xff000000));

111  
e0
 | ((
ušt64_t
è
e1
 << 32);

112 
	}
}

116 
ušt64_t


117 
	$make_code_desc
 (
d¶
)

119  
	`make_£g_desc
 (0, 0xfffff, 
CLS_CODE_DATA
, 10, 
d¶
, 
GRAN_PAGE
);

120 
	}
}

124 
ušt64_t


125 
	$make_d©a_desc
 (
d¶
)

127  
	`make_£g_desc
 (0, 0xfffff, 
CLS_CODE_DATA
, 2, 
d¶
, 
GRAN_PAGE
);

128 
	}
}

134 
ušt64_t


135 
	$make_tss_desc
 (*
Ïddr
)

137  
	`make_£g_desc
 ((
ušt32_t
è
Ïddr
, 0x67, 
CLS_SYSTEM
, 9, 0, 
GRAN_BYTE
);

138 
	}
}

143 
ušt64_t


144 
	$make_gdŒ_İ”ªd
 (
ušt16_t
 
lim™
, *
ba£
)

146  
lim™
 | ((
ušt64_t
è(
ušt32_t
è
ba£
 << 16);

147 
	}
}

	@userprog/gdt.h

1 #iâdeà
USERPROG_GDT_H


3 
	#USERPROG_GDT_H


	)

5 
	~"th»ads/lßd”.h
"

9 
	#SEL_UCSEG
 0x1B

	)

10 
	#SEL_UDSEG
 0x23

	)

11 
	#SEL_TSS
 0x28

	)

12 
	#SEL_CNT
 6

	)

14 
gdt_š™
 ();

	@userprog/pagedir.c

1 
	~"u£½rog/·gedœ.h
"

3 
	~<¡dboŞ.h
>

4 
	~<¡ddef.h
>

5 
	~<¡ršg.h
>

6 
	~"th»ads/š™.h
"

7 
	~"th»ads/±e.h
"

8 
	~"th»ads/·Îoc.h
"

10 
ušt32_t
 *
aùive_pd
 ();

11 
šv®id©e_·gedœ
 (
ušt32_t
 *);

17 
ušt32_t
 *

18 
	$·gedœ_ü—‹
 ()

20 
ušt32_t
 *
pd
 = 
	`·Îoc_g‘_·ge
 (0);

21 ià(
pd
 !ğ
NULL
)

22 
	`memıy
 (
pd
, 
ba£_·ge_dœ
, 
PGSIZE
);

23  
pd
;

24 
	}
}

29 
	$·gedœ_de¡roy
 (
ušt32_t
 *
pd
)

31 
ušt32_t
 *
pde
;

33 ià(
pd
 =ğ
NULL
)

36 
	`ASSERT
 (
pd
 !ğ
ba£_·ge_dœ
);

37 
pde
 = 
pd
;…d<…d + 
	`pd_no
 (
PHYS_BASE
);…de++)

38 ià(*
pde
 & 
PTE_P
)

40 
ušt32_t
 *
±
 = 
	`pde_g‘_±
 (*
pde
);

41 
ušt32_t
 *
±e
;

43 
±e
 = 
±
;…‹ <…ˆ+ 
PGSIZE
 /  *pte;…te++)

44 ià(*
±e
 & 
PTE_P
)

45 
	`·Îoc_ä“_·ge
 (
	`±e_g‘_·ge
 (*
±e
));

46 
	`·Îoc_ä“_·ge
 (
±
);

48 
	`·Îoc_ä“_·ge
 (
pd
);

49 
	}
}

57 
ušt32_t
 *

58 
	$lookup_·ge
 (
ušt32_t
 *
pd
, cÚ¡ *
vaddr
, 
boŞ
 
ü—‹
)

60 
ušt32_t
 *
±
, *
pde
;

62 
	`ASSERT
 (
pd
 !ğ
NULL
);

65 
	`ASSERT
 (!
ü—‹
 || 
	`is_u£r_vaddr
 (
vaddr
));

69 
pde
 = 
pd
 + 
	`pd_no
 (
vaddr
);

70 ià(*
pde
 == 0)

72 ià(
ü—‹
)

74 
±
 = 
	`·Îoc_g‘_·ge
 (
PAL_ZERO
);

75 ià(
±
 =ğ
NULL
)

76  
NULL
;

78 *
pde
 = 
	`pde_ü—‹_u£r
 (
±
);

81  
NULL
;

85 
±
 = 
	`pde_g‘_±
 (*
pde
);

86  &
±
[
	`±_no
 (
vaddr
)];

87 
	}
}

99 
boŞ


100 
	$·gedœ_£t_·ge
 (
ušt32_t
 *
pd
, *
u·ge
, *
k·ge
, 
boŞ
 
wr™abË
)

102 
ušt32_t
 *
±e
;

104 
	`ASSERT
 (
	`pg_ofs
 (
u·ge
) == 0);

105 
	`ASSERT
 (
	`pg_ofs
 (
k·ge
) == 0);

106 
	`ASSERT
 (
	`is_u£r_vaddr
 (
u·ge
));

107 
	`ASSERT
 (
	`vtİ
 (
k·ge
è>> 
PTSHIFT
 < 
¿m_·ges
);

108 
	`ASSERT
 (
pd
 !ğ
ba£_·ge_dœ
);

110 
±e
 = 
	`lookup_·ge
 (
pd
, 
u·ge
, 
Œue
);

112 ià(
±e
 !ğ
NULL
)

114 
	`ASSERT
 ((*
±e
 & 
PTE_P
) == 0);

115 *
±e
 = 
	`±e_ü—‹_u£r
 (
k·ge
, 
wr™abË
);

116  
Œue
;

119  
çl£
;

120 
	}
}

127 
	$·gedœ_g‘_·ge
 (
ušt32_t
 *
pd
, cÚ¡ *
uaddr
)

129 
ušt32_t
 *
±e
;

131 
	`ASSERT
 (
	`is_u£r_vaddr
 (
uaddr
));

133 
±e
 = 
	`lookup_·ge
 (
pd
, 
uaddr
, 
çl£
);

134 ià(
±e
 !ğ
NULL
 && (*±& 
PTE_P
) != 0)

135  
	`±e_g‘_·ge
 (*
±e
è+ 
	`pg_ofs
 (
uaddr
);

137  
NULL
;

138 
	}
}

145 
	$·gedœ_ş—r_·ge
 (
ušt32_t
 *
pd
, *
u·ge
)

147 
ušt32_t
 *
±e
;

149 
	`ASSERT
 (
	`pg_ofs
 (
u·ge
) == 0);

150 
	`ASSERT
 (
	`is_u£r_vaddr
 (
u·ge
));

152 
±e
 = 
	`lookup_·ge
 (
pd
, 
u·ge
, 
çl£
);

153 ià(
±e
 !ğ
NULL
 && (*±& 
PTE_P
) != 0)

155 *
±e
 &ğ~
PTE_P
;

156 
	`šv®id©e_·gedœ
 (
pd
);

158 
	}
}

164 
boŞ


165 
	$·gedœ_is_dœty
 (
ušt32_t
 *
pd
, cÚ¡ *
v·ge
)

167 
ušt32_t
 *
±e
 = 
	`lookup_·ge
 (
pd
, 
v·ge
, 
çl£
);

168  
±e
 !ğ
NULL
 && (*±& 
PTE_D
) != 0;

169 
	}
}

174 
	$·gedœ_£t_dœty
 (
ušt32_t
 *
pd
, cÚ¡ *
v·ge
, 
boŞ
 
dœty
)

176 
ušt32_t
 *
±e
 = 
	`lookup_·ge
 (
pd
, 
v·ge
, 
çl£
);

177 ià(
±e
 !ğ
NULL
)

179 ià(
dœty
)

180 *
±e
 |ğ
PTE_D
;

183 *
±e
 &ğ~(
ušt32_t
è
PTE_D
;

184 
	`šv®id©e_·gedœ
 (
pd
);

187 
	}
}

193 
boŞ


194 
	$·gedœ_is_acûs£d
 (
ušt32_t
 *
pd
, cÚ¡ *
v·ge
)

196 
ušt32_t
 *
±e
 = 
	`lookup_·ge
 (
pd
, 
v·ge
, 
çl£
);

197  
±e
 !ğ
NULL
 && (*±& 
PTE_A
) != 0;

198 
	}
}

203 
	$·gedœ_£t_acûs£d
 (
ušt32_t
 *
pd
, cÚ¡ *
v·ge
, 
boŞ
 
acûs£d
)

205 
ušt32_t
 *
±e
 = 
	`lookup_·ge
 (
pd
, 
v·ge
, 
çl£
);

206 ià(
±e
 !ğ
NULL
)

208 ià(
acûs£d
)

209 *
±e
 |ğ
PTE_A
;

212 *
±e
 &ğ~(
ušt32_t
è
PTE_A
;

213 
	`šv®id©e_·gedœ
 (
pd
);

216 
	}
}

221 
	$·gedœ_aùiv©e
 (
ušt32_t
 *
pd
)

223 ià(
pd
 =ğ
NULL
)

224 
pd
 = 
ba£_·ge_dœ
;

231 
asm
 vŞ©("movÈ%0, %%ü3" : : "r" (
	`vtİ
 (
pd
)) : "memory");

232 
	}
}

235 
ušt32_t
 *

236 
	$aùive_pd
 ()

242 
ušŒ_t
 
pd
;

243 
asm
 vŞ©("movÈ%%ü3, %0" : "ô" (
pd
));

244  
	`±ov
 (
pd
);

245 
	}
}

256 
	$šv®id©e_·gedœ
 (
ušt32_t
 *
pd
)

258 ià(
	`aùive_pd
 (è=ğ
pd
)

262 
	`·gedœ_aùiv©e
 (
pd
);

264 
	}
}

	@userprog/pagedir.h

1 #iâdeà
USERPROG_PAGEDIR_H


3 
	#USERPROG_PAGEDIR_H


	)

5 
	~<¡dboŞ.h
>

6 
	~<¡dšt.h
>

8 
ušt32_t
 *
·gedœ_ü—‹
 ();

9 
·gedœ_de¡roy
 (
ušt32_t
 *
pd
);

10 
boŞ
 
·gedœ_£t_·ge
 (
ušt32_t
 *
pd
, *
u·ge
, *
k·ge
, boŞ 
rw
);

11 *
·gedœ_g‘_·ge
 (
ušt32_t
 *
pd
, cÚ¡ *
u·ge
);

12 
·gedœ_ş—r_·ge
 (
ušt32_t
 *
pd
, *
u·ge
);

13 
boŞ
 
·gedœ_is_dœty
 (
ušt32_t
 *
pd
, cÚ¡ *
u·ge
);

14 
·gedœ_£t_dœty
 (
ušt32_t
 *
pd
, cÚ¡ *
u·ge
, 
boŞ
 
dœty
);

15 
boŞ
 
·gedœ_is_acûs£d
 (
ušt32_t
 *
pd
, cÚ¡ *
u·ge
);

16 
·gedœ_£t_acûs£d
 (
ušt32_t
 *
pd
, cÚ¡ *
u·ge
, 
boŞ
 
acûs£d
);

17 
·gedœ_aùiv©e
 (
ušt32_t
 *
pd
);

	@userprog/process.c

1 
	~"u£½rog/´oûss.h
"

3 
	~<debug.h
>

4 
	~<š‰y³s.h
>

5 
	~<round.h
>

6 
	~<¡dio.h
>

7 
	~<¡dlib.h
>

8 
	~<¡ršg.h
>

9 
	~"u£½rog/gdt.h
"

10 
	~"u£½rog/·gedœ.h
"

11 
	~"u£½rog/tss.h
"

12 
	~"fesys/dœeùÜy.h
"

13 
	~"fesys/fe.h
"

14 
	~"fesys/fesys.h
"

15 
	~"th»ads/æags.h
"

16 
	~"th»ads/š™.h
"

17 
	~"th»ads/š‹¼u±.h
"

18 
	~"th»ads/·Îoc.h
"

19 
	~"th»ads/th»ad.h
"

20 
	~"th»ads/vaddr.h
"

22 
th»ad_func
 
¡¬t_´oûss
 
	gNO_RETURN
;

23 
boŞ
 
lßd
 (*
cmdlše
, (**
e
è(), **
e¥
);

29 
tid_t


30 
	$´oûss_execu‹
 (cÚ¡ *
fe_Çme
)

32 *
â_cİy
;

33 
tid_t
 
tid
;

37 
â_cİy
 = 
	`·Îoc_g‘_·ge
 (0);

38 ià(
â_cİy
 =ğ
NULL
)

39  
TID_ERROR
;

40 
	`¡¾ıy
 (
â_cİy
, 
fe_Çme
, 
PGSIZE
);

41 
th»ad
 *
t
 = 
	`th»ad_cu¼’t
();

42 if(
t
->
chd_£m­hÜe
 =ğ
NULL
){

43 
t
->
chd_£m­hÜe
 =

44 
	`£ma_š™
(
t
->
chd_£m­hÜe
,0);

52 
tid
 = 
	`th»ad_ü—‹
 (
fe_Çme
, 
PRI_DEFAULT
, 
¡¬t_´oûss
, 
â_cİy
);

53 ià(
tid
 =ğ
TID_ERROR
){

54 
	`·Îoc_ä“_·ge
 (
â_cİy
);

57  
tid
;

58 
	}
}

63 
	$¡¬t_´oûss
 (*
fe_Çme_
)

66 *
fe_Çme
 = 
fe_Çme_
;

67 
šŒ_äame
 
if_
;

68 
boŞ
 
sucûss
;

71 
	`mem£t
 (&
if_
, 0,  if_);

72 
if_
.
gs
 = if_.
fs
 = if_.
es
 = if_.
ds
 = if_.
ss
 = 
SEL_UDSEG
;

73 
if_
.
cs
 = 
SEL_UCSEG
;

74 
if_
.
eæags
 = 
FLAG_IF
 | 
FLAG_MBS
;

76 
sucûss
 = 
	`lßd
 (
fe_Çme
, &
if_
.
e
, &if_.
e¥
);

79 
	`·Îoc_ä“_·ge
 (
fe_Çme
);

80 ià(!
sucûss
)

81 
	`th»ad_ex™
 ();

89 
asm
 vŞ©("movÈ%0, %%e¥; jm°šŒ_ex™" : : "g" (&
if_
) : "memory");

90 
	`´štf
("nooooo..\n");

91 
	`NOT_REACHED
 ();

92 
	}
}

104 
	$´oûss_wa™
 (
tid_t
 
chd_tid
 
UNUSED
)

108 
	}
}

112 
	$´oûss_ex™
 ()

114 
th»ad
 *
cur
 = 
	`th»ad_cu¼’t
 ();

115 
ušt32_t
 *
pd
;

119 
pd
 = 
cur
->
·gedœ
;

120 ià(
pd
 !ğ
NULL
)

129 
cur
->
·gedœ
 = 
NULL
;

130 
	`·gedœ_aùiv©e
 (
NULL
);

131 
	`·gedœ_de¡roy
 (
pd
);

133 
	}
}

139 
	$´oûss_aùiv©e
 ()

141 
th»ad
 *
t
 = 
	`th»ad_cu¼’t
 ();

144 
	`·gedœ_aùiv©e
 (
t
->
·gedœ
);

148 
	`tss_upd©e
 ();

149 
	}
}

155 
ušt32_t
 
	tElf32_WÜd
, 
	tElf32_Addr
, 
	tElf32_Off
;

156 
ušt16_t
 
	tElf32_H®f
;

159 
	#PE32Wx
 
PRIx32


	)

160 
	#PE32Ax
 
PRIx32


	)

161 
	#PE32Ox
 
PRIx32


	)

162 
	#PE32Hx
 
PRIx16


	)

166 
	sElf32_Ehdr


168 
	me_id’t
[16];

169 
Elf32_H®f
 
	me_ty³
;

170 
Elf32_H®f
 
	me_machše
;

171 
Elf32_WÜd
 
	me_v”siÚ
;

172 
Elf32_Addr
 
	me_’Œy
;

173 
Elf32_Off
 
	me_phoff
;

174 
Elf32_Off
 
	me_shoff
;

175 
Elf32_WÜd
 
	me_æags
;

176 
Elf32_H®f
 
	me_ehsize
;

177 
Elf32_H®f
 
	me_ph’tsize
;

178 
Elf32_H®f
 
	me_phnum
;

179 
Elf32_H®f
 
	me_sh’tsize
;

180 
Elf32_H®f
 
	me_shnum
;

181 
Elf32_H®f
 
	me_sh¡ºdx
;

187 
	sElf32_Phdr


189 
Elf32_WÜd
 
	mp_ty³
;

190 
Elf32_Off
 
	mp_off£t
;

191 
Elf32_Addr
 
	mp_vaddr
;

192 
Elf32_Addr
 
	mp_·ddr
;

193 
Elf32_WÜd
 
	mp_fesz
;

194 
Elf32_WÜd
 
	mp_memsz
;

195 
Elf32_WÜd
 
	mp_æags
;

196 
Elf32_WÜd
 
	mp_®ign
;

200 
	#PT_NULL
 0

	)

201 
	#PT_LOAD
 1

	)

202 
	#PT_DYNAMIC
 2

	)

203 
	#PT_INTERP
 3

	)

204 
	#PT_NOTE
 4

	)

205 
	#PT_SHLIB
 5

	)

206 
	#PT_PHDR
 6

	)

207 
	#PT_STACK
 0x6474e551

	)

210 
	#PF_X
 1

	)

211 
	#PF_W
 2

	)

212 
	#PF_R
 4

	)

214 
boŞ
 
£tup_¡ack
 (**
e¥
, *
f’ame
);

215 
boŞ
 
v®id©e_£gm’t
 (cÚ¡ 
Elf32_Phdr
 *, 
fe
 *);

216 
boŞ
 
lßd_£gm’t
 (
fe
 *fe, 
off_t
 
ofs
, 
ušt8_t
 *
u·ge
,

217 
ušt32_t
 
»ad_by‹s
, ušt32_ˆ
z”o_by‹s
,

218 
boŞ
 
wr™abË
);

224 
boŞ


225 
lßd
 ( *
fe_Çme
, (**
e
è(), **
e¥
)

227 
th»ad
 *
t
 = 
	`th»ad_cu¼’t
 ();

228 
Elf32_Ehdr
 
ehdr
;

229 
fe
 *fğ
NULL
;

230 
off_t
 
fe_ofs
;

231 
boŞ
 
sucûss
 = 
çl£
;

232 
i
;

233 *
â_cİy
;

235 
t
->
·gedœ
 = 
	`·gedœ_ü—‹
 ();

236 ià(
t
->
·gedœ
 =ğ
NULL
)

237 
dÚe
;

238 
	`´oûss_aùiv©e
 ();

239 *
§ve_±r
;

240 
â_cİy
 = 
	`·Îoc_g‘_·ge
 (0);

241 ià(
â_cİy
 =ğ
NULL
)

242  
TID_ERROR
;

243 
	`¡¾ıy
 (
â_cİy
, 
fe_Çme
, 
PGSIZE
);

247 
	`¡¹ok_r
 (
fe_Çme
, " ", &
§ve_±r
);

256 
fe
 = 
	`fesys_İ’
 (
fe_Çme
);

257 ià(
fe
 =ğ
NULL
)

259 
	`´štf
 ("lßd: %s: o³Àçed\n", 
fe_Çme
);

260 
dÚe
;

264 ià(
	`fe_»ad
 (
fe
, &
ehdr
, ƒhdr) != ƒhdr

265 || 
	`memcmp
 (
ehdr
.
e_id’t
, "\177ELF\1\1\1", 7)

266 || 
ehdr
.
e_ty³
 != 2

267 || 
ehdr
.
e_machše
 != 3

268 || 
ehdr
.
e_v”siÚ
 != 1

269 || 
ehdr
.
e_ph’tsize
 !ğ (
Elf32_Phdr
)

270 || 
ehdr
.
e_phnum
 > 1024)

272 
	`´štf
 ("lßd: %s:ƒ¼Ü†ßdšgƒxecubË\n", 
fe_Çme
);

273 
dÚe
;

277 
fe_ofs
 = 
ehdr
.
e_phoff
;

278 
i
 = 0; i < 
ehdr
.
e_phnum
; i++)

280 
Elf32_Phdr
 
phdr
;

282 ià(
fe_ofs
 < 0 || fe_of > 
	`fe_Ëngth
 (
fe
))

283 
dÚe
;

284 
	`fe_£ek
 (
fe
, 
fe_ofs
);

286 ià(
	`fe_»ad
 (
fe
, &
phdr
, …hdr) != …hdr)

287 
dÚe
;

288 
fe_ofs
 +ğ 
phdr
;

289 
phdr
.
p_ty³
)

291 
PT_NULL
:

292 
PT_NOTE
:

293 
PT_PHDR
:

294 
PT_STACK
:

298 
PT_DYNAMIC
:

299 
PT_INTERP
:

300 
PT_SHLIB
:

301 
dÚe
;

302 
PT_LOAD
:

303 ià(
	`v®id©e_£gm’t
 (&
phdr
, 
fe
))

305 
boŞ
 
wr™abË
 = (
phdr
.
p_æags
 & 
PF_W
) != 0;

306 
ušt32_t
 
fe_·ge
 = 
phdr
.
p_off£t
 & ~
PGMASK
;

307 
ušt32_t
 
mem_·ge
 = 
phdr
.
p_vaddr
 & ~
PGMASK
;

308 
ušt32_t
 
·ge_off£t
 = 
phdr
.
p_vaddr
 & 
PGMASK
;

309 
ušt32_t
 
»ad_by‹s
, 
z”o_by‹s
;

310 ià(
phdr
.
p_fesz
 > 0)

314 
»ad_by‹s
 = 
·ge_off£t
 + 
phdr
.
p_fesz
;

315 
z”o_by‹s
 = (
	`ROUND_UP
 (
·ge_off£t
 + 
phdr
.
p_memsz
, 
PGSIZE
)

316 - 
»ad_by‹s
);

322 
»ad_by‹s
 = 0;

323 
z”o_by‹s
 = 
	`ROUND_UP
 (
·ge_off£t
 + 
phdr
.
p_memsz
, 
PGSIZE
);

325 ià(!
	`lßd_£gm’t
 (
fe
, 
fe_·ge
, (*è
mem_·ge
,

326 
»ad_by‹s
, 
z”o_by‹s
, 
wr™abË
))

327 
dÚe
;

330 
dÚe
;

336 ià(!
	`£tup_¡ack
 (
e¥
,
â_cİy
))

337 
dÚe
;

340 *
e
 = ((*è()è
ehdr
.
e_’Œy
;

342 
sucûss
 = 
Œue
;

343 
dÚe
:

345 
	`fe_şo£
 (
fe
);

346  
sucûss
;

347 
	}
}

351 
boŞ
 
š¡®l_·ge
 (*
u·ge
, *
k·ge
, boŞ 
wr™abË
);

355 
boŞ


356 
	$v®id©e_£gm’t
 (cÚ¡ 
Elf32_Phdr
 *
phdr
, 
fe
 *file)

359 ià((
phdr
->
p_off£t
 & 
PGMASK
è!ğÕhdr->
p_vaddr
 & PGMASK))

360  
çl£
;

363 ià(
phdr
->
p_off£t
 > (
Elf32_Off
è
	`fe_Ëngth
 (
fe
))

364  
çl£
;

367 ià(
phdr
->
p_memsz
 <…hdr->
p_fesz
)

368  
çl£
;

371 ià(
phdr
->
p_memsz
 == 0)

372  
çl£
;

376 ià(!
	`is_u£r_vaddr
 ((*è
phdr
->
p_vaddr
))

377  
çl£
;

378 ià(!
	`is_u£r_vaddr
 ((*è(
phdr
->
p_vaddr
 +…hdr->
p_memsz
)))

379  
çl£
;

383 ià(
phdr
->
p_vaddr
 +…hdr->
p_memsz
 <…hdr->p_vaddr)

384  
çl£
;

395  
Œue
;

396 
	}
}

412 
boŞ


413 
	$lßd_£gm’t
 (
fe
 *fe, 
off_t
 
ofs
, 
ušt8_t
 *
u·ge
,

414 
ušt32_t
 
»ad_by‹s
, ušt32_ˆ
z”o_by‹s
, 
boŞ
 
wr™abË
)

416 
	`ASSERT
 ((
»ad_by‹s
 + 
z”o_by‹s
è% 
PGSIZE
 == 0);

417 
	`ASSERT
 (
	`pg_ofs
 (
u·ge
) == 0);

418 
	`ASSERT
 (
ofs
 % 
PGSIZE
 == 0);

420 
	`fe_£ek
 (
fe
, 
ofs
);

421 
»ad_by‹s
 > 0 || 
z”o_by‹s
 > 0)

426 
size_t
 
·ge_»ad_by‹s
 = 
»ad_by‹s
 < 
PGSIZE
 ?„ead_bytes : PGSIZE;

427 
size_t
 
·ge_z”o_by‹s
 = 
PGSIZE
 - 
·ge_»ad_by‹s
;

430 
ušt8_t
 *
k·ge
 = 
	`·Îoc_g‘_·ge
 (
PAL_USER
);

431 ià(
k·ge
 =ğ
NULL
)

432  
çl£
;

435 ià(
	`fe_»ad
 (
fe
, 
k·ge
, 
·ge_»ad_by‹s
) != ()…age_read_bytes)

437 
	`·Îoc_ä“_·ge
 (
k·ge
);

438  
çl£
;

440 
	`mem£t
 (
k·ge
 + 
·ge_»ad_by‹s
, 0, 
·ge_z”o_by‹s
);

443 ià(!
	`š¡®l_·ge
 (
u·ge
, 
k·ge
, 
wr™abË
))

445 
	`·Îoc_ä“_·ge
 (
k·ge
);

446  
çl£
;

450 
»ad_by‹s
 -ğ
·ge_»ad_by‹s
;

451 
z”o_by‹s
 -ğ
·ge_z”o_by‹s
;

452 
u·ge
 +ğ
PGSIZE
;

454  
Œue
;

455 
	}
}

459 
boŞ


460 
	$£tup_¡ack
 (**
e¥
,*
f’ame
)

463 
ušt8_t
 *
k·ge
;

464 
boŞ
 
sucûss
 = 
çl£
;

465 *
tok’
, *
§ve_±r
;

466 *
¬r
[128];

467 
i
=0;
j
;
k
=0;

468 
k·ge
 = 
	`·Îoc_g‘_·ge
 (
PAL_USER
 | 
PAL_ZERO
);

469 ià(
k·ge
 !ğ
NULL
)

471 
sucûss
 = 
	`š¡®l_·ge
 (((
ušt8_t
 *è
PHYS_BASE
è- 
PGSIZE
, 
k·ge
, 
Œue
);

472 ià(
sucûss
){

475 
tok’
 = 
	`¡¹ok_r
 (
f’ame
, " ", &
§ve_±r
);ok’ !ğ
NULL
;

476 
tok’
 = 
	`¡¹ok_r
 (
NULL
, " ", &
§ve_±r
))

478 
¬r
[
i
]=
tok’
;

479 
i
++;}

480 
j
=
i
;

481 *
e¥
ğ
PHYS_BASE
;

482 ;
i
>1;i--){

485 
sz
ğ
	`¡¾’
(
¬r
[
i
-1]);

486 *
e¥
=*e¥-
sz
-1;

487 
	`¡¾ıy
(*
e¥
,
¬r
[
i
-1],
sz
+1);

488 
¬r
[100+
k
]ğ*
e¥
;

489 
k
++;

492 *
e¥
=*esp-4;

493 *(*)*
e¥
 =0;

494 *
e¥
=*esp-4;

495 *(*)*
e¥
 =0;

497 
i
=0;i<
j
-1;i++){

498 *
e¥
=*esp-4;

499 *(
ušŒ_t
 *)*
e¥
=(ušŒ_t)(
¬r
[100+
i
]);

501 *
e¥
 = *esp-4;

502 *(
ušŒ_t
 *)*
e¥
=(uintptr_t)(*esp+4);

503 *
e¥
= *esp-4;

504 *(*)*
e¥
=
k
;

505 *
e¥
=*esp -4;

510 
	`·Îoc_ä“_·ge
 (
k·ge
);

515  
sucûss
;

516 
	}
}

527 
boŞ


528 
	$š¡®l_·ge
 (*
u·ge
, *
k·ge
, 
boŞ
 
wr™abË
)

530 
th»ad
 *
t
 = 
	`th»ad_cu¼’t
 ();

534  (
	`·gedœ_g‘_·ge
 (
t
->
·gedœ
, 
u·ge
è=ğ
NULL


535 && 
	`·gedœ_£t_·ge
 (
t
->
·gedœ
, 
u·ge
, 
k·ge
, 
wr™abË
));

536 
	}
}

	@userprog/process.h

1 #iâdeà
USERPROG_PROCESS_H


3 
	#USERPROG_PROCESS_H


	)

5 
	~"th»ads/th»ad.h
"

7 
tid_t
 
´oûss_execu‹
 (cÚ¡ *
fe_Çme
);

8 
´oûss_wa™
 (
tid_t
);

9 
´oûss_ex™
 ();

10 
´oûss_aùiv©e
 ();

	@userprog/syscall.c

1 
	~"u£½rog/sysÿÎ.h
"

3 
	~<¡dio.h
>

4 
	~<sysÿÎ-Ä.h
>

5 
	~"th»ads/š‹¼u±.h
"

6 
	~"th»ads/th»ad.h
"

7 
	~"fesys/fe.h
"

8 
	~"th»ads/š™.h
"

10 
sysÿÎ_hªdËr
 (
šŒ_äame
 *);

11 
sysÿÎ_wr™e
 (
šŒ_äame
 *);

12 
sysÿÎ_exec
 (
šŒ_äame
 *);

15 
	$sysÿÎ_š™
 ()

17 
	`šŒ_»gi¡”_št
 (0x30, 3, 
INTR_ON
, 
sysÿÎ_hªdËr
, "syscall");

18 
	}
}

21 
	$sysÿÎ_hªdËr
 (
šŒ_äame
 *
f
 
UNUSED
)

23 *
¥
 = 
f
->
e¥
;

24 *
¥
) {

25 
SYS_EXIT
:

26 
f
->
—x
=0;

27 
	`th»ad_ex™
();

30 
SYS_HALT
:

32 
	`pow”_off
();

34 
SYS_EXEC
:

37 
SYS_WAIT
:

40 
SYS_CREATE
:

43 
SYS_REMOVE
:

46 
SYS_OPEN
:

49 
SYS_FILESIZE
:

52 
SYS_READ
:

55 
SYS_WRITE
:

56 
	`sysÿÎ_wr™e
(
f
);

59 
SYS_SEEK
:

62 
SYS_TELL
:

65 
SYS_CLOSE
:

70 
	`th»ad_ex™
 ();

72 
	}
}

74 
	$sysÿÎ_wr™e
(
šŒ_äame
 *
f
){

75 *
¥
 = 
f
->
e¥
;

76 
fd
ğ*(
¥
+1);

77 *
bufãr
 = (*)(*(
¥
+2));

78 
size
 = *(
¥
+3);

80 
th»ad
 *
t
 = 
	`th»ad_cu¼’t
();

82 if(
fd
==1){

83 
f
->
—x
 = 
size
;

84 
size
>100){

85 
	`putbuf
(
bufãr
,100);

86 
bufãr
=buffer+100;

87 
size
=size-100;

90 
	`putbuf
(
bufãr
,
size
);

92 if(
t
->
fes
[
fd
] !ğ
NULL
){

93 
f
->
—x
 = 
	`fe_wr™e
(
t
->
fes
[
fd
],
bufãr
, 
size
);

96 
f
->
—x
 =-1;

98 
	}
}

100 
	$sysÿÎ_exec
(
šŒ_äame
 *
f
){

103 
	}
}

	@userprog/syscall.h

1 #iâdeà
USERPROG_SYSCALL_H


3 
	#USERPROG_SYSCALL_H


	)

5 
sysÿÎ_š™
 ();

	@userprog/tss.c

1 
	~"u£½rog/tss.h
"

3 
	~<debug.h
>

4 
	~<¡ddef.h
>

5 
	~"u£½rog/gdt.h
"

6 
	~"th»ads/th»ad.h
"

7 
	~"th»ads/·Îoc.h
"

8 
	~"th»ads/vaddr.h
"

52 
	stss


54 
ušt16_t
 
	mback_lšk
, :16;

55 *
	me¥0
;

56 
ušt16_t
 
	mss0
, :16;

57 *
	me¥1
;

58 
ušt16_t
 
	mss1
, :16;

59 *
	me¥2
;

60 
ušt16_t
 
	mss2
, :16;

61 
ušt32_t
 
	mü3
;

62 (*
	me
) ();

63 
ušt32_t
 
	meæags
;

64 
ušt32_t
 
	m—x
, 
	mecx
, 
	medx
, 
	mebx
;

65 
ušt32_t
 
	me¥
, 
	mebp
, 
	mesi
, 
	medi
;

66 
ušt16_t
 
	mes
, :16;

67 
ušt16_t
 
	mcs
, :16;

68 
ušt16_t
 
	mss
, :16;

69 
ušt16_t
 
	mds
, :16;

70 
ušt16_t
 
	mfs
, :16;

71 
ušt16_t
 
	mgs
, :16;

72 
ušt16_t
 
	mldt
, :16;

73 
ušt16_t
 
	mŒaû
, 
	mb™m­
;

77 
tss
 *
	gtss
;

81 
	$tss_š™
 ()

86 
tss
 = 
	`·Îoc_g‘_·ge
 (
PAL_ASSERT
 | 
PAL_ZERO
);

87 
tss
->
ss0
 = 
SEL_KDSEG
;

88 
tss
->
b™m­
 = 0xdfff;

89 
	`tss_upd©e
 ();

90 
	}
}

93 
tss
 *

94 
	$tss_g‘
 ()

96 
	`ASSERT
 (
tss
 !ğ
NULL
);

97  
tss
;

98 
	}
}

103 
	$tss_upd©e
 ()

105 
	`ASSERT
 (
tss
 !ğ
NULL
);

106 
tss
->
e¥0
 = (
ušt8_t
 *è
	`th»ad_cu¼’t
 (è+ 
PGSIZE
;

107 
	}
}

	@userprog/tss.h

1 #iâdeà
USERPROG_TSS_H


3 
	#USERPROG_TSS_H


	)

5 
	~<¡dšt.h
>

7 
	gtss
;

8 
tss_š™
 ();

9 
tss
 *
tss_g‘
 ();

10 
tss_upd©e
 ();

	@/usr/include/ctype.h

23 #iâdef 
_CTYPE_H


24 
	#_CTYPE_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

29 
	g__BEGIN_DECLS


31 #iâdeà
_ISb™


40 
	~<’dŸn.h
>

41 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


42 
	#_ISb™
(
b™
è(1 << (b™))

	)

44 
	#_ISb™
(
b™
è((b™è< 8 ? ((1 << (b™)è<< 8è: ((1 << (b™)è>> 8))

	)

49 
	m_ISuµ”
 = 
_ISb™
 (0),

50 
	m_ISlow”
 = 
_ISb™
 (1),

51 
	m_IS®pha
 = 
_ISb™
 (2),

52 
	m_ISdig™
 = 
_ISb™
 (3),

53 
	m_ISxdig™
 = 
_ISb™
 (4),

54 
	m_IS¥aû
 = 
_ISb™
 (5),

55 
	m_IS´št
 = 
_ISb™
 (6),

56 
	m_ISg¿ph
 = 
_ISb™
 (7),

57 
	m_ISbÏnk
 = 
_ISb™
 (8),

58 
	m_ISúŒl
 = 
_ISb™
 (9),

59 
	m_ISpunù
 = 
_ISb™
 (10),

60 
	m_IS®num
 = 
_ISb™
 (11)

80 cÚ¡ **
	$__ùy³_b_loc
 ()

81 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

82 cÚ¡ 
__št32_t
 **
	$__ùy³_tŞow”_loc
 ()

83 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

84 cÚ¡ 
__št32_t
 **
	$__ùy³_touµ”_loc
 ()

85 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

88 #iâdeà
__ılu¥lus


89 
	#__isùy³
(
c
, 
ty³
) \

90 ((*
	`__ùy³_b_loc
 ())[(è(
c
)] & (è
ty³
)

	)

91 #–ià
defšed
 
__USE_EXTERN_INLINES


92 
	#__isùy³_f
(
ty³
) \

93 
__ex‹º_šlše
 \

94 
is
##
	`ty³
 (
__c
è
__THROW
 \

96  (*
	`__ùy³_b_loc
 ())[(è(
__c
)] & (è
_IS
##
ty³
; \

97 
	}

	)
}

100 
	#__i§scii
(
c
è(((cè& ~0x7fè=ğ0è

	)

101 
	#__tßscii
(
c
è((cè& 0x7fè

	)

103 
	#__exùy³
(
Çme
è
	`Çme
 (è
__THROW


	)

105 
__BEGIN_NAMESPACE_STD


111 
__exùy³
 (
i§Êum
);

112 
__exùy³
 (
i§Íha
);

113 
__exùy³
 (
isúŒl
);

114 
__exùy³
 (
isdig™
);

115 
__exùy³
 (
i¦ow”
);

116 
__exùy³
 (
isg¿ph
);

117 
__exùy³
 (
i¥ršt
);

118 
__exùy³
 (
i¥unù
);

119 
__exùy³
 (
is¥aû
);

120 
__exùy³
 (
isuµ”
);

121 
__exùy³
 (
isxdig™
);

125 
	$tŞow”
 (
__c
è
__THROW
;

128 
	$touµ”
 (
__c
è
__THROW
;

130 
__END_NAMESPACE_STD


134 #ifdef 
__USE_ISOC99


135 
__BEGIN_NAMESPACE_C99


137 
	`__exùy³
 (
isbÏnk
);

139 
__END_NAMESPACE_C99


142 #ifdeà
__USE_GNU


144 
	$isùy³
 (
__c
, 
__mask
è
__THROW
;

147 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


151 
	$i§scii
 (
__c
è
__THROW
;

155 
	$tßscii
 (
__c
è
__THROW
;

159 
	`__exùy³
 (
_touµ”
);

160 
	`__exùy³
 (
_tŞow”
);

164 
	#__tobody
(
c
, 
f
, 
a
, 
¬gs
) \

165 (
__ex‹nsiÚ__
 \

166 ({ 
__»s
; \

167 ià( (
c
) > 1) \

169 ià(
	`__butš_cÚ¡ªt_p
 (
c
)) \

171 
__c
 = (
c
); \

172 
__»s
 = 
__c
 < -128 || __ø> 255 ? __ø: (
a
)[__c]; \

175 
__»s
 = 
f
 
¬gs
; \

178 
__»s
 = (
a
)[(è(
c
)]; \

179 
__»s
; 
	}
}))

	)

181 #ià!
defšed
 
__NO_CTYPE


182 #ifdeà
__isùy³_f


183 
	$__isùy³_f
 (
®num
)

184 
	$__isùy³_f
 (
®pha
)

185 
	$__isùy³_f
 (
úŒl
)

186 
	$__isùy³_f
 (
dig™
)

187 
	$__isùy³_f
 (
low”
)

188 
	$__isùy³_f
 (
g¿ph
)

189 
	$__isùy³_f
 (
´št
)

190 
	$__isùy³_f
 (
punù
)

191 
	$__isùy³_f
 (
¥aû
)

192 
	$__isùy³_f
 (
uµ”
)

193 
	$__isùy³_f
 (
xdig™
)

194 #ifdeà
__USE_ISOC99


195 
	$__isùy³_f
 (
bÏnk
)

197 #–ià
defšed
 
__isùy³


198 
	#i§Êum
(
c
è
	`__isùy³
((c), 
_IS®num
)

	)

199 
	#i§Íha
(
c
è
	`__isùy³
((c), 
_IS®pha
)

	)

200 
	#isúŒl
(
c
è
	`__isùy³
((c), 
_ISúŒl
)

	)

201 
	#isdig™
(
c
è
	`__isùy³
((c), 
_ISdig™
)

	)

202 
	#i¦ow”
(
c
è
	`__isùy³
((c), 
_ISlow”
)

	)

203 
	#isg¿ph
(
c
è
	`__isùy³
((c), 
_ISg¿ph
)

	)

204 
	#i¥ršt
(
c
è
	`__isùy³
((c), 
_IS´št
)

	)

205 
	#i¥unù
(
c
è
	`__isùy³
((c), 
_ISpunù
)

	)

206 
	#is¥aû
(
c
è
	`__isùy³
((c), 
_IS¥aû
)

	)

207 
	#isuµ”
(
c
è
	`__isùy³
((c), 
_ISuµ”
)

	)

208 
	#isxdig™
(
c
è
	`__isùy³
((c), 
_ISxdig™
)

	)

209 #ifdeà
__USE_ISOC99


210 
	#isbÏnk
(
c
è
	`__isùy³
((c), 
_ISbÏnk
)

	)

214 #ifdeà
__USE_EXTERN_INLINES


215 
__ex‹º_šlše
 

216 
	`__NTH
 (
	$tŞow”
 (
__c
))

218  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_tŞow”_loc
 ())[__c] : __c;

219 
	}
}

221 
__ex‹º_šlše
 

222 
__NTH
 (
	$touµ”
 (
__c
))

224  
__c
 >ğ-128 && __ø< 256 ? (*
	`__ùy³_touµ”_loc
 ())[__c] : __c;

225 
	}
}

228 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


229 
	#tŞow”
(
c
è
	`__tobody
 (c, 
tŞow”
, *
	`__ùy³_tŞow”_loc
 (), (c))

	)

230 
	#touµ”
(
c
è
	`__tobody
 (c, 
touµ”
, *
	`__ùy³_touµ”_loc
 (), (c))

	)

233 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 || defšed 
__USE_XOPEN


234 
	#i§scii
(
c
è
	`__i§scii
 (c)

	)

235 
	#tßscii
(
c
è
	`__tßscii
 (c)

	)

237 
	#_tŞow”
(
c
è((è(*
	`__ùy³_tŞow”_loc
 ())[(è(c)])

	)

238 
	#_touµ”
(
c
è((è(*
	`__ùy³_touµ”_loc
 ())[(è(c)])

	)

244 #ifdeà
__USE_XOPEN2K8


258 
	~<xloÿË.h
>

262 
	#__isùy³_l
(
c
, 
ty³
, 
loÿË
) \

263 ((
loÿË
)->
__ùy³_b
[(è(
c
)] & (è
ty³
)

	)

265 
	#__exùy³_l
(
Çme
) \

266 
	`Çme
 (, 
__loÿË_t
è
__THROW


	)

272 
__exùy³_l
 (
i§Êum_l
);

273 
__exùy³_l
 (
i§Íha_l
);

274 
__exùy³_l
 (
isúŒl_l
);

275 
__exùy³_l
 (
isdig™_l
);

276 
__exùy³_l
 (
i¦ow”_l
);

277 
__exùy³_l
 (
isg¿ph_l
);

278 
__exùy³_l
 (
i¥ršt_l
);

279 
__exùy³_l
 (
i¥unù_l
);

280 
__exùy³_l
 (
is¥aû_l
);

281 
__exùy³_l
 (
isuµ”_l
);

282 
__exùy³_l
 (
isxdig™_l
);

284 
__exùy³_l
 (
isbÏnk_l
);

288 
	$__tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

289 
	$tŞow”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

292 
	$__touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

293 
	$touµ”_l
 (
__c
, 
__loÿË_t
 
__l
è
__THROW
;

295 #ià
__GNUC__
 >ğ2 && 
defšed
 
__OPTIMIZE__
 && !defšed 
__ılu¥lus


296 
	#__tŞow”_l
(
c
, 
loÿË
) \

297 
	`__tobody
 (
c
, 
__tŞow”_l
, (
loÿË
)->
__ùy³_tŞow”
, (c,†oÿË))

	)

298 
	#__touµ”_l
(
c
, 
loÿË
) \

299 
	`__tobody
 (
c
, 
__touµ”_l
, (
loÿË
)->
__ùy³_touµ”
, (c,†oÿË))

	)

300 
	#tŞow”_l
(
c
, 
loÿË
è
	`__tŞow”_l
 ((c), (loÿË))

	)

301 
	#touµ”_l
(
c
, 
loÿË
è
	`__touµ”_l
 ((c), (loÿË))

	)

305 #iâdeà
__NO_CTYPE


306 
	#__i§Êum_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®num
, (l))

	)

307 
	#__i§Íha_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS®pha
, (l))

	)

308 
	#__isúŒl_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISúŒl
, (l))

	)

309 
	#__isdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISdig™
, (l))

	)

310 
	#__i¦ow”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISlow”
, (l))

	)

311 
	#__isg¿ph_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISg¿ph
, (l))

	)

312 
	#__i¥ršt_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS´št
, (l))

	)

313 
	#__i¥unù_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISpunù
, (l))

	)

314 
	#__is¥aû_l
(
c
,
l
è
	`__isùy³_l
((c), 
_IS¥aû
, (l))

	)

315 
	#__isuµ”_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISuµ”
, (l))

	)

316 
	#__isxdig™_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISxdig™
, (l))

	)

318 
	#__isbÏnk_l
(
c
,
l
è
	`__isùy³_l
((c), 
_ISbÏnk
, (l))

	)

320 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


321 
	#__i§scii_l
(
c
,
l
è(Ö), 
	`__i§scii
 (c))

	)

322 
	#__tßscii_l
(
c
,
l
è(Ö), 
	`__tßscii
 (c))

	)

325 
	#i§Êum_l
(
c
,
l
è
	`__i§Êum_l
 ((c), (l))

	)

326 
	#i§Íha_l
(
c
,
l
è
	`__i§Íha_l
 ((c), (l))

	)

327 
	#isúŒl_l
(
c
,
l
è
	`__isúŒl_l
 ((c), (l))

	)

328 
	#isdig™_l
(
c
,
l
è
	`__isdig™_l
 ((c), (l))

	)

329 
	#i¦ow”_l
(
c
,
l
è
	`__i¦ow”_l
 ((c), (l))

	)

330 
	#isg¿ph_l
(
c
,
l
è
	`__isg¿ph_l
 ((c), (l))

	)

331 
	#i¥ršt_l
(
c
,
l
è
	`__i¥ršt_l
 ((c), (l))

	)

332 
	#i¥unù_l
(
c
,
l
è
	`__i¥unù_l
 ((c), (l))

	)

333 
	#is¥aû_l
(
c
,
l
è
	`__is¥aû_l
 ((c), (l))

	)

334 
	#isuµ”_l
(
c
,
l
è
	`__isuµ”_l
 ((c), (l))

	)

335 
	#isxdig™_l
(
c
,
l
è
	`__isxdig™_l
 ((c), (l))

	)

337 
	#isbÏnk_l
(
c
,
l
è
	`__isbÏnk_l
 ((c), (l))

	)

339 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC


340 
	#i§scii_l
(
c
,
l
è
	`__i§scii_l
 ((c), (l))

	)

341 
	#tßscii_l
(
c
,
l
è
	`__tßscii_l
 ((c), (l))

	)

348 
__END_DECLS


	@/usr/include/endian.h

18 #iâdef 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<ã©u»s.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<b™s/’dŸn.h
>

40 #iâdeà
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_BSD


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èLO, 
	)
HI

53 #–ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
èHI, 
	)
LO

58 #ià
defšed
 
__USE_BSD
 && !defšed 
__ASSEMBLER__


60 
	~<b™s/by‹sw­.h
>

62 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


63 
	#htobe16
(
x
è
	`__bsw­_16
 (x)

	)

64 
	#htŞe16
(
x
è(x)

	)

65 
	#be16toh
(
x
è
	`__bsw­_16
 (x)

	)

66 
	#Ë16toh
(
x
è(x)

	)

68 
	#htobe32
(
x
è
	`__bsw­_32
 (x)

	)

69 
	#htŞe32
(
x
è(x)

	)

70 
	#be32toh
(
x
è
	`__bsw­_32
 (x)

	)

71 
	#Ë32toh
(
x
è(x)

	)

73 #ià
__GLIBC_HAVE_LONG_LONG


74 
	#htobe64
(
x
è
	`__bsw­_64
 (x)

	)

75 
	#htŞe64
(
x
è(x)

	)

76 
	#be64toh
(
x
è
	`__bsw­_64
 (x)

	)

77 
	#Ë64toh
(
x
è(x)

	)

81 
	#htobe16
(
x
è(x)

	)

82 
	#htŞe16
(
x
è
	`__bsw­_16
 (x)

	)

83 
	#be16toh
(
x
è(x)

	)

84 
	#Ë16toh
(
x
è
	`__bsw­_16
 (x)

	)

86 
	#htobe32
(
x
è(x)

	)

87 
	#htŞe32
(
x
è
	`__bsw­_32
 (x)

	)

88 
	#be32toh
(
x
è(x)

	)

89 
	#Ë32toh
(
x
è
	`__bsw­_32
 (x)

	)

91 #ià
__GLIBC_HAVE_LONG_LONG


92 
	#htobe64
(
x
è(x)

	)

93 
	#htŞe64
(
x
è
	`__bsw­_64
 (x)

	)

94 
	#be64toh
(
x
è(x)

	)

95 
	#Ë64toh
(
x
è
	`__bsw­_64
 (x)

	)

	@/usr/include/inttypes.h

22 #iâdeà
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	~<¡dšt.h
>

30 #iâdeà
____gwch¬_t_defšed


31 #ifdeà
__ılu¥lus


32 
	#__gwch¬_t
 
wch¬_t


	)

33 #–ià
defšed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¬_t
;

36 
	#__Ãed_wch¬_t


	)

37 
	~<¡ddef.h
>

38 
wch¬_t
 
	t__gwch¬_t
;

40 
	#____gwch¬_t_defšed
 1

	)

46 #ià!
defšed
 
__ılu¥lus
 || defšed 
__STDC_FORMAT_MACROS


48 #ià
__WORDSIZE
 == 64

49 
	#__PRI64_PREFIX
 "l"

	)

50 
	#__PRIPTR_PREFIX
 "l"

	)

52 
	#__PRI64_PREFIX
 "Î"

	)

53 
	#__PRIPTR_PREFIX


	)

59 
	#PRId8
 "d"

	)

60 
	#PRId16
 "d"

	)

61 
	#PRId32
 "d"

	)

62 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdLEAST8
 "d"

	)

65 
	#PRIdLEAST16
 "d"

	)

66 
	#PRIdLEAST32
 "d"

	)

67 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

69 
	#PRIdFAST8
 "d"

	)

70 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

71 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

72 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

75 
	#PRIi8
 "i"

	)

76 
	#PRIi16
 "i"

	)

77 
	#PRIi32
 "i"

	)

78 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiLEAST8
 "i"

	)

81 
	#PRIiLEAST16
 "i"

	)

82 
	#PRIiLEAST32
 "i"

	)

83 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

85 
	#PRIiFAST8
 "i"

	)

86 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

87 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

88 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

91 
	#PRIo8
 "o"

	)

92 
	#PRIo16
 "o"

	)

93 
	#PRIo32
 "o"

	)

94 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoLEAST8
 "o"

	)

97 
	#PRIoLEAST16
 "o"

	)

98 
	#PRIoLEAST32
 "o"

	)

99 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

101 
	#PRIoFAST8
 "o"

	)

102 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

103 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

104 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

107 
	#PRIu8
 "u"

	)

108 
	#PRIu16
 "u"

	)

109 
	#PRIu32
 "u"

	)

110 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuLEAST8
 "u"

	)

113 
	#PRIuLEAST16
 "u"

	)

114 
	#PRIuLEAST32
 "u"

	)

115 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

117 
	#PRIuFAST8
 "u"

	)

118 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

119 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

120 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

123 
	#PRIx8
 "x"

	)

124 
	#PRIx16
 "x"

	)

125 
	#PRIx32
 "x"

	)

126 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxLEAST8
 "x"

	)

129 
	#PRIxLEAST16
 "x"

	)

130 
	#PRIxLEAST32
 "x"

	)

131 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

133 
	#PRIxFAST8
 "x"

	)

134 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

135 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

136 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

139 
	#PRIX8
 "X"

	)

140 
	#PRIX16
 "X"

	)

141 
	#PRIX32
 "X"

	)

142 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXLEAST8
 "X"

	)

145 
	#PRIXLEAST16
 "X"

	)

146 
	#PRIXLEAST32
 "X"

	)

147 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

149 
	#PRIXFAST8
 "X"

	)

150 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

151 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

152 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

156 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

157 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

158 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

159 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

160 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

161 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

165 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

166 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

167 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

168 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

169 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

170 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

176 
	#SCNd8
 "hhd"

	)

177 
	#SCNd16
 "hd"

	)

178 
	#SCNd32
 "d"

	)

179 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdLEAST8
 "hhd"

	)

182 
	#SCNdLEAST16
 "hd"

	)

183 
	#SCNdLEAST32
 "d"

	)

184 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

186 
	#SCNdFAST8
 "hhd"

	)

187 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

188 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

189 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

192 
	#SCNi8
 "hhi"

	)

193 
	#SCNi16
 "hi"

	)

194 
	#SCNi32
 "i"

	)

195 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiLEAST8
 "hhi"

	)

198 
	#SCNiLEAST16
 "hi"

	)

199 
	#SCNiLEAST32
 "i"

	)

200 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

202 
	#SCNiFAST8
 "hhi"

	)

203 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

204 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

205 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

208 
	#SCNu8
 "hhu"

	)

209 
	#SCNu16
 "hu"

	)

210 
	#SCNu32
 "u"

	)

211 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuLEAST8
 "hhu"

	)

214 
	#SCNuLEAST16
 "hu"

	)

215 
	#SCNuLEAST32
 "u"

	)

216 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

218 
	#SCNuFAST8
 "hhu"

	)

219 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

220 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

221 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

224 
	#SCNo8
 "hho"

	)

225 
	#SCNo16
 "ho"

	)

226 
	#SCNo32
 "o"

	)

227 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoLEAST8
 "hho"

	)

230 
	#SCNoLEAST16
 "ho"

	)

231 
	#SCNoLEAST32
 "o"

	)

232 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

234 
	#SCNoFAST8
 "hho"

	)

235 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

236 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

237 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

240 
	#SCNx8
 "hhx"

	)

241 
	#SCNx16
 "hx"

	)

242 
	#SCNx32
 "x"

	)

243 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxLEAST8
 "hhx"

	)

246 
	#SCNxLEAST16
 "hx"

	)

247 
	#SCNxLEAST32
 "x"

	)

248 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

250 
	#SCNxFAST8
 "hhx"

	)

251 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

252 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

253 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

257 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

258 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

259 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

260 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

261 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

264 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

265 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

266 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

267 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

268 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

273 
	g__BEGIN_DECLS


275 #ià
__WORDSIZE
 == 64

280 
	mquÙ
;

281 
	m»m
;

282 } 
	timaxdiv_t
;

289 
	mquÙ
;

290 
	m»m
;

291 } 
	timaxdiv_t
;

297 
štmax_t
 
	$imaxabs
 (
štmax_t
 
__n
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

300 
imaxdiv_t
 
	$imaxdiv
 (
štmax_t
 
__num”
, iÁmax_ˆ
__d’om
)

301 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

304 
štmax_t
 
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

305 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

308 
uštmax_t
 
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

309 ** 
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

312 
štmax_t
 
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

313 
__gwch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

314 
__THROW
;

317 
uštmax_t
 
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

318 
__gwch¬_t
 ** 
__»¡riù
 
__’d±r
, 
__ba£
)

319 
__THROW
;

321 #ifdeà
__USE_EXTERN_INLINES


323 #ià
__WORDSIZE
 == 64

325 
	$__¡¹Ş_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

326 **
__»¡riù
 
__’d±r
,

327 
__ba£
, 
__group
)

328 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

330 
__ex‹º_šlše
 
štmax_t


331 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

332 
ba£
))

334  
	`__¡¹Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

335 
	}
}

337 
	$__¡¹oul_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

338 ** 
__»¡riù
 
__’d±r
,

339 
__ba£
, 
__group
)

340 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

342 
__ex‹º_šlše
 
uštmax_t


343 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

344 
ba£
))

346  
	`__¡¹oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

347 
	}
}

349 
	$__wc¡Ş_š‹º®
 (cÚ¡ 
__gwch¬_t
 * 
__»¡riù
 
__ÅŒ
,

350 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

351 
__ba£
, 
__group
)

352 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

354 
__ex‹º_šlše
 
štmax_t


355 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

356 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

358  
	`__wc¡Ş_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

359 
	}
}

361 
	$__wc¡oul_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

362 
__»¡riù
 
__ÅŒ
,

363 
__gwch¬_t
 **

364 
__»¡riù
 
__’d±r
,

365 
__ba£
, 
__group
)

366 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

368 
__ex‹º_šlše
 
uštmax_t


369 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

370 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

372  
	`__wc¡oul_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

373 
	}
}

377 
__ex‹nsiÚ__


378 
	$__¡¹Şl_š‹º®
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

379 **
__»¡riù
 
__’d±r
,

380 
__ba£
, 
__group
)

381 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

383 
__ex‹º_šlše
 
štmax_t


384 
	`__NTH
 (
	$¡¹oimax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

385 
ba£
))

387  
	`__¡¹Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

388 
	}
}

390 
__ex‹nsiÚ__


391 
	$__¡¹ouÎ_š‹º®
 (const *

392 
__»¡riù
 
__ÅŒ
,

394 
__»¡riù
 
__’d±r
,

395 
__ba£
,

396 
__group
)

397 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

399 
__ex‹º_šlše
 
uštmax_t


400 
	`__NTH
 (
	$¡¹oumax
 (cÚ¡ *
__»¡riù
 
ÅŒ
, **__»¡riù 
’d±r
,

401 
ba£
))

403  
	`__¡¹ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

404 
	}
}

406 
__ex‹nsiÚ__


407 
	$__wc¡Şl_š‹º®
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
__ÅŒ
,

408 
__gwch¬_t
 **
__»¡riù
 
__’d±r
,

409 
__ba£
, 
__group
)

410 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

412 
__ex‹º_šlše
 
štmax_t


413 
	`__NTH
 (
	$wc¡oimax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

414 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

416  
	`__wc¡Şl_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

417 
	}
}

420 
__ex‹nsiÚ__


421 
	$__wc¡ouÎ_š‹º®
 (cÚ¡ 
__gwch¬_t
 *

422 
__»¡riù
 
__ÅŒ
,

423 
__gwch¬_t
 **

424 
__»¡riù
 
__’d±r
,

425 
__ba£
,

426 
__group
)

427 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

429 
__ex‹º_šlše
 
uštmax_t


430 
	`__NTH
 (
	$wc¡oumax
 (cÚ¡ 
__gwch¬_t
 *
__»¡riù
 
ÅŒ
,

431 
__gwch¬_t
 **
__»¡riù
 
’d±r
, 
ba£
))

433  
	`__wc¡ouÎ_š‹º®
 (
ÅŒ
, 
’d±r
, 
ba£
, 0);

434 
	}
}

439 
	g__END_DECLS


	@/usr/include/limits.h

23 #iâdeà
_LIBC_LIMITS_H_


24 
	#_LIBC_LIMITS_H_
 1

	)

26 
	~<ã©u»s.h
>

32 
	#MB_LEN_MAX
 16

	)

37 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

42 #iâdeà
_LIMITS_H


43 
	#_LIMITS_H
 1

	)

45 
	~<b™s/wÜdsize.h
>

54 
	#CHAR_BIT
 8

	)

57 
	#SCHAR_MIN
 (-128)

	)

58 
	#SCHAR_MAX
 127

	)

61 
	#UCHAR_MAX
 255

	)

64 #ifdeà
__CHAR_UNSIGNED__


65 
	#CHAR_MIN
 0

	)

66 
	#CHAR_MAX
 
UCHAR_MAX


	)

68 
	#CHAR_MIN
 
SCHAR_MIN


	)

69 
	#CHAR_MAX
 
SCHAR_MAX


	)

73 
	#SHRT_MIN
 (-32768)

	)

74 
	#SHRT_MAX
 32767

	)

77 
	#USHRT_MAX
 65535

	)

80 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

81 
	#INT_MAX
 2147483647

	)

84 
	#UINT_MAX
 4294967295U

	)

87 #ià
__WORDSIZE
 == 64

88 
	#LONG_MAX
 9223372036854775807L

	)

90 
	#LONG_MAX
 2147483647L

	)

92 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

95 #ià
__WORDSIZE
 == 64

96 
	#ULONG_MAX
 18446744073709551615UL

	)

98 
	#ULONG_MAX
 4294967295UL

	)

101 #ifdeà
__USE_ISOC99


104 
	#LLONG_MAX
 9223372036854775807LL

	)

105 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

108 
	#ULLONG_MAX
 18446744073709551615ULL

	)

122 #ià
defšed
 
__GNUC__
 && !defšed 
_GCC_LIMITS_H_


124 #šşude_Ãxˆ<
lim™s
.
h
>

130 #ià
defšed
 
__USE_ISOC99
 && defšed 
__GNUC__


131 #iâdeà
LLONG_MIN


132 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

134 #iâdeà
LLONG_MAX


135 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

137 #iâdeà
ULLONG_MAX


138 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

142 #ifdef 
__USE_POSIX


144 
	~<b™s/posix1_lim.h
>

147 #ifdef 
__USE_POSIX2


148 
	~<b™s/posix2_lim.h
>

151 #ifdef 
__USE_XOPEN


152 
	~<b™s/xİ’_lim.h
>

	@/usr/include/stdint.h

22 #iâdeà
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	~<b™s/wch¬.h
>

27 
	~<b™s/wÜdsize.h
>

34 #iâdeà
__št8_t_defšed


35 
	#__št8_t_defšed


	)

36 sigÃd 
	tšt8_t
;

37 
	tšt16_t
;

38 
	tšt32_t
;

39 #ià
__WORDSIZE
 == 64

40 
	tšt64_t
;

42 
__ex‹nsiÚ__


43 
	tšt64_t
;

48 
	tušt8_t
;

49 
	tušt16_t
;

50 #iâdeà
__ušt32_t_defšed


51 
	tušt32_t
;

52 
	#__ušt32_t_defšed


	)

54 #ià
__WORDSIZE
 == 64

55 
	tušt64_t
;

57 
__ex‹nsiÚ__


58 
	tušt64_t
;

65 sigÃd 
	tšt_Ëa¡8_t
;

66 
	tšt_Ëa¡16_t
;

67 
	tšt_Ëa¡32_t
;

68 #ià
__WORDSIZE
 == 64

69 
	tšt_Ëa¡64_t
;

71 
__ex‹nsiÚ__


72 
	tšt_Ëa¡64_t
;

76 
	tušt_Ëa¡8_t
;

77 
	tušt_Ëa¡16_t
;

78 
	tušt_Ëa¡32_t
;

79 #ià
__WORDSIZE
 == 64

80 
	tušt_Ëa¡64_t
;

82 
__ex‹nsiÚ__


83 
	tušt_Ëa¡64_t
;

90 sigÃd 
	tšt_ç¡8_t
;

91 #ià
__WORDSIZE
 == 64

92 
	tšt_ç¡16_t
;

93 
	tšt_ç¡32_t
;

94 
	tšt_ç¡64_t
;

96 
	tšt_ç¡16_t
;

97 
	tšt_ç¡32_t
;

98 
__ex‹nsiÚ__


99 
	tšt_ç¡64_t
;

103 
	tušt_ç¡8_t
;

104 #ià
__WORDSIZE
 == 64

105 
	tušt_ç¡16_t
;

106 
	tušt_ç¡32_t
;

107 
	tušt_ç¡64_t
;

109 
	tušt_ç¡16_t
;

110 
	tušt_ç¡32_t
;

111 
__ex‹nsiÚ__


112 
	tušt_ç¡64_t
;

117 #ià
__WORDSIZE
 == 64

118 #iâdeà
__šŒ_t_defšed


119 
	tšŒ_t
;

120 
	#__šŒ_t_defšed


	)

122 
	tušŒ_t
;

124 #iâdeà
__šŒ_t_defšed


125 
	tšŒ_t
;

126 
	#__šŒ_t_defšed


	)

128 
	tušŒ_t
;

133 #ià
__WORDSIZE
 == 64

134 
	tštmax_t
;

135 
	tuštmax_t
;

137 
__ex‹nsiÚ__


138 
	tštmax_t
;

139 
__ex‹nsiÚ__


140 
	tuštmax_t
;

146 #ià!
defšed
 
__ılu¥lus
 || defšed 
__STDC_LIMIT_MACROS


148 #ià
__WORDSIZE
 == 64

149 
	#__INT64_C
(
c
èø## 
L


	)

150 
	#__UINT64_C
(
c
èø## 
UL


	)

152 
	#__INT64_C
(
c
èø## 
LL


	)

153 
	#__UINT64_C
(
c
èø## 
ULL


	)

159 
	#INT8_MIN
 (-128)

	)

160 
	#INT16_MIN
 (-32767-1)

	)

161 
	#INT32_MIN
 (-2147483647-1)

	)

162 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

164 
	#INT8_MAX
 (127)

	)

165 
	#INT16_MAX
 (32767)

	)

166 
	#INT32_MAX
 (2147483647)

	)

167 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

170 
	#UINT8_MAX
 (255)

	)

171 
	#UINT16_MAX
 (65535)

	)

172 
	#UINT32_MAX
 (4294967295U)

	)

173 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

177 
	#INT_LEAST8_MIN
 (-128)

	)

178 
	#INT_LEAST16_MIN
 (-32767-1)

	)

179 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

180 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

182 
	#INT_LEAST8_MAX
 (127)

	)

183 
	#INT_LEAST16_MAX
 (32767)

	)

184 
	#INT_LEAST32_MAX
 (2147483647)

	)

185 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

188 
	#UINT_LEAST8_MAX
 (255)

	)

189 
	#UINT_LEAST16_MAX
 (65535)

	)

190 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

191 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

195 
	#INT_FAST8_MIN
 (-128)

	)

196 #ià
__WORDSIZE
 == 64

197 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

198 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

200 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

201 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

203 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

205 
	#INT_FAST8_MAX
 (127)

	)

206 #ià
__WORDSIZE
 == 64

207 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

208 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

210 
	#INT_FAST16_MAX
 (2147483647)

	)

211 
	#INT_FAST32_MAX
 (2147483647)

	)

213 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

216 
	#UINT_FAST8_MAX
 (255)

	)

217 #ià
__WORDSIZE
 == 64

218 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

219 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

221 
	#UINT_FAST16_MAX
 (4294967295U)

	)

222 
	#UINT_FAST32_MAX
 (4294967295U)

	)

224 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

228 #ià
__WORDSIZE
 == 64

229 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

230 
	#INTPTR_MAX
 (9223372036854775807L)

	)

231 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

233 
	#INTPTR_MIN
 (-2147483647-1)

	)

234 
	#INTPTR_MAX
 (2147483647)

	)

235 
	#UINTPTR_MAX
 (4294967295U)

	)

240 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

242 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

245 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

251 #ià
__WORDSIZE
 == 64

252 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

253 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

255 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

256 
	#PTRDIFF_MAX
 (2147483647)

	)

260 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

261 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

264 #ià
__WORDSIZE
 == 64

265 
	#SIZE_MAX
 (18446744073709551615UL)

	)

267 
	#SIZE_MAX
 (4294967295U)

	)

271 #iâdeà
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

286 #ià!
defšed
 
__ılu¥lus
 || defšed 
__STDC_CONSTANT_MACROS


289 
	#INT8_C
(
c
è
	)
c

290 
	#INT16_C
(
c
è
	)
c

291 
	#INT32_C
(
c
è
	)
c

292 #ià
__WORDSIZE
 == 64

293 
	#INT64_C
(
c
èø## 
L


	)

295 
	#INT64_C
(
c
èø## 
LL


	)

299 
	#UINT8_C
(
c
è
	)
c

300 
	#UINT16_C
(
c
è
	)
c

301 
	#UINT32_C
(
c
èø## 
U


	)

302 #ià
__WORDSIZE
 == 64

303 
	#UINT64_C
(
c
èø## 
UL


	)

305 
	#UINT64_C
(
c
èø## 
ULL


	)

309 #ià
__WORDSIZE
 == 64

310 
	#INTMAX_C
(
c
èø## 
L


	)

311 
	#UINTMAX_C
(
c
èø## 
UL


	)

313 
	#INTMAX_C
(
c
èø## 
LL


	)

314 
	#UINTMAX_C
(
c
èø## 
ULL


	)

	@/usr/include/stdio.h

23 #iâdeà
_STDIO_H


25 #ià!
defšed
 
__Ãed_FILE
 && !defšed 
__Ãed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


31 
	#__Ãed_size_t


	)

32 
	#__Ãed_NULL


	)

33 
	~<¡ddef.h
>

35 
	~<b™s/ty³s.h
>

36 
	#__Ãed_FILE


	)

37 
	#__Ãed___FILE


	)

41 #ià!
defšed
 
__FILE_defšed
 && defšed 
__Ãed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #ià
defšed
 
__USE_LARGEFILE64
 || defšed 
__USE_SVID
 || defšed 
__USE_POSIX
 \

51 || 
defšed
 
	g__USE_BSD
 || defšed 
	g__USE_ISOC99
 || defšed 
	g__USE_XOPEN
 \

52 || 
defšed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_defšed
 1

	)

58 #undeà
__Ãed_FILE


61 #ià!
defšed
 
____FILE_defšed
 && defšed 
__Ãed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_defšed
 1

	)

68 #undeà
__Ãed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


77 #ifdeà
__GNUC__


78 #iâdeà
_VA_LIST_DEFINED


79 
_G_va_li¡
 
	tva_li¡
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<¡d¬g.h
>

87 #ifdeà
__USE_XOPEN2K8


88 #iâdeà
__off_t_defšed


89 #iâdeà
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_defšed


	)

96 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_defšed


	)

101 #iâdeà
__ssize_t_defšed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_defšed


	)

108 
__BEGIN_NAMESPACE_STD


109 #iâdeà
__USE_FILE_OFFSET64


110 
_G_åos_t
 
	tåos_t
;

112 
_G_åos64_t
 
	tåos_t
;

114 
__END_NAMESPACE_STD


115 #ifdeà
__USE_LARGEFILE64


116 
_G_åos64_t
 
	tåos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #iâdeà
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #iâdeà
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifdeà
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


151 
	#P_tmpdœ
 "/tmp"

	)

164 
	~<b™s/¡dio_lim.h
>

168 
_IO_FILE
 *
¡dš
;

169 
_IO_FILE
 *
¡dout
;

170 
_IO_FILE
 *
¡d”r
;

172 
	#¡dš
 
¡dš


	)

173 
	#¡dout
 
¡dout


	)

174 
	#¡d”r
 
¡d”r


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$»move
 (cÚ¡ *
__f’ame
è
__THROW
;

180 
	$»Çme
 (cÚ¡ *
__Şd
, cÚ¡ *
__Ãw
è
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifdeà
__USE_ATFILE


185 
	$»Çm—t
 (
__Şdfd
, cÚ¡ *
__Şd
, 
__Ãwfd
,

186 cÚ¡ *
__Ãw
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #iâdeà
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfe
 (è
__wur
;

197 #ifdeà
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfe
, (), 
tmpfe64
è
__wur
;

200 
	#tmpfe
 
tmpfe64


	)

204 #ifdeà
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfe64
 (è
__wur
;

209 *
	$tm²am
 (*
__s
è
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifdeà
__USE_MISC


215 *
	$tm²am_r
 (*
__s
è
__THROW
 
__wur
;

219 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


227 *
	$‹m²am
 (cÚ¡ *
__dœ
, cÚ¡ *
__pfx
)

228 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`fşo£
 (
FILE
 *
__¡»am
);

242 
	`fæush
 (
FILE
 *
__¡»am
);

243 
__END_NAMESPACE_STD


245 #ifdeà
__USE_MISC


252 
	`fæush_uÆocked
 (
FILE
 *
__¡»am
);

255 #ifdeà
__USE_GNU


262 
	`fşo£®l
 ();

266 
__BEGIN_NAMESPACE_STD


267 #iâdeà
__USE_FILE_OFFSET64


272 
FILE
 *
	$fİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

273 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

278 
FILE
 *
	$äeİ’
 (cÚ¡ *
__»¡riù
 
__f’ame
,

279 cÚ¡ *
__»¡riù
 
__modes
,

280 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

282 #ifdeà
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
fİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

284 cÚ¡ *
__»¡riù
 
__modes
), 
fİ’64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
äeİ’
, (cÚ¡ *
__»¡riù
 
__f’ame
,

287 cÚ¡ *
__»¡riù
 
__modes
,

288 
FILE
 *
__»¡riù
 
__¡»am
), 
äeİ’64
)

289 
__wur
;

291 
	#fİ’
 
fİ’64


	)

292 
	#äeİ’
 
äeİ’64


	)

295 
__END_NAMESPACE_STD


296 #ifdeà
__USE_LARGEFILE64


297 
FILE
 *
	$fİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

298 cÚ¡ *
__»¡riù
 
__modes
è
__wur
;

299 
FILE
 *
	$äeİ’64
 (cÚ¡ *
__»¡riù
 
__f’ame
,

300 cÚ¡ *
__»¡riù
 
__modes
,

301 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fdİ’
 (
__fd
, cÚ¡ *
__modes
è
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$fİ’cook›
 (*
__»¡riù
 
__magic_cook›
,

313 cÚ¡ *
__»¡riù
 
__modes
,

314 
_IO_cook›_io_funùiÚs_t
 
__io_funcs
è
__THROW
 
__wur
;

317 #ifdeà
__USE_XOPEN2K8


319 
FILE
 *
	$fmemİ’
 (*
__s
, 
size_t
 
__Ën
, cÚ¡ *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$İ’_mem¡»am
 (**
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
è
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

337 
__modes
, 
size_t
 
__n
è
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_BSD


343 
	$£tbufãr
 (
FILE
 *
__»¡riù
 
__¡»am
, *__»¡riù 
__buf
,

344 
size_t
 
__size
è
__THROW
;

347 
	$£šebuf
 (
FILE
 *
__¡»am
è
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`årštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

357 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

362 
	`´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

364 
	$¥rštf
 (*
__»¡riù
 
__s
,

365 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROWNL
;

371 
	`vårštf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

372 
_G_va_li¡
 
__¬g
);

377 
	`v´štf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
);

379 
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

380 
_G_va_li¡
 
__¬g
è
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

387 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

388 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

390 
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__maxËn
,

391 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

392 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifdeà
__USE_GNU


399 
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__f
,

400 
_G_va_li¡
 
__¬g
)

401 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 0))è
__wur
;

402 
	$__a¥rštf
 (**
__»¡riù
 
__±r
,

403 cÚ¡ *
__»¡riù
 
__fmt
, ...)

404 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

405 
	$a¥rštf
 (**
__»¡riù
 
__±r
,

406 cÚ¡ *
__»¡riù
 
__fmt
, ...)

407 
__THROWNL
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 2, 3))è
__wur
;

410 #ifdeà
__USE_XOPEN2K8


412 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
,

413 
_G_va_li¡
 
__¬g
)

414 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

415 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

416 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

426 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

431 
	$sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

433 
	$ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

434 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

436 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

437 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

438 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

439 #ifdeà
__REDIRECT


443 
	`__REDIRECT
 (
fsÿnf
, (
FILE
 *
__»¡riù
 
__¡»am
,

444 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

445 
__isoc99_fsÿnf
è
__wur
;

446 
	`__REDIRECT
 (
sÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

447 
__isoc99_sÿnf
è
__wur
;

448 
	`__REDIRECT_NTH
 (
ssÿnf
, (cÚ¡ *
__»¡riù
 
__s
,

449 cÚ¡ *
__»¡riù
 
__fÜm©
, ...),

450 
__isoc99_ssÿnf
);

452 
	$__isoc99_fsÿnf
 (
FILE
 *
__»¡riù
 
__¡»am
,

453 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

454 
	$__isoc99_sÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__wur
;

455 
	$__isoc99_ssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

456 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

457 
	#fsÿnf
 
__isoc99_fsÿnf


	)

458 
	#sÿnf
 
__isoc99_sÿnf


	)

459 
	#ssÿnf
 
__isoc99_ssÿnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fÜm©
,

472 
_G_va_li¡
 
__¬g
)

473 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

479 
	$vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

480 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

483 
	$vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

484 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
)

485 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

487 #ià!
defšed
 
__USE_GNU
 \

488 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

489 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

490 #ifdeà
__REDIRECT


494 
	`__REDIRECT
 (
vfsÿnf
,

495 (
FILE
 *
__»¡riù
 
__s
,

496 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__¬g
),

497 
__isoc99_vfsÿnf
)

498 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 2, 0))è
__wur
;

499 
	`__REDIRECT
 (
vsÿnf
, (cÚ¡ *
__»¡riù
 
__fÜm©
,

500 
_G_va_li¡
 
__¬g
), 
__isoc99_vsÿnf
)

501 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__sÿnf__
, 1, 0))è
__wur
;

502 
	`__REDIRECT_NTH
 (
vssÿnf
,

503 (cÚ¡ *
__»¡riù
 
__s
,

504 cÚ¡ *
__»¡riù
 
__fÜm©
,

505 
_G_va_li¡
 
__¬g
), 
__isoc99_vssÿnf
)

506 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__sÿnf__
, 2, 0)));

508 
	$__isoc99_vfsÿnf
 (
FILE
 *
__»¡riù
 
__s
,

509 cÚ¡ *
__»¡riù
 
__fÜm©
,

510 
_G_va_li¡
 
__¬g
è
__wur
;

511 
	$__isoc99_vsÿnf
 (cÚ¡ *
__»¡riù
 
__fÜm©
,

512 
_G_va_li¡
 
__¬g
è
__wur
;

513 
	$__isoc99_vssÿnf
 (cÚ¡ *
__»¡riù
 
__s
,

514 cÚ¡ *
__»¡riù
 
__fÜm©
,

515 
_G_va_li¡
 
__¬g
è
__THROW
;

516 
	#vfsÿnf
 
__isoc99_vfsÿnf


	)

517 
	#vsÿnf
 
__isoc99_vsÿnf


	)

518 
	#vssÿnf
 
__isoc99_vssÿnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fg‘c
 (
FILE
 *
__¡»am
);

532 
	`g‘c
 (
FILE
 *
__¡»am
);

538 
	`g‘ch¬
 ();

539 
__END_NAMESPACE_STD


543 
	#g‘c
(
_å
è
	`_IO_g‘c
 (_å)

	)

545 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


550 
	`g‘c_uÆocked
 (
FILE
 *
__¡»am
);

551 
	`g‘ch¬_uÆocked
 ();

554 #ifdeà
__USE_MISC


561 
	`fg‘c_uÆocked
 (
FILE
 *
__¡»am
);

565 
__BEGIN_NAMESPACE_STD


573 
	`åutc
 (
__c
, 
FILE
 *
__¡»am
);

574 
	`putc
 (
__c
, 
FILE
 *
__¡»am
);

580 
	`putch¬
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_å
è
	`_IO_putc
 (_ch, _å)

	)

587 #ifdeà
__USE_MISC


594 
	`åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

597 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


602 
	`putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
);

603 
	`putch¬_uÆocked
 (
__c
);

607 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_MISC
 \

608 || (
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
)

610 
	`g‘w
 (
FILE
 *
__¡»am
);

613 
	`putw
 (
__w
, 
FILE
 *
__¡»am
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

623 
__wur
;

625 #ià!
defšed
 
__USE_ISOC11
 \

626 || (
defšed
 
__ılu¥lus
 && __cplusplus <= 201103L)

638 *
	$g‘s
 (*
__s
è
__wur
 
__©Œibu‹_d•»ÿ‹d__
;

640 
__END_NAMESPACE_STD


642 #ifdeà
__USE_GNU


649 *
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
,

650 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

666 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

667 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

668 
_IO_ssize_t
 
	$g‘d–im
 (**
__»¡riù
 
__lš•Œ
,

669 
size_t
 *
__»¡riù
 
__n
, 
__d–im™”
,

670 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

678 
_IO_ssize_t
 
	$g‘lše
 (**
__»¡riù
 
__lš•Œ
,

679 
size_t
 *
__»¡riù
 
__n
,

680 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`åuts
 (cÚ¡ *
__»¡riù
 
__s
, 
FILE
 *__»¡riù 
__¡»am
);

695 
	`puts
 (cÚ¡ *
__s
);

702 
	`ung‘c
 (
__c
, 
FILE
 *
__¡»am
);

709 
size_t
 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

715 
size_t
 
	`fwr™e
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

716 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifdeà
__USE_GNU


726 
	`åuts_uÆocked
 (cÚ¡ *
__»¡riù
 
__s
,

727 
FILE
 *
__»¡riù
 
__¡»am
);

730 #ifdeà
__USE_MISC


737 
size_t
 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

739 
size_t
 
	`fwr™e_uÆocked
 (cÚ¡ *
__»¡riù
 
__±r
, size_ˆ
__size
,

740 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__¡»am
, 
__off
, 
__wh’û
);

754 
	$á–l
 (
FILE
 *
__¡»am
è
__wur
;

759 
	`»wšd
 (
FILE
 *
__¡»am
);

760 
__END_NAMESPACE_STD


767 #ià
defšed
 
__USE_LARGEFILE
 || defšed 
__USE_XOPEN2K


768 #iâdeà
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__¡»am
, 
__off_t
 
__off
, 
__wh’û
);

778 
__off_t
 
	$á–lo
 (
FILE
 *
__¡»am
è
__wur
;

780 #ifdeà
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
á–lo
, (
FILE
 *
__¡»am
), 
á–lo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#á–lo
 
á–lo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #iâdeà
__USE_FILE_OFFSET64


798 
	`fg‘pos
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos_t
 *__»¡riù 
__pos
);

803 
	`f£os
 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
);

805 #ifdeà
__REDIRECT


806 
	`__REDIRECT
 (
fg‘pos
, (
FILE
 *
__»¡riù
 
__¡»am
,

807 
åos_t
 *
__»¡riù
 
__pos
), 
fg‘pos64
);

808 
	`__REDIRECT
 (
f£os
,

809 (
FILE
 *
__¡»am
, cÚ¡ 
åos_t
 *
__pos
), 
f£os64
);

811 
	#fg‘pos
 
fg‘pos64


	)

812 
	#f£os
 
f£os64


	)

815 
__END_NAMESPACE_STD


817 #ifdeà
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__¡»am
, 
__off64_t
 
__off
, 
__wh’û
);

819 
__off64_t
 
	$á–lo64
 (
FILE
 *
__¡»am
è
__wur
;

820 
	`fg‘pos64
 (
FILE
 *
__»¡riù
 
__¡»am
, 
åos64_t
 *__»¡riù 
__pos
);

821 
	`f£os64
 (
FILE
 *
__¡»am
, cÚ¡ 
åos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$ş—»¼
 (
FILE
 *
__¡»am
è
__THROW
;

828 
	$ãof
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

830 
	$ã¼Ü
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifdeà
__USE_MISC


835 
	$ş—»¼_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
;

836 
	$ãof_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

837 
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`³¼Ü
 (cÚ¡ *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<b™s/sys_”¾i¡.h
>

856 #ifdef 
__USE_POSIX


858 
	$f’o
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

861 #ifdeà
__USE_MISC


863 
	$f’o_uÆocked
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

867 #ià(
defšed
 
__USE_POSIX2
 || defšed 
__USE_SVID
 || defšed 
__USE_BSD
 || \

868 
defšed
 
__USE_MISC
)

873 
FILE
 *
	$pİ’
 (cÚ¡ *
__commªd
, cÚ¡ *
__modes
è
__wur
;

879 
	`pşo£
 (
FILE
 *
__¡»am
);

883 #ifdef 
__USE_POSIX


885 *
	$ù”mid
 (*
__s
è
__THROW
;

889 #ifdeà
__USE_XOPEN


891 *
	`cu£rid
 (*
__s
);

895 #ifdef 
__USE_GNU


896 
ob¡ack
;

899 
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

900 cÚ¡ *
__»¡riù
 
__fÜm©
, ...)

901 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 3)));

902 
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

903 cÚ¡ *
__»¡riù
 
__fÜm©
,

904 
_G_va_li¡
 
__¬gs
)

905 
__THROWNL
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 2, 0)));

909 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


913 
	$æockfe
 (
FILE
 *
__¡»am
è
__THROW
;

917 
	$árylockfe
 (
FILE
 *
__¡»am
è
__THROW
 
__wur
;

920 
	$fuÆockfe
 (
FILE
 *
__¡»am
è
__THROW
;

923 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


927 
	#__Ãed_g‘İt


	)

928 
	~<g‘İt.h
>

933 #ifdeà
__USE_EXTERN_INLINES


934 
	~<b™s/¡dio.h
>

936 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__ex‹º_®ways_šlše


937 
	~<b™s/¡dio2.h
>

939 #ifdeà
__LDBL_COMPAT


940 
	~<b™s/¡dio-ldbl.h
>

943 
__END_DECLS


	@/usr/include/stdlib.h

22 #iâdef 
_STDLIB_H


24 
	~<ã©u»s.h
>

27 
	#__Ãed_size_t


	)

28 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


29 
	#__Ãed_wch¬_t


	)

30 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

34 
	g__BEGIN_DECLS


36 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


37 
	#_STDLIB_H
 1

	)

39 #ià(
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
è&& !defšed 
_SYS_WAIT_H


41 
	~<b™s/wa™æags.h
>

42 
	~<b™s/wa™¡©us.h
>

44 #ifdeà
__USE_BSD


49 #ià
defšed
 
__GNUC__
 && !defšed 
__ılu¥lus


50 
	#__WAIT_INT
(
¡©us
) \

51 (
	`__ex‹nsiÚ__
 (((uniÚ { 
	`__ty³of
(
¡©us
è
__š
; 
__i
; }) \

52 { .
__š
 = (
¡©us
è}).
__i
))

	)

54 
	#__WAIT_INT
(
¡©us
è(*(*è&(¡©us))

	)

62 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2 || defšed 
__ılu¥lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
wa™
 *
	m__u±r
;

70 *
	m__Œ
;

71 } 
	t__WAIT_STATUS
 
	t__©Œibu‹__
 ((
	t__Œª¥¬’t_uniÚ__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
¡©us
è(¡©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
¡©us
è
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (¡©us))

	)

85 
	#WTERMSIG
(
¡©us
è
	`__WTERMSIG
 (
	`__WAIT_INT
 (¡©us))

	)

86 
	#WSTOPSIG
(
¡©us
è
	`__WSTOPSIG
 (
	`__WAIT_INT
 (¡©us))

	)

87 
	#WIFEXITED
(
¡©us
è
	`__WIFEXITED
 (
	`__WAIT_INT
 (¡©us))

	)

88 
	#WIFSIGNALED
(
¡©us
è
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (¡©us))

	)

89 
	#WIFSTOPPED
(
¡©us
è
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (¡©us))

	)

90 #ifdeà
__WIFCONTINUED


91 
	#WIFCONTINUED
(
¡©us
è
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (¡©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquÙ
;

100 
	m»m
;

101 } 
	tdiv_t
;

104 #iâdeà
__ldiv_t_defšed


107 
	mquÙ
;

108 
	m»m
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_defšed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__Îdiv_t_defšed


115 
__BEGIN_NAMESPACE_C99


117 
__ex‹nsiÚ__
 struct

119 
	mquÙ
;

120 
	m»m
;

121 } 
	tÎdiv_t
;

122 
	#__Îdiv_t_defšed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__ùy³_g‘_mb_cur_max
 ())

	)

139 
size_t
 
	$__ùy³_g‘_mb_cur_max
 (è
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (cÚ¡ *
__ÅŒ
)

145 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

147 
	$©oi
 (cÚ¡ *
__ÅŒ
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

150 
	$©Ş
 (cÚ¡ *
__ÅŒ
)

151 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

152 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

155 
__BEGIN_NAMESPACE_C99


157 
__ex‹nsiÚ__
 
	$©Şl
 (cÚ¡ *
__ÅŒ
)

158 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$¡¹od
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

165 **
__»¡riù
 
__’d±r
)

166 
__THROW
 
	`__nÚnuÎ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$¡¹of
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

173 **
__»¡riù
 
__’d±r
è
__THROW
 
	`__nÚnuÎ
 ((1));

175 
	$¡¹Şd
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

176 **
__»¡riù
 
__’d±r
)

177 
__THROW
 
	`__nÚnuÎ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$¡¹Ş
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

184 **
__»¡riù
 
__’d±r
, 
__ba£
)

185 
__THROW
 
	`__nÚnuÎ
 ((1));

187 
	$¡¹oul
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

188 **
__»¡riù
 
__’d±r
, 
__ba£
)

189 
__THROW
 
	`__nÚnuÎ
 ((1));

190 
__END_NAMESPACE_STD


192 #ià
defšed
 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_BSD


194 
__ex‹nsiÚ__


195 
	$¡¹oq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

196 **
__»¡riù
 
__’d±r
, 
__ba£
)

197 
__THROW
 
	`__nÚnuÎ
 ((1));

199 
__ex‹nsiÚ__


200 
	$¡¹ouq
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

201 **
__»¡riù
 
__’d±r
, 
__ba£
)

202 
__THROW
 
	`__nÚnuÎ
 ((1));

205 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GLIBC_HAVE_LONG_LONG
 && defšed 
__USE_MISC
)

206 
__BEGIN_NAMESPACE_C99


208 
__ex‹nsiÚ__


209 
	$¡¹Şl
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

210 **
__»¡riù
 
__’d±r
, 
__ba£
)

211 
__THROW
 
	`__nÚnuÎ
 ((1));

213 
__ex‹nsiÚ__


214 
	$¡¹ouÎ
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

215 **
__»¡riù
 
__’d±r
, 
__ba£
)

216 
__THROW
 
	`__nÚnuÎ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifdeà
__USE_GNU


235 
	~<xloÿË.h
>

239 
	$¡¹Ş_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

240 **
__»¡riù
 
__’d±r
, 
__ba£
,

241 
__loÿË_t
 
__loc
è
__THROW
 
	`__nÚnuÎ
 ((1, 4));

243 
	$¡¹oul_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

244 **
__»¡riù
 
__’d±r
,

245 
__ba£
, 
__loÿË_t
 
__loc
)

246 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

248 
__ex‹nsiÚ__


249 
	$¡¹Şl_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

250 **
__»¡riù
 
__’d±r
, 
__ba£
,

251 
__loÿË_t
 
__loc
)

252 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

254 
__ex‹nsiÚ__


255 
	$¡¹ouÎ_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

256 **
__»¡riù
 
__’d±r
,

257 
__ba£
, 
__loÿË_t
 
__loc
)

258 
__THROW
 
	`__nÚnuÎ
 ((1, 4));

260 
	$¡¹od_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

261 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

262 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

264 
	$¡¹of_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

265 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

266 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

268 
	$¡¹Şd_l
 (cÚ¡ *
__»¡riù
 
__ÅŒ
,

269 **
__»¡riù
 
__’d±r
,

270 
__loÿË_t
 
__loc
)

271 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

275 #ifdeà
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__ex‹º_šlše
 

278 
	`__NTH
 (
	$©oi
 (cÚ¡ *
__ÅŒ
))

280  (è
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

281 
	}
}

282 
__ex‹º_šlše
 

283 
__NTH
 (
	$©Ş
 (cÚ¡ *
__ÅŒ
))

285  
	`¡¹Ş
 (
__ÅŒ
, (**è
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__ex‹nsiÚ__
 
__ex‹º_šlše
 

292 
__NTH
 (
	$©Şl
 (cÚ¡ *
__ÅŒ
))

294  
	`¡¹Şl
 (
__ÅŒ
, (**è
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
è
__THROW
 
__wur
;

308 
	$a64l
 (cÚ¡ *
__s
)

309 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1)è
__wur
;

313 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_BSD


314 
	~<sys/ty³s.h
>

321 
	$¿ndom
 (è
__THROW
;

324 
	$¤ªdom
 (
__£ed
è
__THROW
;

330 *
	$š™¡©e
 (
__£ed
, *
__¡©ebuf
,

331 
size_t
 
__¡©–’
è
__THROW
 
	`__nÚnuÎ
 ((2));

335 *
	$£t¡©e
 (*
__¡©ebuf
è
__THROW
 
	`__nÚnuÎ
 ((1));

338 #ifdeà
__USE_MISC


343 
	s¿ndom_d©a


345 
št32_t
 *
åŒ
;

346 
št32_t
 *
½Œ
;

347 
št32_t
 *
¡©e
;

348 
¿nd_ty³
;

349 
¿nd_deg
;

350 
¿nd_£p
;

351 
št32_t
 *
’d_±r
;

354 
	$¿ndom_r
 (
¿ndom_d©a
 *
__»¡riù
 
__buf
,

355 
št32_t
 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

357 
	$¤ªdom_r
 (
__£ed
, 
¿ndom_d©a
 *
__buf
)

358 
__THROW
 
	`__nÚnuÎ
 ((2));

360 
	$š™¡©e_r
 (
__£ed
, *
__»¡riù
 
__¡©ebuf
,

361 
size_t
 
__¡©–’
,

362 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

363 
__THROW
 
	`__nÚnuÎ
 ((2, 4));

365 
	$£t¡©e_r
 (*
__»¡riù
 
__¡©ebuf
,

366 
¿ndom_d©a
 *
__»¡riù
 
__buf
)

367 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$¿nd
 (è
__THROW
;

376 
	$¤ªd
 (
__£ed
è
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifdeà
__USE_POSIX


381 
	$¿nd_r
 (*
__£ed
è
__THROW
;

385 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


389 
	$d¿nd48
 (è
__THROW
;

390 
	$”ªd48
 (
__xsubi
[3]è
__THROW
 
	`__nÚnuÎ
 ((1));

393 
	$Ìªd48
 (è
__THROW
;

394 
	$Äªd48
 (
__xsubi
[3])

395 
__THROW
 
	`__nÚnuÎ
 ((1));

398 
	$m¿nd48
 (è
__THROW
;

399 
	$j¿nd48
 (
__xsubi
[3])

400 
__THROW
 
	`__nÚnuÎ
 ((1));

403 
	$¤ªd48
 (
__£edv®
è
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__nÚnuÎ
 ((1));

406 
	$lcÚg48
 (
__·¿m
[7]è
__THROW
 
	`__nÚnuÎ
 ((1));

408 #ifdeà
__USE_MISC


412 
	sd¿nd48_d©a


414 
__x
[3];

415 
__Şd_x
[3];

416 
__c
;

417 
__š™
;

418 
__a
;

422 
	$d¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

423 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

424 
	$”ªd48_r
 (
__xsubi
[3],

425 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

426 *
__»¡riù
 
__»suÉ
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

429 
	$Ìªd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

430 *
__»¡riù
 
__»suÉ
)

431 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

432 
	$Äªd48_r
 (
__xsubi
[3],

433 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

434 *
__»¡riù
 
__»suÉ
)

435 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

438 
	$m¿nd48_r
 (
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

439 *
__»¡riù
 
__»suÉ
)

440 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

441 
	$j¿nd48_r
 (
__xsubi
[3],

442 
d¿nd48_d©a
 *
__»¡riù
 
__bufãr
,

443 *
__»¡riù
 
__»suÉ
)

444 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

447 
	$¤ªd48_r
 (
__£edv®
, 
d¿nd48_d©a
 *
__bufãr
)

448 
__THROW
 
	`__nÚnuÎ
 ((2));

450 
	$£ed48_r
 (
__£ed16v
[3],

451 
d¿nd48_d©a
 *
__bufãr
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

453 
	$lcÚg48_r
 (
__·¿m
[7],

454 
d¿nd48_d©a
 *
__bufãr
)

455 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

461 #iâdeà
__m®loc_ªd_ÿÎoc_defšed


462 
	#__m®loc_ªd_ÿÎoc_defšed


	)

463 
__BEGIN_NAMESPACE_STD


465 *
	$m®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

467 *
	$ÿÎoc
 (
size_t
 
__nmemb
, size_ˆ
__size
)

468 
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

469 
__END_NAMESPACE_STD


472 #iâdeà
__Ãed_m®loc_ªd_ÿÎoc


473 
__BEGIN_NAMESPACE_STD


479 *
	$»®loc
 (*
__±r
, 
size_t
 
__size
)

480 
__THROW
 
__©Œibu‹_w¬n_unu£d_»suÉ__
;

482 
	$ä“
 (*
__±r
è
__THROW
;

483 
__END_NAMESPACE_STD


485 #ifdef 
__USE_MISC


487 
	$cä“
 (*
__±r
è
__THROW
;

490 #ià
defšed
 
__USE_GNU
 || defšed 
__USE_BSD
 || defšed 
__USE_MISC


491 
	~<®loÿ.h
>

494 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K
) \

495 || 
defšed
 
__USE_BSD


497 *
	$v®loc
 (
size_t
 
__size
è
__THROW
 
__©Œibu‹_m®loc__
 
__wur
;

500 #ifdeà
__USE_XOPEN2K


502 
	$posix_mem®ign
 (**
__mem±r
, 
size_t
 
__®ignm’t
, size_ˆ
__size
)

503 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

506 #ifdeà
__USE_ISOC11


508 *
	$®igÃd_®loc
 (
size_t
 
__®ignm’t
, size_ˆ
__size
)

509 
__THROW
 
__wur
 
	`__©Œibu‹__
 ((
__m®loc__
, 
	`__®loc_size__
 (2)));

512 
__BEGIN_NAMESPACE_STD


514 
	$abÜt
 (è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

518 
	`©ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

520 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


522 #ifdeà
__ılu¥lus


523 "C++" 
	`©_quick_ex™
 ((*
__func
) ())

524 
__THROW
 
	`__asm
 ("©_quick_ex™"è
	`__nÚnuÎ
 ((1));

526 
	`©_quick_ex™
 ((*
__func
è()è
__THROW
 
	`__nÚnuÎ
 ((1));

529 
__END_NAMESPACE_STD


531 #ifdef 
__USE_MISC


534 
	`Ú_ex™
 ((*
__func
è(
__¡©us
, *
__¬g
), *__arg)

535 
__THROW
 
	`__nÚnuÎ
 ((1));

538 
__BEGIN_NAMESPACE_STD


542 
	$ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

544 #ià
defšed
 
__USE_ISOC11
 || defšed 
__USE_ISOCXX11


548 
	$quick_ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

550 
__END_NAMESPACE_STD


552 #ifdeà
__USE_ISOC99


553 
__BEGIN_NAMESPACE_C99


556 
	$_Ex™
 (
__¡©us
è
__THROW
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

557 
__END_NAMESPACE_C99


561 
__BEGIN_NAMESPACE_STD


563 *
	$g‘’v
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

564 
__END_NAMESPACE_STD


566 #ifdeà
__USE_GNU


569 *
	$£cu»_g‘’v
 (cÚ¡ *
__Çme
)

570 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

573 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


577 
	$pu‹nv
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

580 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K


583 
	$£‹nv
 (cÚ¡ *
__Çme
, cÚ¡ *
__v®ue
, 
__»¶aû
)

584 
__THROW
 
	`__nÚnuÎ
 ((2));

587 
	$un£‹nv
 (cÚ¡ *
__Çme
è
__THROW
 
	`__nÚnuÎ
 ((1));

590 #ifdef 
__USE_MISC


594 
	$ş—»nv
 (è
__THROW
;

598 #ià
defšed
 
__USE_MISC
 \

599 || (
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
)

605 *
	$mk‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1));

608 #ià
defšed
 
__USE_MISC
 || defšed 
__USE_XOPEN_EXTENDED
 \

609 || 
defšed
 
__USE_XOPEN2K8


618 #iâdeà
__USE_FILE_OFFSET64


619 
	$mk¡emp
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

621 #ifdeà
__REDIRECT


622 
	`__REDIRECT
 (
mk¡emp
, (*
__‹m¶©e
), 
mk¡emp64
)

623 
	`__nÚnuÎ
 ((1)è
__wur
;

625 
	#mk¡emp
 
mk¡emp64


	)

628 #ifdeà
__USE_LARGEFILE64


629 
	$mk¡emp64
 (*
__‹m¶©e
è
	`__nÚnuÎ
 ((1)è
__wur
;

633 #ifdeà
__USE_MISC


640 #iâdeà
__USE_FILE_OFFSET64


641 
	$mk¡emps
 (*
__‹m¶©e
, 
__suffixËn
è
	`__nÚnuÎ
 ((1)è
__wur
;

643 #ifdeà
__REDIRECT


644 
	`__REDIRECT
 (
mk¡emps
, (*
__‹m¶©e
, 
__suffixËn
),

645 
mk¡emps64
è
	`__nÚnuÎ
 ((1)è
__wur
;

647 
	#mk¡emps
 
mk¡emps64


	)

650 #ifdeà
__USE_LARGEFILE64


651 
	$mk¡emps64
 (*
__‹m¶©e
, 
__suffixËn
)

652 
	`__nÚnuÎ
 ((1)è
__wur
;

656 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN2K8


662 *
	$mkd‹mp
 (*
__‹m¶©e
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

665 #ifdeà
__USE_GNU


672 #iâdeà
__USE_FILE_OFFSET64


673 
	$mko¡emp
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

675 #ifdeà
__REDIRECT


676 
	`__REDIRECT
 (
mko¡emp
, (*
__‹m¶©e
, 
__æags
), 
mko¡emp64
)

677 
	`__nÚnuÎ
 ((1)è
__wur
;

679 
	#mko¡emp
 
mko¡emp64


	)

682 #ifdeà
__USE_LARGEFILE64


683 
	$mko¡emp64
 (*
__‹m¶©e
, 
__æags
è
	`__nÚnuÎ
 ((1)è
__wur
;

692 #iâdeà
__USE_FILE_OFFSET64


693 
	$mko¡emps
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

694 
	`__nÚnuÎ
 ((1)è
__wur
;

696 #ifdeà
__REDIRECT


697 
	`__REDIRECT
 (
mko¡emps
, (*
__‹m¶©e
, 
__suffixËn
,

698 
__æags
), 
mko¡emps64
)

699 
	`__nÚnuÎ
 ((1)è
__wur
;

701 
	#mko¡emps
 
mko¡emps64


	)

704 #ifdeà
__USE_LARGEFILE64


705 
	$mko¡emps64
 (*
__‹m¶©e
, 
__suffixËn
, 
__æags
)

706 
	`__nÚnuÎ
 ((1)è
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy¡em
 (cÚ¡ *
__commªd
è
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ÿnÚiÿlize_fe_Çme
 (cÚ¡ *
__Çme
)

724 
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

727 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


733 *
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
,

734 *
__»¡riù
 
__»sŞved
è
__THROW
 
__wur
;

739 #iâdeà
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com·r_â_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com·r_â_t
 
	tcom·risÚ_â_t
;

747 #ifdeà
__USE_GNU


748 (*
	t__com·r_d_â_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¬ch
 (cÚ¡ *
__key
, cÚ¡ *
__ba£
,

755 
size_t
 
__nmemb
, size_ˆ
__size
, 
__com·r_â_t
 
__com·r
)

756 
	`__nÚnuÎ
 ((1, 2, 5)è
__wur
;

760 
	$qsÜt
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

761 
__com·r_â_t
 
__com·r
è
	`__nÚnuÎ
 ((1, 4));

762 #ifdeà
__USE_GNU


763 
	$qsÜt_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_ˆ
__size
,

764 
__com·r_d_â_t
 
__com·r
, *
__¬g
)

765 
	`__nÚnuÎ
 ((1, 4));

770 
	$abs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

771 
	$Ïbs
 (
__x
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

772 
__END_NAMESPACE_STD


774 #ifdeà
__USE_ISOC99


775 
__ex‹nsiÚ__
 
	$Îabs
 (
__x
)

776 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

780 
__BEGIN_NAMESPACE_STD


784 
div_t
 
	$div
 (
__num”
, 
__d’om
)

785 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

786 
ldiv_t
 
	$ldiv
 (
__num”
, 
__d’om
)

787 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

788 
__END_NAMESPACE_STD


790 #ifdeà
__USE_ISOC99


791 
__BEGIN_NAMESPACE_C99


792 
__ex‹nsiÚ__
 
Îdiv_t
 
	$Îdiv
 (
__num”
,

793 
__d’om
)

794 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
)è
__wur
;

795 
__END_NAMESPACE_C99


799 #ià(
defšed
 
__USE_XOPEN_EXTENDED
 && !defšed 
__USE_XOPEN2K8
) \

800 || 
defšed
 
__USE_SVID


807 *
	$ecvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

808 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

813 *
	$fcvt
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

814 *
__»¡riù
 
__sign
è
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

819 *
	$gcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

820 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

823 #ifdeà
__USE_MISC


825 *
	$qecvt
 (
__v®ue
, 
__ndig™
,

826 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

827 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

828 *
	$qfcvt
 (
__v®ue
, 
__ndig™
,

829 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
)

830 
__THROW
 
	`__nÚnuÎ
 ((3, 4)è
__wur
;

831 *
	$qgcvt
 (
__v®ue
, 
__ndig™
, *
__buf
)

832 
__THROW
 
	`__nÚnuÎ
 ((3)è
__wur
;

837 
	$ecvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

838 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

839 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

840 
	$fcvt_r
 (
__v®ue
, 
__ndig™
, *
__»¡riù
 
__deıt
,

841 *
__»¡riù
 
__sign
, *__»¡riù 
__buf
,

842 
size_t
 
__Ën
è
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

844 
	$qecvt_r
 (
__v®ue
, 
__ndig™
,

845 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

846 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

847 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

848 
	$qfcvt_r
 (
__v®ue
, 
__ndig™
,

849 *
__»¡riù
 
__deıt
, *__»¡riù 
__sign
,

850 *
__»¡riù
 
__buf
, 
size_t
 
__Ën
)

851 
__THROW
 
	`__nÚnuÎ
 ((3, 4, 5));

856 
__BEGIN_NAMESPACE_STD


859 
	$mbËn
 (cÚ¡ *
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

862 
	$mbtowc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

863 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
 
__wur
;

866 
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
è
__THROW
 
__wur
;

870 
size_t
 
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__pwcs
,

871 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
è
__THROW
;

873 
size_t
 
	$wc¡ombs
 (*
__»¡riù
 
__s
,

874 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__pwcs
, 
size_t
 
__n
)

875 
__THROW
;

876 
__END_NAMESPACE_STD


879 #ifdeà
__USE_SVID


884 
	$½m©ch
 (cÚ¡ *
__»¥Ú£
è
__THROW
 
	`__nÚnuÎ
 ((1)è
__wur
;

888 #ià
defšed
 
__USE_XOPEN_EXTENDED
 || defšed 
__USE_XOPEN2K8


895 
	$g‘subİt
 (**
__»¡riù
 
__İtiÚp
,

896 *cÚ¡ *
__»¡riù
 
__tok’s
,

897 **
__»¡riù
 
__v®u•
)

898 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3)è
__wur
;

902 #ifdeà
__USE_XOPEN


904 
	$£tkey
 (cÚ¡ *
__key
è
__THROW
 
	`__nÚnuÎ
 ((1));

910 #ifdeà
__USE_XOPEN2KXSI


912 
	$posix_İ’±
 (
__oæag
è
__wur
;

915 #ifdeà
__USE_XOPEN


920 
	$g¿Á±
 (
__fd
è
__THROW
;

924 
	$uÆock±
 (
__fd
è
__THROW
;

929 *
	$±¢ame
 (
__fd
è
__THROW
 
__wur
;

932 #ifdeà
__USE_GNU


936 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
)

937 
__THROW
 
	`__nÚnuÎ
 ((2));

940 
	`g‘±
 ();

943 #ifdeà
__USE_BSD


947 
	$g‘lßdavg
 (
__lßdavg
[], 
__ÃËm
)

948 
__THROW
 
	`__nÚnuÎ
 ((1));

951 
	~<b™s/¡dlib-æßt.h
>

954 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


955 
	~<b™s/¡dlib.h
>

957 #ifdeà
__LDBL_COMPAT


958 
	~<b™s/¡dlib-ldbl.h
>

962 #undeà
__Ãed_m®loc_ªd_ÿÎoc


964 
__END_DECLS


	@/usr/include/string.h

22 #iâdef 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


30 
	#__Ãed_size_t


	)

31 
	#__Ãed_NULL


	)

32 
	~<¡ddef.h
>

35 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

43 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

46 *
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

47 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN


54 *
	$memcıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

65 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

69 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

74 cÚ¡ *
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

77 #ifdeà
__OPTIMIZE__


78 
__ex‹º_®ways_šlše
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
è
__THROW


81  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

84 
__ex‹º_®ways_šlše
 const *

85 
	`memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
è
__THROW


87  
	`__butš_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifdeà
__USE_GNU


100 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$¿wmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

103 "C++" cÚ¡ *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("¿wmemchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

106 *
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

107 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

111 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

114 "C++" cÚ¡ *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

117 *
	$memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

126 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

128 *
	$¡ºıy
 (*
__»¡riù
 
__de¡
,

129 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

130 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

133 *
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

134 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

136 *
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

137 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

140 
	$¡rcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

141 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

143 
	$¡ºcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

147 
	$¡rcŞl
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

148 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

150 
size_t
 
	$¡rxäm
 (*
__»¡riù
 
__de¡
,

151 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
 
	`__nÚnuÎ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifdeà
__USE_XOPEN2K8


159 
	~<xloÿË.h
>

162 
	$¡rcŞl_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
__loÿË_t
 
__l
)

163 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

165 
size_t
 
	$¡rxäm_l
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

166 
__loÿË_t
 
__l
è
__THROW
 
	`__nÚnuÎ
 ((2, 4));

169 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED
 \

170 || 
defšed
 
__USE_XOPEN2K8


172 *
	$¡rdup
 (cÚ¡ *
__s
)

173 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

179 #ià
defšed
 
__USE_XOPEN2K8


180 *
	$¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

181 
__THROW
 
__©Œibu‹_m®loc__
 
	`__nÚnuÎ
 ((1));

184 #ià
defšed
 
__USE_GNU
 && defšed 
__GNUC__


186 
	#¡rdu·
(
s
) \

187 (
__ex‹nsiÚ__
 \

189 cÚ¡ *
__Şd
 = (
s
); \

190 
size_t
 
__Ën
 = 
	`¡¾’
 (
__Şd
) + 1; \

191 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
); \

192 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

193 
	}
}))

	)

196 
	#¡ºdu·
(
s
, 
n
) \

197 (
__ex‹nsiÚ__
 \

199 cÚ¡ *
__Şd
 = (
s
); \

200 
size_t
 
__Ën
 = 
	`¡ºËn
 (
__Şd
, (
n
)); \

201 *
__Ãw
 = (*è
	`__butš_®loÿ
 (
__Ën
 + 1); \

202 
__Ãw
[
__Ën
] = '\0'; \

203 (*è
	`memıy
 (
__Ãw
, 
__Şd
, 
__Ën
); \

204 }))

	)

207 
	g__BEGIN_NAMESPACE_STD


209 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


212 *
¡rchr
 (*
__s
, 
__c
)

213 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

214 cÚ¡ *
¡rchr
 (cÚ¡ *
__s
, 
__c
)

215 
__THROW
 
__asm
 ("¡rchr"è
__©Œibu‹_pu»__
 
__nÚnuÎ
 ((1));

217 #ifdeà
__OPTIMIZE__


218 
__ex‹º_®ways_šlše
 *

219 
¡rchr
 (*
__s
, 
__c
è
	g__THROW


221  
__butš_¡rchr
 (
__s
, 
__c
);

224 
__ex‹º_®ways_šlše
 const *

225 
¡rchr
 (cÚ¡ *
__s
, 
__c
è
	g__THROW


227  
__butš_¡rchr
 (
__s
, 
__c
);

232 *
	$¡rchr
 (cÚ¡ *
__s
, 
__c
)

233 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

236 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


239 *
	`¡¼chr
 (*
__s
, 
__c
)

240 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

241 cÚ¡ *
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
)

242 
__THROW
 
	`__asm
 ("¡¼chr"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

244 #ifdeà
__OPTIMIZE__


245 
__ex‹º_®ways_šlše
 *

246 
	`¡¼chr
 (*
__s
, 
__c
è
__THROW


248  
	`__butš_¡¼chr
 (
__s
, 
__c
);

251 
__ex‹º_®ways_šlše
 const *

252 
	`¡¼chr
 (cÚ¡ *
__s
, 
__c
è
__THROW


254  
	`__butš_¡¼chr
 (
__s
, 
__c
);

257 
	}
}

259 *
	$¡¼chr
 (cÚ¡ *
__s
, 
__c
)

260 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

262 
__END_NAMESPACE_STD


264 #ifdeà
__USE_GNU


267 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


268 "C++" *
	$¡rchºul
 (*
__s
, 
__c
)

269 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

270 "C++" cÚ¡ *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

271 
__THROW
 
	`__asm
 ("¡rchºul"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

273 *
	$¡rchºul
 (cÚ¡ *
__s
, 
__c
)

274 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

278 
__BEGIN_NAMESPACE_STD


281 
size_t
 
	$¡rc¥n
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

282 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

285 
size_t
 
	$¡r¥n
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

286 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

288 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


291 *
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
)

292 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

293 cÚ¡ *
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

294 
__THROW
 
	`__asm
 ("¡½brk"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

296 #ifdeà
__OPTIMIZE__


297 
__ex‹º_®ways_šlše
 *

298 
	`¡½brk
 (*
__s
, cÚ¡ *
__acû±
è
__THROW


300  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

303 
__ex‹º_®ways_šlše
 const *

304 
	`¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
è
__THROW


306  
	`__butš_¡½brk
 (
__s
, 
__acû±
);

309 
	}
}

311 *
	$¡½brk
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

312 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

315 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


318 *
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

319 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

320 cÚ¡ *
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

321 
__THROW
 
	`__asm
 ("¡r¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

323 #ifdeà
__OPTIMIZE__


324 
__ex‹º_®ways_šlše
 *

325 
	`¡r¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


327  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

330 
__ex‹º_®ways_šlše
 const *

331 
	`¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
è
__THROW


333  
	`__butš_¡r¡r
 (
__hay¡ack
, 
__ÃedË
);

336 
	}
}

338 *
	$¡r¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

339 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

344 *
	$¡¹ok
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
)

345 
__THROW
 
	`__nÚnuÎ
 ((2));

346 
__END_NAMESPACE_STD


350 *
	$__¡¹ok_r
 (*
__»¡riù
 
__s
,

351 cÚ¡ *
__»¡riù
 
__d–im
,

352 **
__»¡riù
 
__§ve_±r
)

353 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

354 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


355 *
	$¡¹ok_r
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__d–im
,

356 **
__»¡riù
 
__§ve_±r
)

357 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

360 #ifdeà
__USE_GNU


362 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


363 "C++" *
	$¡rÿ£¡r
 (*
__hay¡ack
, cÚ¡ *
__ÃedË
)

364 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

365 "C++" cÚ¡ *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
,

366 cÚ¡ *
__ÃedË
)

367 
__THROW
 
	`__asm
 ("¡rÿ£¡r"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

369 *
	$¡rÿ£¡r
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

370 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

374 #ifdeà
__USE_GNU


378 *
	$memmem
 (cÚ¡ *
__hay¡ack
, 
size_t
 
__hay¡ackËn
,

379 cÚ¡ *
__ÃedË
, 
size_t
 
__ÃedËËn
)

380 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 3));

384 *
	$__mempıy
 (*
__»¡riù
 
__de¡
,

385 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

386 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

387 *
	$mempıy
 (*
__»¡riù
 
__de¡
,

388 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

389 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

393 
__BEGIN_NAMESPACE_STD


395 
size_t
 
	$¡¾’
 (cÚ¡ *
__s
)

396 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

397 
__END_NAMESPACE_STD


399 #ifdef 
__USE_XOPEN2K8


402 
size_t
 
	$¡ºËn
 (cÚ¡ *
__¡ršg
, 
size_t
 
__maxËn
)

403 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

407 
__BEGIN_NAMESPACE_STD


409 *
	$¡»¼Ü
 (
__”ºum
è
__THROW
;

410 
__END_NAMESPACE_STD


411 #ià
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_MISC


419 #ià
defšed
 
__USE_XOPEN2K
 && !defšed 
__USE_GNU


422 #ifdeà
__REDIRECT_NTH


423 
	`__REDIRECT_NTH
 (
¡»¼Ü_r
,

424 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
),

425 
__xpg_¡»¼Ü_r
è
	`__nÚnuÎ
 ((2));

427 
	$__xpg_¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

428 
__THROW
 
	`__nÚnuÎ
 ((2));

429 
	#¡»¼Ü_r
 
__xpg_¡»¼Ü_r


	)

434 *
	$¡»¼Ü_r
 (
__”ºum
, *
__buf
, 
size_t
 
__buæ’
)

435 
__THROW
 
	`__nÚnuÎ
 ((2)è
__wur
;

439 #ifdeà
__USE_XOPEN2K8


441 *
	$¡»¼Ü_l
 (
__”ºum
, 
__loÿË_t
 
__l
è
__THROW
;

447 
	$__bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

449 #ifdeà
__USE_BSD


451 
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__n
)

452 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

455 
	$bz”o
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

458 
	$bcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

459 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

462 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


465 *
	`šdex
 (*
__s
, 
__c
)

466 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

467 cÚ¡ *
	`šdex
 (cÚ¡ *
__s
, 
__c
)

468 
__THROW
 
	`__asm
 ("šdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

470 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


471 
__ex‹º_®ways_šlše
 *

472 
	`šdex
 (*
__s
, 
__c
è
__THROW


474  
	`__butš_šdex
 (
__s
, 
__c
);

477 
__ex‹º_®ways_šlše
 const *

478 
	`šdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


480  
	`__butš_šdex
 (
__s
, 
__c
);

483 
	}
}

485 *
	$šdex
 (cÚ¡ *
__s
, 
__c
)

486 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

490 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


493 *
	`ršdex
 (*
__s
, 
__c
)

494 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

495 cÚ¡ *
	`ršdex
 (cÚ¡ *
__s
, 
__c
)

496 
__THROW
 
	`__asm
 ("ršdex"è
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

498 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


499 
__ex‹º_®ways_šlše
 *

500 
	`ršdex
 (*
__s
, 
__c
è
__THROW


502  
	`__butš_ršdex
 (
__s
, 
__c
);

505 
__ex‹º_®ways_šlše
 const *

506 
	`ršdex
 (cÚ¡ *
__s
, 
__c
è
__THROW


508  
	`__butš_ršdex
 (
__s
, 
__c
);

511 
	}
}

513 *
	$ršdex
 (cÚ¡ *
__s
, 
__c
)

514 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1));

519 
	$ffs
 (
__i
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

523 #ifdef 
__USE_GNU


524 
	$ff¦
 (
__l
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

525 #ifdeà
__GNUC__


526 
__ex‹nsiÚ__
 
	$ff¦l
 (
__Î
)

527 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

532 
	$¡rÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

533 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

536 
	$¡ºÿ£cmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

537 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

540 #ifdef 
__USE_GNU


543 
	$¡rÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

544 
__loÿË_t
 
__loc
)

545 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 3));

547 
	$¡ºÿ£cmp_l
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

548 
size_t
 
__n
, 
__loÿË_t
 
__loc
)

549 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2, 4));

552 #ifdef 
__USE_BSD


555 *
	$¡r£p
 (**
__»¡riù
 
__¡ršgp
,

556 cÚ¡ *
__»¡riù
 
__d–im
)

557 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

560 #ifdef 
__USE_XOPEN2K8


562 *
	$¡rsigÇl
 (
__sig
è
__THROW
;

565 *
	$__¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

566 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

567 *
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
)

568 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

572 *
	$__¡²ıy
 (*
__»¡riù
 
__de¡
,

573 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

574 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

575 *
	$¡²ıy
 (*
__»¡riù
 
__de¡
,

576 cÚ¡ *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

577 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

580 #ifdef 
__USE_GNU


582 
	$¡rv”scmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

583 
__THROW
 
__©Œibu‹_pu»__
 
	`__nÚnuÎ
 ((1, 2));

586 *
	$¡räy
 (*
__¡ršg
è
__THROW
 
	`__nÚnuÎ
 ((1));

589 *
	$memäob
 (*
__s
, 
size_t
 
__n
è
__THROW
 
	`__nÚnuÎ
 ((1));

591 #iâdeà
ba£Çme


596 #ifdeà
__CORRECT_ISO_CPP_STRING_H_PROTO


597 "C++" *
	$ba£Çme
 (*
__f’ame
)

598 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

599 "C++" cÚ¡ *
	$ba£Çme
 (cÚ¡ *
__f’ame
)

600 
__THROW
 
	`__asm
 ("ba£Çme"è
	`__nÚnuÎ
 ((1));

602 *
	$ba£Çme
 (cÚ¡ *
__f’ame
è
__THROW
 
	`__nÚnuÎ
 ((1));

608 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

609 #ià
defšed
 
__OPTIMIZE__
 && !defšed 
__OPTIMIZE_SIZE__
 \

610 && !
defšed
 
__NO_INLINE__
 && !defšed 
__ılu¥lus


630 
	~<b™s/¡ršg.h
>

633 
	~<b™s/¡ršg2.h
>

636 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


638 
	~<b™s/¡ršg3.h
>

642 
__END_DECLS


	@/usr/include/syscall.h

1 
	~<sys/sysÿÎ.h
>

	@tests/threads/tests.h

1 #iâdeà
TESTS_THREADS_TESTS_H


2 
	#TESTS_THREADS_TESTS_H


	)

4 
run_‹¡
 (const *);

6 
	t‹¡_func
 ();

8 
‹¡_func
 
‹¡_®¬m_sšgË
;

9 
‹¡_func
 
‹¡_®¬m_muÉË
;

10 
‹¡_func
 
‹¡_®¬m_simuÉªeous
;

11 
‹¡_func
 
‹¡_®¬m_´iÜ™y
;

12 
‹¡_func
 
‹¡_®¬m_z”o
;

13 
‹¡_func
 
‹¡_®¬m_Ãg©ive
;

14 
‹¡_func
 
‹¡_´iÜ™y_chªge
;

15 
‹¡_func
 
‹¡_´iÜ™y_dÚ©e_Úe
;

16 
‹¡_func
 
‹¡_´iÜ™y_dÚ©e_muÉË
;

17 
‹¡_func
 
‹¡_´iÜ™y_dÚ©e_muÉË2
;

18 
‹¡_func
 
‹¡_´iÜ™y_dÚ©e_£ma
;

19 
‹¡_func
 
‹¡_´iÜ™y_dÚ©e_Ã¡
;

20 
‹¡_func
 
‹¡_´iÜ™y_dÚ©e_low”
;

21 
‹¡_func
 
‹¡_´iÜ™y_dÚ©e_chaš
;

22 
‹¡_func
 
‹¡_´iÜ™y_fifo
;

23 
‹¡_func
 
‹¡_´iÜ™y_´“m±
;

24 
‹¡_func
 
‹¡_´iÜ™y_£ma
;

25 
‹¡_func
 
‹¡_´iÜ™y_cÚdv¬
;

26 
‹¡_func
 
‹¡_mlfqs_lßd_1
;

27 
‹¡_func
 
‹¡_mlfqs_lßd_60
;

28 
‹¡_func
 
‹¡_mlfqs_lßd_avg
;

29 
‹¡_func
 
‹¡_mlfqs_»ûÁ_1
;

30 
‹¡_func
 
‹¡_mlfqs_çœ_2
;

31 
‹¡_func
 
‹¡_mlfqs_çœ_20
;

32 
‹¡_func
 
‹¡_mlfqs_niû_2
;

33 
‹¡_func
 
‹¡_mlfqs_niû_10
;

34 
‹¡_func
 
‹¡_mlfqs_block
;

36 
msg
 (const *, ...);

37 
ç
 (const *, ...);

38 
·ss
 ();

	@/usr/include/alloca.h

18 #iâdef 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<ã©u»s.h
>

23 
	#__Ãed_size_t


	)

24 
	~<¡ddef.h
>

26 
	g__BEGIN_DECLS


29 #undeà
®loÿ


32 *
	$®loÿ
 (
size_t
 
__size
è
__THROW
;

34 #ifdef 
__GNUC__


35 
	#®loÿ
(
size
è
	`__butš_®loÿ
 (size)

	)

38 
__END_DECLS


	@/usr/include/bits/byteswap.h

19 #ià!
defšed
 
_BYTESWAP_H
 && !defšed 
_NETINET_IN_H
 && !defšed 
_ENDIAN_H


23 #iâdeà
_BITS_BYTESWAP_H


24 
	#_BITS_BYTESWAP_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

28 
	~<b™s/wÜdsize.h
>

31 
	#__bsw­_cÚ¡ªt_16
(
x
) \

32 ((è((((
x
è>> 8è& 0xffè| (((xè& 0xffè<< 8)))

	)

35 
	~<b™s/by‹sw­-16.h
>

38 
	#__bsw­_cÚ¡ªt_32
(
x
) \

39 ((((
x
) & 0xff000000) >> 24) | (((x) & 0x00ff0000) >> 8) | \

40 (((
x
è& 0x0000ff00è<< 8è| (((xè& 0x000000ffè<< 24))

	)

42 #ifdeà
__GNUC__


43 #ià
__GNUC_PREREQ
 (4, 3)

44 
__šlše
 

45 
	$__bsw­_32
 (
__bsx
)

47  
	`__butš_bsw­32
 (
__bsx
);

48 
	}
}

49 #–ià
__GNUC__
 >= 2

50 #ià
__WORDSIZE
 =ğ64 || (
defšed
 
__i486__
 || defšed 
__³Áium__
 \

51 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

52 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

53 || 
defšed
 
	g__k6__
 || defšed 
	g__nocÚa__
 \

54 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__geode__
 \

55 || 
defšed
 
	g__amdçm10__
)

58 
	#__bsw­_32
(
x
) \

59 (
__ex‹nsiÚ__
 \

60 ({ 
__v
, 
__x
 = (
x
); \

61 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

62 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

64 
	`__asm__
 ("bsw­ %0" : "ô" (
__v
è: "0" (
__x
)); \

65 
__v
; }))

	)

67 
	#__bsw­_32
(
x
) \

68 (
__ex‹nsiÚ__
 \

69 ({ 
__v
, 
__x
 = (
x
); \

70 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

71 
__v
 = 
	`__bsw­_cÚ¡ªt_32
 (
__x
); \

73 
	`__asm__
 ("rorw $8, %w0;" \

76 : "ô" (
__v
) \

77 : "0" (
__x
) \

79 
__v
; }))

	)

82 
	#__bsw­_32
(
x
) \

83 (
__ex‹nsiÚ__
 \

84 ({ 
__x
 = (
x
); 
	`__bsw­_cÚ¡ªt_32
 (__x); }))

	)

87 
__šlše
 

88 
	$__bsw­_32
 (
__bsx
)

90  
	`__bsw­_cÚ¡ªt_32
 (
__bsx
);

91 
	}
}

95 #ià
__GNUC_PREREQ
 (2, 0)

97 
	#__bsw­_cÚ¡ªt_64
(
x
) \

98 (
	`__ex‹nsiÚ__
 ((((
x
) & 0xff00000000000000ull) >> 56) \

99 | (((
x
) & 0x00ff000000000000ull) >> 40) \

100 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

101 | (((
x
) & 0x000000ff00000000ull) >> 8) \

102 | (((
x
) & 0x00000000ff000000ull) << 8) \

103 | (((
x
) & 0x0000000000ff0000ull) << 24) \

104 | (((
x
) & 0x000000000000ff00ull) << 40) \

105 | (((
x
è& 0x00000000000000ffuÎè<< 56)))

	)

107 #ià
__GNUC_PREREQ
 (4, 3)

108 
__šlše
 
__ušt64_t


109 
	$__bsw­_64
 (
__ušt64_t
 
__bsx
)

111  
	`__butš_bsw­64
 (
__bsx
);

112 
	}
}

113 #–ià
__WORDSIZE
 == 64

114 
	#__bsw­_64
(
x
) \

115 (
__ex‹nsiÚ__
 \

116 ({ 
__ušt64_t
 
__v
, 
__x
 = (
x
); \

117 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

118 
__v
 = 
	`__bsw­_cÚ¡ªt_64
 (
__x
); \

120 
	`__asm__
 ("bsw­ %q0" : "ô" (
__v
è: "0" (
__x
)); \

121 
__v
; }))

	)

123 
	#__bsw­_64
(
x
) \

124 (
__ex‹nsiÚ__
 \

125 ({ uniÚ { 
__ex‹nsiÚ__
 
__ušt64_t
 
__Î
; \

126 
__l
[2]; } 
__w
, 
__r
; \

127 ià(
	`__butš_cÚ¡ªt_p
 (
x
)) \

128 
__r
.
__Î
 = 
	`__bsw­_cÚ¡ªt_64
 (
x
); \

131 
__w
.
__Î
 = (
x
); \

132 
__r
.
__l
[0] = 
	`__bsw­_32
 (
__w
.__l[1]); \

133 
__r
.
__l
[1] = 
	`__bsw­_32
 (
__w
.__l[0]); \

135 
__r
.
__Î
; }))

	)

137 #–ià
__GLIBC_HAVE_LONG_LONG


138 
	#__bsw­_cÚ¡ªt_64
(
x
) \

139 ((((
x
) & 0xff00000000000000ull) >> 56) \

140 | (((
x
) & 0x00ff000000000000ull) >> 40) \

141 | (((
x
) & 0x0000ff0000000000ull) >> 24) \

142 | (((
x
) & 0x000000ff00000000ull) >> 8) \

143 | (((
x
) & 0x00000000ff000000ull) << 8) \

144 | (((
x
) & 0x0000000000ff0000ull) << 24) \

145 | (((
x
) & 0x000000000000ff00ull) << 40) \

146 | (((
x
è& 0x00000000000000ffuÎè<< 56))

	)

148 
__šlše
 
__ušt64_t


149 
	$__bsw­_64
 (
__ušt64_t
 
__bsx
)

151  
	`__bsw­_cÚ¡ªt_64
 (
__bsx
);

152 
	}
}

	@/usr/include/bits/endian.h

3 #iâdeà
_ENDIAN_H


7 
	#__BYTE_ORDER
 
__LITTLE_ENDIAN


	)

	@/usr/include/bits/posix1_lim.h

24 #iâdef 
_BITS_POSIX1_LIM_H


25 
	#_BITS_POSIX1_LIM_H
 1

	)

31 
	#_POSIX_AIO_LISTIO_MAX
 2

	)

34 
	#_POSIX_AIO_MAX
 1

	)

37 
	#_POSIX_ARG_MAX
 4096

	)

40 #ifdeà
__USE_XOPEN2K


41 
	#_POSIX_CHILD_MAX
 25

	)

43 
	#_POSIX_CHILD_MAX
 6

	)

47 
	#_POSIX_DELAYTIMER_MAX
 32

	)

51 
	#_POSIX_HOST_NAME_MAX
 255

	)

54 
	#_POSIX_LINK_MAX
 8

	)

57 
	#_POSIX_LOGIN_NAME_MAX
 9

	)

60 
	#_POSIX_MAX_CANON
 255

	)

64 
	#_POSIX_MAX_INPUT
 255

	)

67 
	#_POSIX_MQ_OPEN_MAX
 8

	)

70 
	#_POSIX_MQ_PRIO_MAX
 32

	)

73 
	#_POSIX_NAME_MAX
 14

	)

76 #ifdeà
__USE_XOPEN2K


77 
	#_POSIX_NGROUPS_MAX
 8

	)

79 
	#_POSIX_NGROUPS_MAX
 0

	)

83 #ifdeà
__USE_XOPEN2K


84 
	#_POSIX_OPEN_MAX
 20

	)

86 
	#_POSIX_OPEN_MAX
 16

	)

89 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


92 
	#_POSIX_FD_SETSIZE
 
_POSIX_OPEN_MAX


	)

96 
	#_POSIX_PATH_MAX
 256

	)

99 
	#_POSIX_PIPE_BUF
 512

	)

103 
	#_POSIX_RE_DUP_MAX
 255

	)

106 
	#_POSIX_RTSIG_MAX
 8

	)

109 
	#_POSIX_SEM_NSEMS_MAX
 256

	)

112 
	#_POSIX_SEM_VALUE_MAX
 32767

	)

115 
	#_POSIX_SIGQUEUE_MAX
 32

	)

118 
	#_POSIX_SSIZE_MAX
 32767

	)

121 
	#_POSIX_STREAM_MAX
 8

	)

124 
	#_POSIX_SYMLINK_MAX
 255

	)

128 
	#_POSIX_SYMLOOP_MAX
 8

	)

131 
	#_POSIX_TIMER_MAX
 32

	)

134 
	#_POSIX_TTY_NAME_MAX
 9

	)

137 #ifdeà
__USE_XOPEN2K


138 
	#_POSIX_TZNAME_MAX
 6

	)

140 
	#_POSIX_TZNAME_MAX
 3

	)

143 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


145 
	#_POSIX_QLIMIT
 1

	)

149 
	#_POSIX_HIWAT
 
_POSIX_PIPE_BUF


	)

152 
	#_POSIX_UIO_MAXIOV
 16

	)

156 
	#_POSIX_CLOCKRES_MIN
 20000000

	)

160 
	~<b™s/loÿl_lim.h
>

163 #iâdef 
SSIZE_MAX


164 
	#SSIZE_MAX
 
LONG_MAX


	)

171 #iâdef 
NGROUPS_MAX


172 
	#NGROUPS_MAX
 8

	)

	@/usr/include/bits/posix2_lim.h

22 #iâdef 
_BITS_POSIX2_LIM_H


23 
	#_BITS_POSIX2_LIM_H
 1

	)

27 
	#_POSIX2_BC_BASE_MAX
 99

	)

30 
	#_POSIX2_BC_DIM_MAX
 2048

	)

33 
	#_POSIX2_BC_SCALE_MAX
 99

	)

36 
	#_POSIX2_BC_STRING_MAX
 1000

	)

40 
	#_POSIX2_COLL_WEIGHTS_MAX
 2

	)

44 
	#_POSIX2_EXPR_NEST_MAX
 32

	)

47 
	#_POSIX2_LINE_MAX
 2048

	)

51 
	#_POSIX2_RE_DUP_MAX
 255

	)

55 
	#_POSIX2_CHARCLASS_NAME_MAX
 14

	)

62 #iâdef 
BC_BASE_MAX


63 
	#BC_BASE_MAX
 
_POSIX2_BC_BASE_MAX


	)

65 #iâdef 
BC_DIM_MAX


66 
	#BC_DIM_MAX
 
_POSIX2_BC_DIM_MAX


	)

68 #iâdef 
BC_SCALE_MAX


69 
	#BC_SCALE_MAX
 
_POSIX2_BC_SCALE_MAX


	)

71 #iâdef 
BC_STRING_MAX


72 
	#BC_STRING_MAX
 
_POSIX2_BC_STRING_MAX


	)

74 #iâdef 
COLL_WEIGHTS_MAX


75 
	#COLL_WEIGHTS_MAX
 255

	)

77 #iâdef 
EXPR_NEST_MAX


78 
	#EXPR_NEST_MAX
 
_POSIX2_EXPR_NEST_MAX


	)

80 #iâdef 
LINE_MAX


81 
	#LINE_MAX
 
_POSIX2_LINE_MAX


	)

83 #iâdef 
CHARCLASS_NAME_MAX


84 
	#CHARCLASS_NAME_MAX
 2048

	)

88 
	#RE_DUP_MAX
 (0x7fff)

	)

	@/usr/include/bits/stdio-ldbl.h

19 #iâdeà
_STDIO_H


23 
__BEGIN_NAMESPACE_STD


24 
	$__LDBL_REDIR_DECL
 (
årštf
)

25 
	$__LDBL_REDIR_DECL
 (
´štf
)

26 
	$__LDBL_REDIR_DECL
 (
¥rštf
)

27 
	$__LDBL_REDIR_DECL
 (
vårštf
)

28 
	$__LDBL_REDIR_DECL
 (
v´štf
)

29 
	$__LDBL_REDIR_DECL
 (
v¥rštf
)

30 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

31 && !
defšed
 
__REDIRECT
 \

32 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

33 
	$__LDBL_REDIR1_DECL
 (
fsÿnf
, 
__Ædbl___isoc99_fsÿnf
)

34 
	$__LDBL_REDIR1_DECL
 (
sÿnf
, 
__Ædbl___isoc99_sÿnf
)

35 
	$__LDBL_REDIR1_DECL
 (
ssÿnf
, 
__Ædbl___isoc99_ssÿnf
)

37 
	$__LDBL_REDIR_DECL
 (
fsÿnf
)

38 
	$__LDBL_REDIR_DECL
 (
sÿnf
)

39 
	$__LDBL_REDIR_DECL
 (
ssÿnf
)

41 
__END_NAMESPACE_STD


43 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


44 
__BEGIN_NAMESPACE_C99


45 
	$__LDBL_REDIR_DECL
 (
¢´štf
)

46 
	$__LDBL_REDIR_DECL
 (
v¢´štf
)

47 
__END_NAMESPACE_C99


50 #ifdef 
__USE_ISOC99


51 
__BEGIN_NAMESPACE_C99


52 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

53 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

54 
	$__LDBL_REDIR1_DECL
 (
vfsÿnf
, 
__Ædbl___isoc99_vfsÿnf
)

55 
	$__LDBL_REDIR1_DECL
 (
vsÿnf
, 
__Ædbl___isoc99_vsÿnf
)

56 
	$__LDBL_REDIR1_DECL
 (
vssÿnf
, 
__Ædbl___isoc99_vssÿnf
)

58 
	$__LDBL_REDIR_DECL
 (
vfsÿnf
)

59 
	$__LDBL_REDIR_DECL
 (
vssÿnf
)

60 
	$__LDBL_REDIR_DECL
 (
vsÿnf
)

62 
__END_NAMESPACE_C99


65 #ifdeà
__USE_XOPEN2K8


66 
	$__LDBL_REDIR_DECL
 (
vd´štf
)

67 
	$__LDBL_REDIR_DECL
 (
d´štf
)

70 #ifdeà
__USE_GNU


71 
	$__LDBL_REDIR_DECL
 (
va¥rštf
)

72 
	$__LDBL_REDIR_DECL
 (
__a¥rštf
)

73 
	$__LDBL_REDIR_DECL
 (
a¥rštf
)

74 
	$__LDBL_REDIR_DECL
 (
ob¡ack_´štf
)

75 
	$__LDBL_REDIR_DECL
 (
ob¡ack_v´štf
)

78 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


79 
	$__LDBL_REDIR_DECL
 (
__¥rštf_chk
)

80 
	$__LDBL_REDIR_DECL
 (
__v¥rštf_chk
)

81 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


82 
	$__LDBL_REDIR_DECL
 (
__¢´štf_chk
)

83 
	$__LDBL_REDIR_DECL
 (
__v¢´štf_chk
)

85 #ià
__USE_FORTIFY_LEVEL
 > 1

86 
	$__LDBL_REDIR_DECL
 (
__årštf_chk
)

87 
	$__LDBL_REDIR_DECL
 (
__´štf_chk
)

88 
	$__LDBL_REDIR_DECL
 (
__vårštf_chk
)

89 
	$__LDBL_REDIR_DECL
 (
__v´štf_chk
)

90 #ifdeà
__USE_XOPEN2K8


91 
	$__LDBL_REDIR_DECL
 (
__d´štf_chk
)

92 
	$__LDBL_REDIR_DECL
 (
__vd´štf_chk
)

94 #ifdeà
__USE_GNU


95 
	$__LDBL_REDIR_DECL
 (
__a¥rštf_chk
)

96 
	$__LDBL_REDIR_DECL
 (
__va¥rštf_chk
)

97 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_´štf_chk
)

98 
	$__LDBL_REDIR_DECL
 (
__ob¡ack_v´štf_chk
)

	@/usr/include/bits/stdio.h

19 #iâdeà
_STDIO_H


23 #iâdeà
__ex‹º_šlše


24 
	#__STDIO_INLINE
 
šlše


	)

26 
	#__STDIO_INLINE
 
__ex‹º_šlše


	)

30 #ifdeà
__USE_EXTERN_INLINES


33 #ià!(
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ
)

35 
__STDIO_INLINE
 

36 
	$v´štf
 (cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

38  
	`vårštf
 (
¡dout
, 
__fmt
, 
__¬g
);

39 
	}
}

43 
__STDIO_INLINE
 

44 
	$g‘ch¬
 ()

46  
	`_IO_g‘c
 (
¡dš
);

47 
	}
}

50 #ifdeà
__USE_MISC


52 
__STDIO_INLINE
 

53 
	$fg‘c_uÆocked
 (
FILE
 *
__å
)

55  
	`_IO_g‘c_uÆocked
 (
__å
);

56 
	}
}

60 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


62 
__STDIO_INLINE
 

63 
	$g‘c_uÆocked
 (
FILE
 *
__å
)

65  
	`_IO_g‘c_uÆocked
 (
__å
);

66 
	}
}

69 
__STDIO_INLINE
 

70 
	$g‘ch¬_uÆocked
 ()

72  
	`_IO_g‘c_uÆocked
 (
¡dš
);

73 
	}
}

78 
__STDIO_INLINE
 

79 
	$putch¬
 (
__c
)

81  
	`_IO_putc
 (
__c
, 
¡dout
);

82 
	}
}

85 #ifdeà
__USE_MISC


87 
__STDIO_INLINE
 

88 
	$åutc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

90  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

91 
	}
}

95 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


97 
__STDIO_INLINE
 

98 
	$putc_uÆocked
 (
__c
, 
FILE
 *
__¡»am
)

100  
	`_IO_putc_uÆocked
 (
__c
, 
__¡»am
);

101 
	}
}

104 
__STDIO_INLINE
 

105 
	$putch¬_uÆocked
 (
__c
)

107  
	`_IO_putc_uÆocked
 (
__c
, 
¡dout
);

108 
	}
}

112 #ifdef 
__USE_GNU


114 
__STDIO_INLINE
 
_IO_ssize_t


115 
	$g‘lše
 (**
__lš•Œ
, 
size_t
 *
__n
, 
FILE
 *
__¡»am
)

117  
	`__g‘d–im
 (
__lš•Œ
, 
__n
, '\n', 
__¡»am
);

118 
	}
}

122 #ifdeà
__USE_MISC


124 
__STDIO_INLINE
 

125 
__NTH
 (
	$ãof_uÆocked
 (
FILE
 *
__¡»am
))

127  
	`_IO_ãof_uÆocked
 (
__¡»am
);

128 
	}
}

131 
__STDIO_INLINE
 

132 
__NTH
 (
	$ã¼Ü_uÆocked
 (
FILE
 *
__¡»am
))

134  
	`_IO_ã¼Ü_uÆocked
 (
__¡»am
);

135 
	}
}

141 #ià
defšed
 
__USE_MISC
 && defšed 
__GNUC__
 && defšed 
__OPTIMIZE__
 \

142 && !
defšed
 
	g__ılu¥lus


144 
	#ä—d_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

145 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

146 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

147 && (
size_t
è(
size
) != 0) \

148 ? ({ *
__±r
 = (*è(
±r
); \

149 
FILE
 *
__¡»am
 = (
¡»am
); \

150 
size_t
 
__út
; \

151 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

152 
__út
 > 0; --__cnt) \

154 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
); \

155 ià(
__c
 =ğ
EOF
) \

157 *
__±r
++ = 
__c
; \

159 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

160 / (
size_t
è(
size
); }) \

161 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

162 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

164 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

165 (è(
n
), (
size_t
) 0) \

166 : 
	`ä—d_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

168 
	#fwr™e_uÆocked
(
±r
, 
size
, 
n
, 
¡»am
) \

169 (
	`__ex‹nsiÚ__
 ((
	`__butš_cÚ¡ªt_p
 (
size
è&& __butš_cÚ¡ªt_°(
n
) \

170 && (
size_t
è(
size
è* (size_tè(
n
) <= 8 \

171 && (
size_t
è(
size
) != 0) \

172 ? ({ cÚ¡ *
__±r
 = (cÚ¡ *è(
±r
); \

173 
FILE
 *
__¡»am
 = (
¡»am
); \

174 
size_t
 
__út
; \

175 
__út
 = (
size_t
è(
size
è* (size_tè(
n
); \

176 
__út
 > 0; --__cnt) \

177 ià(
	`_IO_putc_uÆocked
 (*
__±r
++, 
__¡»am
è=ğ
EOF
) \

179 ((
size_t
è(
size
è* (size_tè(
n
è- 
__út
) \

180 / (
size_t
è(
size
); }) \

181 : (((
	`__butš_cÚ¡ªt_p
 (
size
è&& (
size_t
) (size) == 0) \

182 || (
	`__butš_cÚ¡ªt_p
 (
n
è&& (
size_t
) (n) == 0)) \

184 ? ((è(
±r
), (è(
¡»am
), (è(
size
), \

185 (è(
n
), (
size_t
) 0) \

186 : 
	`fwr™e_uÆocked
 (
±r
, 
size
, 
n
, 
¡»am
))))

	)

190 #undeà
__STDIO_INLINE


	@/usr/include/bits/stdio2.h

19 #iâdeà
_STDIO_H


23 
	$__¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

24 cÚ¡ *
__»¡riù
 
__fÜm©
, ...è
__THROW
;

25 
	$__v¥rštf_chk
 (*
__»¡riù
 
__s
, 
__æag
, 
size_t
 
__¦’
,

26 cÚ¡ *
__»¡riù
 
__fÜm©
,

27 
_G_va_li¡
 
__­
è
__THROW
;

29 #ifdeà
__va_¬g_·ck


30 
__fÜtify_funùiÚ
 

31 
	`__NTH
 (
	$¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fmt
, ...))

33  
	`__butš___¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

34 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

35 
	}
}

36 #–ià!
defšed
 
__ılu¥lus


37 
	#¥rštf
(
¡r
, ...) \

38 
	`__butš___¥rštf_chk
 (
¡r
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

39 
__VA_ARGS__
)

	)

42 
__fÜtify_funùiÚ
 

43 
__NTH
 (
	$v¥rštf
 (*
__»¡riù
 
__s
, cÚ¡ *__»¡riù 
__fmt
,

44 
_G_va_li¡
 
__­
))

46  
	`__butš___v¥rštf_chk
 (
__s
, 
__USE_FORTIFY_LEVEL
 - 1,

47 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

48 
	}
}

50 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_ISOC99
 || defšed 
__USE_UNIX98


52 
	$__¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

53 
size_t
 
__¦’
, cÚ¡ *
__»¡riù
 
__fÜm©
,

54 ...è
__THROW
;

55 
	$__v¢´štf_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__n
, 
__æag
,

56 
size_t
 
__¦’
, cÚ¡ *
__»¡riù
 
__fÜm©
,

57 
_G_va_li¡
 
__­
è
__THROW
;

59 #ifdeà
__va_¬g_·ck


60 
__fÜtify_funùiÚ
 

61 
	`__NTH
 (
	$¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

62 cÚ¡ *
__»¡riù
 
__fmt
, ...))

64  
	`__butš___¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

65 
	`__bos
 (
__s
), 
__fmt
, 
	`__va_¬g_·ck
 ());

66 
	}
}

67 #–ià!
defšed
 
__ılu¥lus


68 
	#¢´štf
(
¡r
, 
Ën
, ...) \

69 
	`__butš___¢´štf_chk
 (
¡r
, 
Ën
, 
__USE_FORTIFY_LEVEL
 - 1, 
	`__bos
 (str), \

70 
__VA_ARGS__
)

	)

73 
__fÜtify_funùiÚ
 

74 
__NTH
 (
	$v¢´štf
 (*
__»¡riù
 
__s
, 
size_t
 
__n
,

75 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

77  
	`__butš___v¢´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

78 
	`__bos
 (
__s
), 
__fmt
, 
__­
);

79 
	}
}

83 #ià
__USE_FORTIFY_LEVEL
 > 1

85 
__årštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

86 cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

87 
__´štf_chk
 (
__æag
, cÚ¡ *
__»¡riù
 
__fÜm©
, ...);

88 
__vårštf_chk
 (
FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

89 cÚ¡ *
__»¡riù
 
__fÜm©
, 
_G_va_li¡
 
__­
);

90 
__v´štf_chk
 (
__æag
, cÚ¡ *
__»¡riù
 
__fÜm©
,

91 
_G_va_li¡
 
__­
);

93 #ifdeà
__va_¬g_·ck


94 
__fÜtify_funùiÚ
 

95 
	$årštf
 (
FILE
 *
__»¡riù
 
__¡»am
, cÚ¡ *__»¡riù 
__fmt
, ...)

97  
	`__årštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

98 
	`__va_¬g_·ck
 ());

99 
	}
}

101 
__fÜtify_funùiÚ
 

102 
	$´štf
 (cÚ¡ *
__»¡riù
 
__fmt
, ...)

104  
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

105 
	}
}

106 #–ià!
defšed
 
__ılu¥lus


107 
	#´štf
(...) \

108 
	`__´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

109 
	#årštf
(
¡»am
, ...) \

110 
	`__årštf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

113 
__fÜtify_funùiÚ
 

114 
	$v´štf
 (cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

116 #ifdeà
__USE_EXTERN_INLINES


117  
	`__vårštf_chk
 (
¡dout
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

119  
	`__v´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

121 
	}
}

123 
__fÜtify_funùiÚ
 

124 
	$vårštf
 (
FILE
 *
__»¡riù
 
__¡»am
,

125 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

127  
	`__vårštf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

128 
	}
}

130 #ifdeà
__USE_XOPEN2K8


131 
	$__d´štf_chk
 (
__fd
, 
__æag
, cÚ¡ *
__»¡riù
 
__fmt
,

132 ...è
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

133 
	$__vd´štf_chk
 (
__fd
, 
__æag
,

134 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

135 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

137 #ifdeà
__va_¬g_·ck


138 
__fÜtify_funùiÚ
 

139 
	$d´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, ...)

141  
	`__d´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

142 
	`__va_¬g_·ck
 ());

143 
	}
}

144 #–ià!
defšed
 
__ılu¥lus


145 
	#d´štf
(
fd
, ...) \

146 
	`__d´štf_chk
 (
fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

149 
__fÜtify_funùiÚ
 

150 
	$vd´štf
 (
__fd
, cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
)

152  
	`__vd´štf_chk
 (
__fd
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

153 
	}
}

156 #ifdeà
__USE_GNU


158 
	$__a¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

159 cÚ¡ *
__»¡riù
 
__fmt
, ...)

160 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 4))è
__wur
;

161 
	$__va¥rštf_chk
 (**
__»¡riù
 
__±r
, 
__æag
,

162 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__¬g
)

163 
__THROW
 
	`__©Œibu‹__
 ((
	$__fÜm©__
 (
__´štf__
, 3, 0))è
__wur
;

164 
	$__ob¡ack_´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

165 
__æag
, cÚ¡ *
__»¡riù
 
__fÜm©
,

167 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 4)));

168 
	$__ob¡ack_v´štf_chk
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

169 
__æag
,

170 cÚ¡ *
__»¡riù
 
__fÜm©
,

171 
_G_va_li¡
 
__¬gs
)

172 
__THROW
 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__´štf__
, 3, 0)));

174 #ifdeà
__va_¬g_·ck


175 
__fÜtify_funùiÚ
 

176 
	`__NTH
 (
	$a¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__fmt
, ...))

178  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

179 
	`__va_¬g_·ck
 ());

180 
	}
}

182 
__fÜtify_funùiÚ
 

183 
__NTH
 (
	$__a¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__fmt
,

186  
	`__a¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

187 
	`__va_¬g_·ck
 ());

188 
	}
}

190 
__fÜtify_funùiÚ
 

191 
__NTH
 (
	$ob¡ack_´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

192 cÚ¡ *
__»¡riù
 
__fmt
, ...))

194  
	`__ob¡ack_´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

195 
	`__va_¬g_·ck
 ());

196 
	}
}

197 #–ià!
defšed
 
__ılu¥lus


198 
	#a¥rštf
(
±r
, ...) \

199 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

200 
	#__a¥rštf
(
±r
, ...) \

201 
	`__a¥rštf_chk
 (
±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

202 
	#ob¡ack_´štf
(
ob¡ack
, ...) \

203 
	`__ob¡ack_´štf_chk
 (
ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

206 
__fÜtify_funùiÚ
 

207 
__NTH
 (
	$va¥rštf
 (**
__»¡riù
 
__±r
, cÚ¡ *__»¡riù 
__fmt
,

208 
_G_va_li¡
 
__­
))

210  
	`__va¥rštf_chk
 (
__±r
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

211 
	}
}

213 
__fÜtify_funùiÚ
 

214 
__NTH
 (
	$ob¡ack_v´štf
 (
ob¡ack
 *
__»¡riù
 
__ob¡ack
,

215 cÚ¡ *
__»¡riù
 
__fmt
, 
_G_va_li¡
 
__­
))

217  
	`__ob¡ack_v´štf_chk
 (
__ob¡ack
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

218 
__­
);

219 
	}
}

225 #ià!
defšed
 
__USE_ISOC11
 \

226 || (
defšed
 
	g__ılu¥lus
 && __ılu¥lu <ğ201103L && !defšed 
__USE_GNU
)

227 *
	$__g‘s_chk
 (*
__¡r
, 
size_t
è
__wur
;

228 *
	`__REDIRECT
 (
__g‘s_w¬n
, (*
__¡r
), 
g‘s
)

229 
__wur
 
	`__w¬Ç‰r
 ("please use fgets or getline instead, gets can't "

232 
__fÜtify_funùiÚ
 
__wur
 *

233 
	$g‘s
 (*
__¡r
)

235 ià(
	`__bos
 (
__¡r
è!ğ(
size_t
) -1)

236  
	`__g‘s_chk
 (
__¡r
, 
	`__bos
 (__str));

237  
	`__g‘s_w¬n
 (
__¡r
);

238 
	}
}

241 *
	$__fg‘s_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

242 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

243 *
	`__REDIRECT
 (
__fg‘s_®Ÿs
,

244 (*
__»¡riù
 
__s
, 
__n
,

245 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s
è
__wur
;

246 *
	`__REDIRECT
 (
__fg‘s_chk_w¬n
,

247 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

248 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_chk
)

249 
__wur
 
	`__w¬Ç‰r
 ("fgets called with bigger sizehan†ength "

252 
__fÜtify_funùiÚ
 
__wur
 *

253 
	$fg‘s
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

255 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

257 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

258  
	`__fg‘s_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

260 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

261  
	`__fg‘s_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

263  
	`__fg‘s_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

264 
	}
}

266 
size_t
 
	$__ä—d_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

267 
size_t
 
__size
, size_ˆ
__n
,

268 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

269 
size_t
 
	`__REDIRECT
 (
__ä—d_®Ÿs
,

270 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

271 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

272 
ä—d
è
__wur
;

273 
size_t
 
	`__REDIRECT
 (
__ä—d_chk_w¬n
,

274 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

275 
size_t
 
__size
, size_ˆ
__n
,

276 
FILE
 *
__»¡riù
 
__¡»am
),

277 
__ä—d_chk
)

278 
__wur
 
	`__w¬Ç‰r
 ("fread called with bigger size *‚membhan†ength "

281 
__fÜtify_funùiÚ
 
__wur
 
size_t


282 
	$ä—d
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

283 
FILE
 *
__»¡riù
 
__¡»am
)

285 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

287 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

288 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

289 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

290  
	`__ä—d_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

292 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

293  
	`__ä—d_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
, 
__¡»am
);

295  
	`__ä—d_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

296 
	}
}

298 #ifdeà
__USE_GNU


299 *
	$__fg‘s_uÆocked_chk
 (*
__»¡riù
 
__s
, 
size_t
 
__size
,

300 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

301 *
	`__REDIRECT
 (
__fg‘s_uÆocked_®Ÿs
,

302 (*
__»¡riù
 
__s
, 
__n
,

303 
FILE
 *
__»¡riù
 
__¡»am
), 
fg‘s_uÆocked
è
__wur
;

304 *
	`__REDIRECT
 (
__fg‘s_uÆocked_chk_w¬n
,

305 (*
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

306 
FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘s_uÆocked_chk
)

307 
__wur
 
	`__w¬Ç‰r
 ("fgets_unlocked called with bigger sizehan†ength "

310 
__fÜtify_funùiÚ
 
__wur
 *

311 
	$fg‘s_uÆocked
 (*
__»¡riù
 
__s
, 
__n
, 
FILE
 *__»¡riù 
__¡»am
)

313 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

315 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

316  
	`__fg‘s_uÆocked_chk
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

318 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
))

319  
	`__fg‘s_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__s), 
__n
, 
__¡»am
);

321  
	`__fg‘s_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

322 
	}
}

325 #ifdeà
__USE_MISC


326 #undeà
ä—d_uÆocked


327 
size_t
 
	$__ä—d_uÆocked_chk
 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

328 
size_t
 
__size
, size_ˆ
__n
,

329 
FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

330 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_®Ÿs
,

331 (*
__»¡riù
 
__±r
, 
size_t
 
__size
,

332 
size_t
 
__n
, 
FILE
 *
__»¡riù
 
__¡»am
),

333 
ä—d_uÆocked
è
__wur
;

334 
size_t
 
	`__REDIRECT
 (
__ä—d_uÆocked_chk_w¬n
,

335 (*
__»¡riù
 
__±r
, 
size_t
 
__±¾’
,

336 
size_t
 
__size
, size_ˆ
__n
,

337 
FILE
 *
__»¡riù
 
__¡»am
),

338 
__ä—d_uÆocked_chk
)

339 
__wur
 
	`__w¬Ç‰r
 ("fread_unlocked called with bigger size *‚membhan "

342 
__fÜtify_funùiÚ
 
__wur
 
size_t


343 
	$ä—d_uÆocked
 (*
__»¡riù
 
__±r
, 
size_t
 
__size
, size_ˆ
__n
,

344 
FILE
 *
__»¡riù
 
__¡»am
)

346 ià(
	`__bos0
 (
__±r
è!ğ(
size_t
) -1)

348 ià(!
	`__butš_cÚ¡ªt_p
 (
__size
)

349 || !
	`__butš_cÚ¡ªt_p
 (
__n
)

350 || (
__size
 | 
__n
è>ğ(((
size_t
) 1) << (8 *  (size_t) / 2)))

351  
	`__ä—d_uÆocked_chk
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

352 
__¡»am
);

354 ià(
__size
 * 
__n
 > 
	`__bos0
 (
__±r
))

355  
	`__ä—d_uÆocked_chk_w¬n
 (
__±r
, 
	`__bos0
 (__±r), 
__size
, 
__n
,

356 
__¡»am
);

359 #ifdeà
__USE_EXTERN_INLINES


360 ià(
	`__butš_cÚ¡ªt_p
 (
__size
)

361 && 
	`__butš_cÚ¡ªt_p
 (
__n
)

362 && (
__size
 | 
__n
è< (((
size_t
) 1) << (8 *  (size_t) / 2))

363 && 
__size
 * 
__n
 <= 8)

365 
size_t
 
__út
 = 
__size
 * 
__n
;

366 *
__ıŒ
 = (*è
__±r
;

367 ià(
__út
 == 0)

370 ; 
__út
 > 0; --__cnt)

372 
__c
 = 
	`_IO_g‘c_uÆocked
 (
__¡»am
);

373 ià(
__c
 =ğ
EOF
)

375 *
__ıŒ
++ = 
__c
;

377  (
__ıŒ
 - (*è
__±r
è/ 
__size
;

380  
	`__ä—d_uÆocked_®Ÿs
 (
__±r
, 
__size
, 
__n
, 
__¡»am
);

381 
	}
}

	@/usr/include/bits/stdio_lim.h

18 #ià!
defšed
 
_STDIO_H
 && !defšed 
__Ãed_FOPEN_MAX
 && !defšed 
__Ãed_IOV_MAX


22 #ifdeà
_STDIO_H


23 
	#L_tm²am
 20

	)

24 
	#TMP_MAX
 238328

	)

25 
	#FILENAME_MAX
 4096

	)

27 #ifdeà
__USE_POSIX


28 
	#L_ù”mid
 9

	)

29 #ià!
defšed
 
__USE_XOPEN2K
 || defšed 
__USE_GNU


30 
	#L_cu£rid
 9

	)

35 #ià
defšed
 
__Ãed_FOPEN_MAX
 || defšed 
_STDIO_H


36 #undeà
FOPEN_MAX


37 
	#FOPEN_MAX
 16

	)

40 #ià
defšed
 
__Ãed_IOV_MAX
 && !defšed 
IOV_MAX


41 
	#IOV_MAX
 1024

	)

	@/usr/include/bits/stdlib-float.h

19 #iâdeà
_STDLIB_H


23 #ifdeà
__USE_EXTERN_INLINES


24 
__BEGIN_NAMESPACE_STD


25 
__ex‹º_šlše
 

26 
__NTH
 (
	$©of
 (cÚ¡ *
__ÅŒ
))

28  
	`¡¹od
 (
__ÅŒ
, (**è
NULL
);

29 
	}
}

30 
	g__END_NAMESPACE_STD


	@/usr/include/bits/stdlib-ldbl.h

19 #iâdeà
_STDLIB_H


23 #ifdef 
__USE_ISOC99


24 
__BEGIN_NAMESPACE_C99


25 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd
, 
¡¹od
)

26 
__END_NAMESPACE_C99


29 #ifdeà
__USE_GNU


30 
	$__LDBL_REDIR1_DECL
 (
¡¹Şd_l
, 
¡¹od_l
)

33 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN_EXTENDED


34 #ifdeà
__USE_MISC


35 
	$__LDBL_REDIR1_DECL
 (
qecvt
, 
ecvt
)

36 
	$__LDBL_REDIR1_DECL
 (
qfcvt
, 
fcvt
)

37 
	$__LDBL_REDIR1_DECL
 (
qgcvt
, 
gcvt
)

38 
	$__LDBL_REDIR1_DECL
 (
qecvt_r
, 
ecvt_r
)

39 
	$__LDBL_REDIR1_DECL
 (
qfcvt_r
, 
fcvt_r
)

	@/usr/include/bits/stdlib.h

19 #iâdeà
_STDLIB_H


23 *
	$__»®·th_chk
 (cÚ¡ *
__»¡riù
 
__Çme
,

24 *
__»¡riù
 
__»sŞved
,

25 
size_t
 
__»sŞvedËn
è
__THROW
 
__wur
;

26 *
	`__REDIRECT_NTH
 (
__»®·th_®Ÿs
,

27 (cÚ¡ *
__»¡riù
 
__Çme
,

28 *
__»¡riù
 
__»sŞved
), 
»®·th
è
__wur
;

29 *
	`__REDIRECT_NTH
 (
__»®·th_chk_w¬n
,

30 (cÚ¡ *
__»¡riù
 
__Çme
,

31 *
__»¡riù
 
__»sŞved
,

32 
size_t
 
__»sŞvedËn
), 
__»®·th_chk
è
__wur


33 
	`__w¬Ç‰r
 ("second‡rgument of„ealpath must beƒither NULL or‡t "

36 
__fÜtify_funùiÚ
 
__wur
 *

37 
	`__NTH
 (
	$»®·th
 (cÚ¡ *
__»¡riù
 
__Çme
, *__»¡riù 
__»sŞved
))

39 ià(
	`__bos
 (
__»sŞved
è!ğ(
size_t
) -1)

41 #ià
defšed
 
_LIBC_LIMITS_H_
 && defšed 
PATH_MAX


42 ià(
	`__bos
 (
__»sŞved
è< 
PATH_MAX
)

43  
	`__»®·th_chk_w¬n
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

45  
	`__»®·th_chk
 (
__Çme
, 
__»sŞved
, 
	`__bos
 (__resolved));

48  
	`__»®·th_®Ÿs
 (
__Çme
, 
__»sŞved
);

49 
	}
}

52 
	$__±¢ame_r_chk
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

53 
size_t
 
__Ä—l
è
__THROW
 
	`__nÚnuÎ
 ((2));

54 
	`__REDIRECT_NTH
 (
__±¢ame_r_®Ÿs
, (
__fd
, *
__buf
,

55 
size_t
 
__buæ’
), 
±¢ame_r
)

56 
	`__nÚnuÎ
 ((2));

57 
	`__REDIRECT_NTH
 (
__±¢ame_r_chk_w¬n
,

58 (
__fd
, *
__buf
, 
size_t
 
__buæ’
,

59 
size_t
 
__Ä—l
), 
__±¢ame_r_chk
)

60 
	`__nÚnuÎ
 ((2)è
	`__w¬Ç‰r
 ("ptsname_r called with buflen biggerhan "

63 
__fÜtify_funùiÚ
 

64 
	`__NTH
 (
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buæ’
))

66 ià(
	`__bos
 (
__buf
è!ğ(
size_t
) -1)

68 ià(!
	`__butš_cÚ¡ªt_p
 (
__buæ’
))

69  
	`__±¢ame_r_chk
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

70 ià(
__buæ’
 > 
	`__bos
 (
__buf
))

71  
	`__±¢ame_r_chk_w¬n
 (
__fd
, 
__buf
, 
__buæ’
, 
	`__bos
 (__buf));

73  
	`__±¢ame_r_®Ÿs
 (
__fd
, 
__buf
, 
__buæ’
);

74 
	}
}

77 
	$__wùomb_chk
 (*
__s
, 
wch¬_t
 
__wch¬
, 
size_t
 
__buæ’
)

78 
__THROW
 
__wur
;

79 
	`__REDIRECT_NTH
 (
__wùomb_®Ÿs
, (*
__s
, 
wch¬_t
 
__wch¬
),

80 
wùomb
è
__wur
;

82 
__fÜtify_funùiÚ
 
__wur
 

83 
	`__NTH
 (
	$wùomb
 (*
__s
, 
wch¬_t
 
__wch¬
))

88 
	#__STDLIB_MB_LEN_MAX
 16

	)

89 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__STDLIB_MB_LEN_MAX


92 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__STDLIB_MB_LEN_MAX
 > __bos (__s))

93  
	`__wùomb_chk
 (
__s
, 
__wch¬
, 
	`__bos
 (__s));

94  
	`__wùomb_®Ÿs
 (
__s
, 
__wch¬
);

95 
	}
}

98 
size_t
 
	$__mb¡owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

99 cÚ¡ *
__»¡riù
 
__¤c
,

100 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

101 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_®Ÿs
,

102 (
wch¬_t
 *
__»¡riù
 
__d¡
,

103 cÚ¡ *
__»¡riù
 
__¤c
,

104 
size_t
 
__Ën
), 
mb¡owcs
);

105 
size_t
 
	`__REDIRECT_NTH
 (
__mb¡owcs_chk_w¬n
,

106 (
wch¬_t
 *
__»¡riù
 
__d¡
,

107 cÚ¡ *
__»¡riù
 
__¤c
,

108 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__mb¡owcs_chk
)

109 
	`__w¬Ç‰r
 ("mbstowcs called with dst buffer smallerhan†en "

112 
__fÜtify_funùiÚ
 
size_t


113 
	`__NTH
 (
	$mb¡owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, cÚ¡ *__»¡riù 
__¤c
,

114 
size_t
 
__Ën
))

116 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

118 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

119  
	`__mb¡owcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
,

120 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

122 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

123  
	`__mb¡owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
,

124 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

126  
	`__mb¡owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

127 
	}
}

130 
size_t
 
	$__wc¡ombs_chk
 (*
__»¡riù
 
__d¡
,

131 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

132 
size_t
 
__Ën
, size_ˆ
__d¡Ën
è
__THROW
;

133 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_®Ÿs
,

134 (*
__»¡riù
 
__d¡
,

135 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

136 
size_t
 
__Ën
), 
wc¡ombs
);

137 
size_t
 
	`__REDIRECT_NTH
 (
__wc¡ombs_chk_w¬n
,

138 (*
__»¡riù
 
__d¡
,

139 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

140 
size_t
 
__Ën
, size_ˆ
__d¡Ën
), 
__wc¡ombs_chk
)

141 
	`__w¬Ç‰r
 ("wcstombs called with dst buffer smallerhan†en");

143 
__fÜtify_funùiÚ
 
size_t


144 
	`__NTH
 (
	$wc¡ombs
 (*
__»¡riù
 
__d¡
, cÚ¡ 
wch¬_t
 *__»¡riù 
__¤c
,

145 
size_t
 
__Ën
))

147 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

149 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

150  
	`__wc¡ombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

151 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

152  
	`__wc¡ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dst));

154  
	`__wc¡ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
);

155 
	}
}

	@/usr/include/bits/string.h

19 #iâdeà
_STRING_H


24 
	#_STRING_ARCH_uÇligÃd
 1

	)

28 #ià!
defšed
 
__x86_64__
 && (defšed 
__i486__
 || defšed 
__³Áium__
 \

29 || 
defšed
 
	g__³Áium´o__
 || defšed 
	g__³Áium4__
 \

30 || 
defšed
 
	g__nocÚa__
 || defšed 
	g__©om__
 \

31 || 
defšed
 
	g__cÜe2__
 || defšed 
	g__cÜei7__
 \

32 || 
defšed
 
	g__k6__
 || defšed 
	g__geode__
 \

33 || 
defšed
 
	g__k8__
 || defšed 
	g__©hlÚ__
 \

34 || 
defšed
 
	g__amdçm10__
)

38 #ià!
defšed
 
__NO_STRING_INLINES
 && defšed 
__USE_STRING_INLINES
 \

39 && 
defšed
 
	g__GNUC__
 && __GNUC__ >ğ2 && !
__BOUNDED_POINTERS__


41 #iâdeà
__STRING_INLINE


42 #iâdeà
__ex‹º_šlše


43 
	#__STRING_INLINE
 
šlše


	)

45 
	#__STRING_INLINE
 
__ex‹º_šlše


	)

50 
	#__STRING_SMALL_GET16
(
¤c
, 
idx
) \

51 ((((cÚ¡ *è(
¤c
))[
idx
 + 1] << 8) \

52 | ((cÚ¡ *è(
¤c
))[
idx
])

	)

53 
	#__STRING_SMALL_GET32
(
¤c
, 
idx
) \

54 (((((cÚ¡ *è(
¤c
))[
idx
 + 3] << 8 \

55 | ((cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

56 | ((cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

57 | ((cÚ¡ *è(
¤c
))[
idx
])

	)

61 
	#_HAVE_STRING_ARCH_memıy
 1

	)

62 
	#memıy
(
de¡
, 
¤c
, 
n
) \

63 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) \

64 ? 
	`__memıy_c
 ((
de¡
), (
¤c
), (
n
)) \

65 : 
	`__memıy_g
 ((
de¡
), (
¤c
), (
n
))))

	)

66 
	#__memıy_c
(
de¡
, 
¤c
, 
n
) \

67 ((
n
) == 0 \

68 ? (
de¡
) \

69 : (((
n
) % 4 == 0) \

70 ? 
	`__memıy_by4
 (
de¡
, 
¤c
, 
n
) \

71 : (((
n
) % 2 == 0) \

72 ? 
	`__memıy_by2
 (
de¡
, 
¤c
, 
n
) \

73 : 
	`__memıy_g
 (
de¡
, 
¤c
, 
n
))))

	)

75 
__STRING_INLINE
 *
__memıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
,

76 
size_t
 
__n
);

78 
__STRING_INLINE
 *

79 
	$__memıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

81 
__d0
, 
__d1
;

82 *
__tmp
 = 
__de¡
;

83 
__asm__
 
__vŞ©e__


91 : "=&r" (
__d0
), "=&r" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
)

92 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__n
 / 4)

94  
__de¡
;

95 
	}
}

97 
__STRING_INLINE
 *
__memıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
,

98 
size_t
 
__n
);

100 
__STRING_INLINE
 *

101 
	$__memıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

103 
__d0
, 
__d1
;

104 *
__tmp
 = 
__de¡
;

105 
__asm__
 
__vŞ©e__


118 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
)

119 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__n
 / 2)

121  
__de¡
;

122 
	}
}

124 
__STRING_INLINE
 *
__memıy_g
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
);

126 
__STRING_INLINE
 *

127 
	$__memıy_g
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

129 
__d0
, 
__d1
, 
__d2
;

130 *
__tmp
 = 
__de¡
;

131 
__asm__
 
__vŞ©e__


142 : "=&c" (
__d0
), "=&D" (
__d1
), "=&S" (
__d2
),

143 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__de¡
)

144 : "0" (
__n
), "1" (
__tmp
), "2" (
__¤c
),

145 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__¤c
)

147  
__de¡
;

148 
	}
}

150 
	#_HAVE_STRING_ARCH_memmove
 1

	)

151 #iâdeà
_FORCE_INLINES


154 
	#memmove
(
de¡
, 
¤c
, 
n
è
	`__memmove_g
 (de¡, src,‚)

	)

156 
__STRING_INLINE
 *
	$__memmove_g
 (*, cÚ¡ *, 
size_t
)

157 
	`__asm__
 ("memmove");

159 
__STRING_INLINE
 *

160 
	$__memmove_g
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

162 
__d0
, 
__d1
, 
__d2
;

163 *
__tmp
 = 
__de¡
;

164 ià(
__de¡
 < 
__¤c
)

165 
__asm__
 
__vŞ©e__


168 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

169 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__de¡
)

170 : "0" (
__n
), "1" (
__¤c
), "2" (
__tmp
),

171 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__¤c
));

173 
__asm__
 
__vŞ©e__


177 : "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
),

178 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__de¡
)

179 : "0" (
__n
), "1" (__À- 1 + (cÚ¡ *è
__¤c
),

180 "2" (
__n
 - 1 + (*è
__tmp
),

181 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__¤c
));

182  
__de¡
;

183 
	}
}

187 
	#_HAVE_STRING_ARCH_memcmp
 1

	)

188 #iâdeà
_FORCE_INLINES


189 #iâdeà
__PIC__


191 
__STRING_INLINE
 

192 
	$memcmp
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

194 
__d0
, 
__d1
, 
__d2
;

195 
__»s
;

196 
__asm__
 
__vŞ©e__


204 : "=&a" (
__»s
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

205 : "0" (0), "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

206 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s1
),

207 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s2
)

209  
__»s
;

210 
	}
}

215 
	#_HAVE_STRING_ARCH_mem£t
 1

	)

216 
	#_USE_STRING_ARCH_mem£t
 1

	)

217 
	#mem£t
(
s
, 
c
, 
n
) \

218 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) && (n) <= 16 \

219 ? ((
n
) == 1 \

220 ? 
	`__mem£t_c1
 ((
s
), (
c
)) \

221 : 
	`__mem£t_gc
 ((
s
), (
c
), (
n
))) \

222 : (
	`__butš_cÚ¡ªt_p
 (
c
) \

223 ? (
	`__butš_cÚ¡ªt_p
 (
n
) \

224 ? 
	`__mem£t_cú
 ((
s
), (
c
), (
n
)) \

225 : 
	`mem£t
 ((
s
), (
c
), (
n
))) \

226 : (
	`__butš_cÚ¡ªt_p
 (
n
) \

227 ? 
	`__mem£t_gú
 ((
s
), (
c
), (
n
)) \

228 : 
	`mem£t
 ((
s
), (
c
), (
n
))))))

	)

230 
	#__mem£t_c1
(
s
, 
c
è({ *
__s
 = (s); \

231 *((*è
__s
èğ(è(
c
); \

232 
__s
; })

	)

234 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

235 ({ *
__s
 = (
s
); \

237 
__ui
; \

238 
__usi
; \

239 
__uc
; \

240 } *
__u
 = 
__s
; \

241 
__c
 = ((è((è(
c
))) * 0x01010101; \

247 ià((
n
) == 3 || (n) >= 5) \

248 
__asm__
 
	`__vŞ©e__
 ("" : "ô" (
__c
) : "0" (__c)); \

251 
n
) \

254 
__u
->
__ui
 = 
__c
; \

255 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

257 
__u
->
__ui
 = 
__c
; \

258 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

260 
__u
->
__ui
 = 
__c
; \

261 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

263 
__u
->
__usi
 = (è
__c
; \

264 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

265 
__u
->
__uc
 = (è
__c
; \

269 
__u
->
__ui
 = 
__c
; \

270 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

272 
__u
->
__ui
 = 
__c
; \

273 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

275 
__u
->
__ui
 = 
__c
; \

276 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

278 
__u
->
__usi
 = (è
__c
; \

282 
__u
->
__ui
 = 
__c
; \

283 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

285 
__u
->
__ui
 = 
__c
; \

286 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

288 
__u
->
__ui
 = 
__c
; \

289 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

291 
__u
->
__uc
 = (è
__c
; \

295 
__u
->
__ui
 = 
__c
; \

296 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

298 
__u
->
__ui
 = 
__c
; \

299 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

301 
__u
->
__ui
 = 
__c
; \

302 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

304 
__u
->
__ui
 = 
__c
; \

309 
__s
; })

	)

311 
	#__mem£t_cú
(
s
, 
c
, 
n
) \

312 (((
n
) % 4 == 0) \

313 ? 
	`__mem£t_cú_by4
 (
s
, ((è((è(
c
))) * 0x01010101,\

314 
n
) \

315 : (((
n
) % 2 == 0) \

316 ? 
	`__mem£t_cú_by2
 (
s
, \

317 ((è((è(
c
))) * 0x01010101,\

318 
n
) \

319 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

321 
__STRING_INLINE
 *
__mem£t_cú_by4
 (*
__s
, 
__c
,

322 
size_t
 
__n
);

324 
__STRING_INLINE
 *

325 
	$__mem£t_cú_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

327 *
__tmp
 = 
__s
;

328 
__d0
;

329 #ifdeà
__i686__


330 
__asm__
 
__vŞ©e__


333 : "=&a" (
__c
), "=&D" (
__tmp
), "=&c" (
__d0
),

334 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

335 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

338 
__asm__
 
__vŞ©e__


344 : "=&r" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

345 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

346 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

349  
__s
;

350 
	}
}

352 
__STRING_INLINE
 *
__mem£t_cú_by2
 (*
__s
, 
__c
,

353 
size_t
 
__n
);

355 
__STRING_INLINE
 *

356 
	$__mem£t_cú_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

358 
__d0
, 
__d1
;

359 *
__tmp
 = 
__s
;

360 #ifdeà
__i686__


361 
__asm__
 
__vŞ©e__


365 : "=&a" (
__d0
), "=&D" (
__tmp
), "=&c" (
__d1
),

366 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

367 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

370 
__asm__
 
__vŞ©e__


376 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

377 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

378 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

381  
__s
;

382 
	}
}

384 
	#__mem£t_gú
(
s
, 
c
, 
n
) \

385 (((
n
) % 4 == 0) \

386 ? 
	`__mem£t_gú_by4
 (
s
, 
c
, 
n
) \

387 : (((
n
) % 2 == 0) \

388 ? 
	`__mem£t_gú_by2
 (
s
, 
c
, 
n
) \

389 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

391 
__STRING_INLINE
 *
__mem£t_gú_by4
 (*
__s
, 
__c
, 
size_t
 
__n
);

393 
__STRING_INLINE
 *

394 
	$__mem£t_gú_by4
 (*
__s
, 
__c
, 
size_t
 
__n
)

396 *
__tmp
 = 
__s
;

397 
__d0
;

398 
__asm__
 
__vŞ©e__


408 : "=&q" (
__c
), "=&r" (
__tmp
), "=&r" (
__d0
),

409 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

410 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

412  
__s
;

413 
	}
}

415 
__STRING_INLINE
 *
__mem£t_gú_by2
 (*
__s
, 
__c
, 
size_t
 
__n
);

417 
__STRING_INLINE
 *

418 
	$__mem£t_gú_by2
 (*
__s
, 
__c
, 
size_t
 
__n
)

420 
__d0
, 
__d1
;

421 *
__tmp
 = 
__s
;

422 
__asm__
 
__vŞ©e__


433 : "=&q" (
__d0
), "=&r" (
__tmp
), "=&r" (
__d1
),

434 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

435 : "0" ((è
__c
), "1" (
__tmp
), "2" (
__n
 / 4)

437  
__s
;

438 
	}
}

442 
	#_HAVE_STRING_ARCH_memchr
 1

	)

443 #iâdeà
_FORCE_INLINES


444 
__STRING_INLINE
 *

445 
	$memchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

447 
__d0
;

448 #ifdeà
__i686__


449 
__d1
;

451 *
__»s
;

452 ià(
__n
 == 0)

453  
NULL
;

454 #ifdeà
__i686__


455 
__asm__
 
__vŞ©e__


459 : "=D" (
__»s
), "=&c" (
__d0
), "=&r" (
__d1
)

460 : "a" (
__c
), "0" (
__s
), "1" (
__n
), "2" (1),

461 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

464 
__asm__
 
__vŞ©e__


470 : "=D" (
__»s
), "=&c" (
__d0
)

471 : "a" (
__c
), "0" (
__s
), "1" (
__n
),

472 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

475  
__»s
 - 1;

476 
	}
}

479 
	#_HAVE_STRING_ARCH_memrchr
 1

	)

480 #iâdeà
_FORCE_INLINES


481 
__STRING_INLINE
 *
__memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
);

483 
__STRING_INLINE
 *

484 
	$__memrchr
 (cÚ¡ *
__s
, 
__c
, 
size_t
 
__n
)

486 
__d0
;

487 #ifdeà
__i686__


488 
__d1
;

490 *
__»s
;

491 ià(
__n
 == 0)

492  
NULL
;

493 #ifdeà
__i686__


494 
__asm__
 
__vŞ©e__


500 : "=D" (
__»s
), "=&c" (
__d0
), "=&r" (
__d1
)

501 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n), "2" (-1),

502 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

505 
__asm__
 
__vŞ©e__


512 : "=D" (
__»s
), "=&c" (
__d0
)

513 : "a" (
__c
), "0" (
__s
 + 
__n
 - 1), "1" (__n),

514 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s
)

517  
__»s
;

518 
	}
}

519 #ifdeà
__USE_GNU


520 
	#memrchr
(
s
, 
c
, 
n
è
	`__memrchr
 ((s), (c), (n))

	)

525 
	#_HAVE_STRING_ARCH_¿wmemchr
 1

	)

526 
__STRING_INLINE
 *
__¿wmemchr
 (cÚ¡ *
__s
, 
__c
);

528 #iâdeà
_FORCE_INLINES


529 
__STRING_INLINE
 *

530 
	$__¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

532 
__d0
;

533 *
__»s
;

534 
__asm__
 
__vŞ©e__


537 : "=D" (
__»s
), "=&c" (
__d0
)

538 : "a" (
__c
), "0" (
__s
), "1" (0xffffffff),

539 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

541  
__»s
 - 1;

542 
	}
}

543 #ifdeà
__USE_GNU


544 
__STRING_INLINE
 *

545 
	$¿wmemchr
 (cÚ¡ *
__s
, 
__c
)

547  
	`__¿wmemchr
 (
__s
, 
__c
);

548 
	}
}

554 
	#_HAVE_STRING_ARCH_¡¾’
 1

	)

555 
	#¡¾’
(
¡r
) \

556 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¡r
) \

557 ? 
	`__butš_¡¾’
 (
¡r
) \

558 : 
	`__¡¾’_g
 (
¡r
)))

	)

559 
__STRING_INLINE
 
size_t
 
__¡¾’_g
 (cÚ¡ *
__¡r
);

561 
__STRING_INLINE
 
size_t


562 
	$__¡¾’_g
 (cÚ¡ *
__¡r
)

564 
__dummy
;

565 cÚ¡ *
__tmp
 = 
__¡r
;

566 
__asm__
 
__vŞ©e__


572 : "ô" (
__tmp
), "=&q" (
__dummy
)

573 : "0" (
__¡r
),

574 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¡r
)

576  
__tmp
 - 
__¡r
 - 1;

577 
	}
}

581 
	#_HAVE_STRING_ARCH_¡rıy
 1

	)

582 
	#¡rıy
(
de¡
, 
¤c
) \

583 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

584 ? ( ((
¤c
)[0]è=ğ1 && 
	`¡¾’
 (src) + 1 <= 8 \

585 ? 
	`__¡rıy_a_sm®l
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1) \

586 : (*è
	`memıy
 ((*è(
de¡
), \

587 (cÚ¡ *è(
¤c
), \

588 
	`¡¾’
 (
¤c
) + 1)) \

589 : 
	`__¡rıy_g
 ((
de¡
), (
¤c
))))

	)

591 
	#__¡rıy_a_sm®l
(
de¡
, 
¤c
, 
¤ş’
) \

592 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

594 
__ui
; \

595 
__usi
; \

596 
__uc
; \

597 
__c
; \

598 } *
__u
 = (*è
__de¡
; \

599 
¤ş’
) \

602 
__u
->
__uc
 = '\0'; \

605 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

608 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

609 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

610 
__u
->
__uc
 = '\0'; \

613 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

616 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

617 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

618 
__u
->
__uc
 = '\0'; \

621 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

622 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

623 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

626 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

627 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

628 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

629 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

630 
__u
->
__uc
 = '\0'; \

633 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

634 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

635 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 4); \

638 (*è
__de¡
; }))

	)

640 
__STRING_INLINE
 *
__¡rıy_g
 (*
__de¡
, cÚ¡ *
__¤c
);

642 
__STRING_INLINE
 *

643 
	$__¡rıy_g
 (*
__de¡
, cÚ¡ *
__¤c
)

645 *
__tmp
 = 
__de¡
;

646 
__dummy
;

647 
__asm__
 
__vŞ©e__


656 : "=&r" (
__¤c
), "=&r" (
__tmp
), "=&q" (
__dummy
),

657 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

658 : "0" (
__¤c
), "1" (
__tmp
),

659 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¤c
)

661  
__de¡
;

662 
	}
}

665 #ifdeà
__USE_GNU


666 
	#_HAVE_STRING_ARCH_¡pıy
 1

	)

668 
	#__¡pıy
(
de¡
, 
¤c
) \

669 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

670 ? (
	`¡¾’
 (
¤c
) + 1 <= 8 \

671 ? 
	`__¡pıy_a_sm®l
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1) \

672 : 
	`__¡pıy_c
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1)) \

673 : 
	`__¡pıy_g
 ((
de¡
), (
¤c
))))

	)

674 
	#__¡pıy_c
(
de¡
, 
¤c
, 
¤ş’
) \

675 ((
¤ş’
) % 4 == 0 \

676 ? 
	`__mempıy_by4
 (
de¡
, 
¤c
, 
¤ş’
) - 1 \

677 : ((
¤ş’
) % 2 == 0 \

678 ? 
	`__mempıy_by2
 (
de¡
, 
¤c
, 
¤ş’
) - 1 \

679 : 
	`__mempıy_byn
 (
de¡
, 
¤c
, 
¤ş’
è- 1))

	)

682 
	#¡pıy
(
de¡
, 
¤c
è
	`__¡pıy
 ((de¡), (¤c))

	)

684 
	#__¡pıy_a_sm®l
(
de¡
, 
¤c
, 
¤ş’
) \

685 (
	`__ex‹nsiÚ__
 ({ union { \

686 
__ui
; \

687 
__usi
; \

688 
__uc
; \

689 
__c
; \

690 } *
__u
 = (*è(
de¡
); \

691 
¤ş’
) \

694 
__u
->
__uc
 = '\0'; \

697 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

698 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1); \

701 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 0); \

702 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

703 
__u
->
__uc
 = '\0'; \

706 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

707 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3); \

710 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

711 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

712 
__u
->
__uc
 = '\0'; \

715 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

716 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

717 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

718 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1); \

721 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

722 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

723 
__u
->
__usi
 = 
	`__STRING_SMALL_GET16
 (
¤c
, 4); \

724 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

725 
__u
->
__uc
 = '\0'; \

728 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 0); \

729 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

730 
__u
->
__ui
 = 
	`__STRING_SMALL_GET32
 (
¤c
, 4); \

731 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3); \

734 (*è
__u
; }))

	)

736 
__STRING_INLINE
 *
__mempıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
,

737 
size_t
 
__¤ş’
);

739 
__STRING_INLINE
 *

740 
	$__mempıy_by4
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__¤ş’
)

742 *
__tmp
 = 
__de¡
;

743 
__d0
, 
__d1
;

744 
__asm__
 
__vŞ©e__


752 : "=&r" (
__d0
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
)

753 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 4)

755  
__tmp
;

756 
	}
}

758 
__STRING_INLINE
 *
__mempıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
,

759 
size_t
 
__¤ş’
);

761 
__STRING_INLINE
 *

762 
	$__mempıy_by2
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__¤ş’
)

764 *
__tmp
 = 
__de¡
;

765 
__d0
, 
__d1
;

766 
__asm__
 
__vŞ©e__


779 : "=&q" (
__d0
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__d1
),

780 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

781 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 2),

782 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

784  
__tmp
 + 2;

785 
	}
}

787 
__STRING_INLINE
 *
__mempıy_byn
 (*
__de¡
, cÚ¡ *
__¤c
,

788 
size_t
 
__¤ş’
);

790 
__STRING_INLINE
 *

791 
	$__mempıy_byn
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__¤ş’
)

793 
__d0
, 
__d1
;

794 *
__tmp
 = 
__de¡
;

795 
__asm__
 
__vŞ©e__


806 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

807 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

808 : "0" (
__tmp
), "1" (
__¤ş’
), "2" (
__¤c
),

809 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

811  
__tmp
;

812 
	}
}

814 
__STRING_INLINE
 *
__¡pıy_g
 (*
__de¡
, cÚ¡ *
__¤c
);

816 
__STRING_INLINE
 *

817 
	$__¡pıy_g
 (*
__de¡
, cÚ¡ *
__¤c
)

819 *
__tmp
 = 
__de¡
;

820 
__dummy
;

821 
__asm__
 
__vŞ©e__


830 : "=&r" (
__¤c
), "ô" (
__tmp
), "=&q" (
__dummy
),

831 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

832 : "0" (
__¤c
), "1" (
__tmp
),

833 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¤c
)

835  
__tmp
 - 1;

836 
	}
}

841 
	#_HAVE_STRING_ARCH_¡ºıy
 1

	)

842 
	#¡ºıy
(
de¡
, 
¤c
, 
n
) \

843 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

844 ? ((
	`¡¾’
 (
¤c
è+ 1 >ğ((
size_t
è(
n
)) \

845 ? (*è
	`memıy
 ((*è(
de¡
), \

846 (cÚ¡ *è(
¤c
), 
n
) \

847 : 
	`__¡ºıy_cg
 ((
de¡
), (
¤c
), 
	`¡¾’
 (¤cè+ 1, 
n
))) \

848 : 
	`__¡ºıy_gg
 ((
de¡
), (
¤c
), 
n
)))

	)

849 
	#__¡ºıy_cg
(
de¡
, 
¤c
, 
¤ş’
, 
n
) \

850 (((
¤ş’
) % 4 == 0) \

851 ? 
	`__¡ºıy_by4
 (
de¡
, 
¤c
, 
¤ş’
, 
n
) \

852 : (((
¤ş’
) % 2 == 0) \

853 ? 
	`__¡ºıy_by2
 (
de¡
, 
¤c
, 
¤ş’
, 
n
) \

854 : 
	`__¡ºıy_byn
 (
de¡
, 
¤c
, 
¤ş’
, 
n
)))

	)

856 
__STRING_INLINE
 *
__¡ºıy_by4
 (*
__de¡
, cÚ¡ 
__¤c
[],

857 
size_t
 
__¤ş’
, size_ˆ
__n
);

859 
__STRING_INLINE
 *

860 
	$__¡ºıy_by4
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
, size_ˆ
__n
)

862 *
__tmp
 = 
__de¡
;

863 
__dummy1
, 
__dummy2
;

864 
__asm__
 
__vŞ©e__


872 : "=&r" (
__dummy1
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__dummy2
),

873 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

874 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 4),

875 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

877 (è
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__¤ş’
);

878  
__de¡
;

879 
	}
}

881 
__STRING_INLINE
 *
__¡ºıy_by2
 (*
__de¡
, cÚ¡ 
__¤c
[],

882 
size_t
 
__¤ş’
, size_ˆ
__n
);

884 
__STRING_INLINE
 *

885 
	$__¡ºıy_by2
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
, size_ˆ
__n
)

887 *
__tmp
 = 
__de¡
;

888 
__dummy1
, 
__dummy2
;

889 
__asm__
 
__vŞ©e__


902 : "=&q" (
__dummy1
), "ô" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__dummy2
),

903 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

904 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__¤ş’
 / 2),

905 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

907 (è
	`mem£t
 (
__tmp
 + 2, '\0', 
__n
 - 
__¤ş’
);

908  
__de¡
;

909 
	}
}

911 
__STRING_INLINE
 *
__¡ºıy_byn
 (*
__de¡
, cÚ¡ 
__¤c
[],

912 
size_t
 
__¤ş’
, size_ˆ
__n
);

914 
__STRING_INLINE
 *

915 
	$__¡ºıy_byn
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
, size_ˆ
__n
)

917 
__d0
, 
__d1
;

918 *
__tmp
 = 
__de¡
;

919 
__asm__
 
__vŞ©e__


930 : "=D" (
__tmp
), "=&c" (
__d0
), "=&S" (
__d1
),

931 "=m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__de¡
)

932 : "1" (
__¤ş’
), "0" (
__tmp
),"2" (
__¤c
),

933 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

935 (è
	`mem£t
 (
__tmp
, '\0', 
__n
 - 
__¤ş’
);

936  
__de¡
;

937 
	}
}

939 
__STRING_INLINE
 *
__¡ºıy_gg
 (*
__de¡
, cÚ¡ *
__¤c
,

940 
size_t
 
__n
);

942 
__STRING_INLINE
 *

943 
	$__¡ºıy_gg
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
)

945 *
__tmp
 = 
__de¡
;

946 
__dummy
;

947 ià(
__n
 > 0)

948 
__asm__
 
__vŞ©e__


964 : "=&r" (
__¤c
), "=&r" (
__tmp
), "=&q" (
__dummy
), "=&r" (
__n
)

965 : "0" (
__¤c
), "1" (
__tmp
), "3" (
__n
)

968  
__de¡
;

969 
	}
}

973 
	#_HAVE_STRING_ARCH_¡rÿt
 1

	)

974 
	#¡rÿt
(
de¡
, 
¤c
) \

975 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

976 ? 
	`__¡rÿt_c
 ((
de¡
), (
¤c
), 
	`¡¾’
 (src) + 1) \

977 : 
	`__¡rÿt_g
 ((
de¡
), (
¤c
))))

	)

979 
__STRING_INLINE
 *
__¡rÿt_c
 (*
__de¡
, cÚ¡ 
__¤c
[],

980 
size_t
 
__¤ş’
);

982 
__STRING_INLINE
 *

983 
	$__¡rÿt_c
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__¤ş’
)

985 #ifdeà
__i686__


986 
__d0
;

987 *
__tmp
;

988 
__asm__
 
__vŞ©e__


990 : "=D" (
__tmp
), "=&c" (
__d0
),

991 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

992 : "0" (
__de¡
), "1" (0xffffffff), "a" (0),

993 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

995 --
__tmp
;

997 *
__tmp
 = 
__de¡
 - 1;

998 
__asm__
 
__vŞ©e__


1003 : "ô" (
__tmp
),

1004 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

1005 : "0" (
__tmp
),

1006 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__¤ş’
]; } *)
__¤c
)

1009 (è
	`memıy
 (
__tmp
, 
__¤c
, 
__¤ş’
);

1010  
__de¡
;

1011 
	}
}

1013 
__STRING_INLINE
 *
__¡rÿt_g
 (*
__de¡
, cÚ¡ *
__¤c
);

1015 
__STRING_INLINE
 *

1016 
	$__¡rÿt_g
 (*
__de¡
, cÚ¡ *
__¤c
)

1018 *
__tmp
 = 
__de¡
 - 1;

1019 
__dummy
;

1020 
__asm__
 
__vŞ©e__


1032 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__¤c
),

1033 "=m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__de¡
)

1034 : "1" (
__tmp
), "2" (
__¤c
),

1035 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__¤c
)

1037  
__de¡
;

1038 
	}
}

1042 
	#_HAVE_STRING_ARCH_¡ºÿt
 1

	)

1043 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

1044 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

1045 
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

1046 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

1047 ? 
	`¡rÿt
 (
__de¡
, (
¤c
)) \

1048 : (*(*)
	`__mempıy
 (
	`¡rchr
 (
__de¡
, '\0'), \

1049 (cÚ¡ *è(
¤c
), \

1050 (
n
)èğ0, 
__de¡
)) \

1051 : 
	`__¡ºÿt_g
 (
__de¡
, (
¤c
), (
n
)); }))

	)

1053 
__STRING_INLINE
 *
__¡ºÿt_g
 (*
__de¡
, cÚ¡ 
__¤c
[],

1054 
size_t
 
__n
);

1056 
__STRING_INLINE
 *

1057 
	$__¡ºÿt_g
 (*
__de¡
, cÚ¡ 
__¤c
[], 
size_t
 
__n
)

1059 *
__tmp
 = 
__de¡
;

1060 
__dummy
;

1061 #ifdeà
__i686__


1062 
__asm__
 
__vŞ©e__


1076 : "=&a" (
__dummy
), "=&D" (
__tmp
), "=&S" (
__¤c
), "=&c" (
__n
)

1077 : "g" (
__n
), "0" (0), "1" (
__tmp
), "2" (
__¤c
), "3" (0xffffffff)

1080 --
__tmp
;

1081 
__asm__
 
__vŞ©e__


1098 : "=&q" (
__dummy
), "=&r" (
__tmp
), "=&r" (
__¤c
), "=&r" (
__n
)

1099 : "1" (
__tmp
), "2" (
__¤c
), "3" (
__n
)

1102  
__de¡
;

1103 
	}
}

1107 
	#_HAVE_STRING_ARCH_¡rcmp
 1

	)

1108 
	#¡rcmp
(
s1
, 
s2
) \

1109 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

1110 && ( ((
s1
)[0]è!ğ1 || 
	`¡¾’
 (s1) >= 4) \

1111 && ( ((
s2
)[0]è!ğ1 || 
	`¡¾’
 (s2) >= 4) \

1112 ? 
	`memcmp
 ((cÚ¡ *è(
s1
), (cÚ¡ *è(
s2
), \

1113 (
	`¡¾’
 (
s1
è< sŒËÀ(
s2
) \

1114 ? 
	`¡¾’
 (
s1
è: sŒËÀ(
s2
)) + 1) \

1115 : (
	`__butš_cÚ¡ªt_p
 (
s1
) &&  ((s1)[0]) == 1 \

1116 &&  ((
s2
)[0]è=ğ1 && 
	`¡¾’
 (
s1
) < 4 \

1117 ? (
	`__butš_cÚ¡ªt_p
 (
s2
) &&  ((s2)[0]) == 1 \

1118 ? 
	`__¡rcmp_cc
 ((cÚ¡ *è(
s1
), \

1119 (cÚ¡ *è(
s2
), \

1120 
	`¡¾’
 (
s1
)) \

1121 : 
	`__¡rcmp_cg
 ((cÚ¡ *è(
s1
), \

1122 (cÚ¡ *è(
s2
), \

1123 
	`¡¾’
 (
s1
))) \

1124 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&&  ((
s1
)[0]) == 1 \

1125 &&  ((
s2
)[0]è=ğ1 && 
	`¡¾’
 (s2) < 4 \

1126 ? (
	`__butš_cÚ¡ªt_p
 (
s1
) \

1127 ? 
	`__¡rcmp_cc
 ((cÚ¡ *è(
s1
), \

1128 (cÚ¡ *è(
s2
), \

1129 
	`¡¾’
 (
s2
)) \

1130 : 
	`__¡rcmp_gc
 ((cÚ¡ *è(
s1
), \

1131 (cÚ¡ *è(
s2
), \

1132 
	`¡¾’
 (
s2
))) \

1133 : 
	`__¡rcmp_gg
 ((
s1
), (
s2
))))))

	)

1135 
	#__¡rcmp_cc
(
s1
, 
s2
, 
l
) \

1136 (
	`__ex‹nsiÚ__
 ({ 
__»suÉ
 = (
s1
)[0] - (
s2
)[0]; \

1137 ià(
l
 > 0 && 
__»suÉ
 == 0) \

1139 
__»suÉ
 = (
s1
)[1] - (
s2
)[1]; \

1140 ià(
l
 > 1 && 
__»suÉ
 == 0) \

1142 
__»suÉ
 = (
s1
)[2] - (
s2
)[2]; \

1143 ià(
l
 > 2 && 
__»suÉ
 == 0) \

1144 
__»suÉ
 = (
s1
)[3] - (
s2
)[3]; \

1147 
__»suÉ
; }))

	)

1149 
	#__¡rcmp_cg
(
s1
, 
s2
, 
l1
) \

1150 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s2
 = (
s2
); \

1151 
__»suÉ
 = (
s1
)[0] - 
__s2
[0]; \

1152 ià(
l1
 > 0 && 
__»suÉ
 == 0) \

1154 
__»suÉ
 = (
s1
)[1] - 
__s2
[1]; \

1155 ià(
l1
 > 1 && 
__»suÉ
 == 0) \

1157 
__»suÉ
 = (
s1
)[2] - 
__s2
[2]; \

1158 ià(
l1
 > 2 && 
__»suÉ
 == 0) \

1159 
__»suÉ
 = (
s1
)[3] - 
__s2
[3]; \

1162 
__»suÉ
; }))

	)

1164 
	#__¡rcmp_gc
(
s1
, 
s2
, 
l2
) \

1165 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s1
 = (
s1
); \

1166 
__»suÉ
 = 
__s1
[0] - (
s2
)[0]; \

1167 ià(
l2
 > 0 && 
__»suÉ
 == 0) \

1169 
__»suÉ
 = 
__s1
[1] - (
s2
)[1]; \

1170 ià(
l2
 > 1 && 
__»suÉ
 == 0) \

1172 
__»suÉ
 = 
__s1
[2] - (
s2
)[2]; \

1173 ià(
l2
 > 2 && 
__»suÉ
 == 0) \

1174 
__»suÉ
 = 
__s1
[3] - (
s2
)[3]; \

1177 
__»suÉ
; }))

	)

1179 
__STRING_INLINE
 
__¡rcmp_gg
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
);

1181 
__STRING_INLINE
 

1182 
	$__¡rcmp_gg
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
)

1184 
__»s
;

1185 
__asm__
 
__vŞ©e__


1201 : "=q" (
__»s
), "=&r" (
__s1
), "=&r" (
__s2
)

1202 : "1" (
__s1
), "2" (
__s2
),

1203 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s1
),

1204 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s2
)

1206  
__»s
;

1207 
	}
}

1211 
	#_HAVE_STRING_ARCH_¡ºcmp
 1

	)

1212 
	#¡ºcmp
(
s1
, 
s2
, 
n
) \

1213 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`¡¾’
 (s1è< ((
size_t
è(
n
)) \

1214 ? 
	`¡rcmp
 ((
s1
), (
s2
)) \

1215 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`¡¾’
 (s2è< ((
size_t
è(
n
))\

1216 ? 
	`¡rcmp
 ((
s1
), (
s2
)) \

1217 : 
	`__¡ºcmp_g
 ((
s1
), (
s2
), (
n
)))))

	)

1219 
__STRING_INLINE
 
__¡ºcmp_g
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
,

1220 
size_t
 
__n
);

1222 
__STRING_INLINE
 

1223 
	$__¡ºcmp_g
 (cÚ¡ *
__s1
, cÚ¡ *
__s2
, 
size_t
 
__n
)

1225 
__»s
;

1226 
__asm__
 
__vŞ©e__


1245 : "=q" (
__»s
), "=&r" (
__s1
), "=&r" (
__s2
), "=&r" (
__n
)

1246 : "1" (
__s1
), "2" (
__s2
), "3" (
__n
),

1247 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s1
),

1248 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__n
]; } *)
__s2
)

1250  
__»s
;

1251 
	}
}

1255 
	#_HAVE_STRING_ARCH_¡rchr
 1

	)

1256 
	#_USE_STRING_ARCH_¡rchr
 1

	)

1257 
	#¡rchr
(
s
, 
c
) \

1258 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1259 ? ((
c
) == '\0' \

1260 ? (*è
	`__¿wmemchr
 ((
s
), (
c
)) \

1261 : 
	`__¡rchr_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1262 : 
	`__¡rchr_g
 ((
s
), (
c
))))

	)

1264 
__STRING_INLINE
 *
__¡rchr_c
 (cÚ¡ *
__s
, 
__c
);

1266 
__STRING_INLINE
 *

1267 
	$__¡rchr_c
 (cÚ¡ *
__s
, 
__c
)

1269 
__d0
;

1270 *
__»s
;

1271 
__asm__
 
__vŞ©e__


1281 : "ô" (
__»s
), "=&a" (
__d0
)

1282 : "0" (
__s
), "1" (
__c
),

1283 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1285  
__»s
;

1286 
	}
}

1288 
__STRING_INLINE
 *
__¡rchr_g
 (cÚ¡ *
__s
, 
__c
);

1290 
__STRING_INLINE
 *

1291 
	$__¡rchr_g
 (cÚ¡ *
__s
, 
__c
)

1293 
__d0
;

1294 *
__»s
;

1295 
__asm__
 
__vŞ©e__


1306 : "ô" (
__»s
), "=&a" (
__d0
)

1307 : "0" (
__s
), "1" (
__c
),

1308 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1310  
__»s
;

1311 
	}
}

1315 
	#_HAVE_STRING_ARCH_¡rchºul
 1

	)

1316 
	#__¡rchºul
(
s
, 
c
) \

1317 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1318 ? ((
c
) == '\0' \

1319 ? (*è
	`__¿wmemchr
 ((
s
), 
c
) \

1320 : 
	`__¡rchºul_c
 ((
s
), ((
c
) & 0xff) << 8)) \

1321 : 
	`__¡rchºul_g
 ((
s
), 
c
)))

	)

1323 
__STRING_INLINE
 *
__¡rchºul_c
 (cÚ¡ *
__s
, 
__c
);

1325 
__STRING_INLINE
 *

1326 
	$__¡rchºul_c
 (cÚ¡ *
__s
, 
__c
)

1328 
__d0
;

1329 *
__»s
;

1330 
__asm__
 
__vŞ©e__


1340 : "ô" (
__»s
), "=&a" (
__d0
)

1341 : "0" (
__s
), "1" (
__c
),

1342 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1344  
__»s
;

1345 
	}
}

1347 
__STRING_INLINE
 *
__¡rchºul_g
 (cÚ¡ *
__s
, 
__c
);

1349 
__STRING_INLINE
 *

1350 
	$__¡rchºul_g
 (cÚ¡ *
__s
, 
__c
)

1352 
__d0
;

1353 *
__»s
;

1354 
__asm__
 
__vŞ©e__


1365 : "ô" (
__»s
), "=&a" (
__d0
)

1366 : "0" (
__s
), "1" (
__c
),

1367 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1369  
__»s
;

1370 
	}
}

1371 #ifdeà
__USE_GNU


1372 
	#¡rchºul
(
s
, 
c
è
	`__¡rchºul
 ((s), (c))

	)

1376 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1378 
	#_HAVE_STRING_ARCH_šdex
 1

	)

1379 
	#šdex
(
s
, 
c
) \

1380 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1381 ? 
	`__¡rchr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1382 : 
	`__¡rchr_g
 ((
s
), (
c
))))

	)

1387 
	#_HAVE_STRING_ARCH_¡¼chr
 1

	)

1388 
	#¡¼chr
(
s
, 
c
) \

1389 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1390 ? 
	`__¡¼chr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1391 : 
	`__¡¼chr_g
 ((
s
), (
c
))))

	)

1393 #ifdeà
__i686__


1394 
__STRING_INLINE
 *
__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
);

1396 
__STRING_INLINE
 *

1397 
	$__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
)

1399 
__d0
, 
__d1
;

1400 *
__»s
;

1401 
__asm__
 
__vŞ©e__


1409 : "=d" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1410 : "0" (1), "1" (
__s
), "2" (
__c
),

1411 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1413  
__»s
 - 1;

1414 
	}
}

1416 
__STRING_INLINE
 *
__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
);

1418 
__STRING_INLINE
 *

1419 
	$__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
)

1421 
__d0
, 
__d1
;

1422 *
__»s
;

1423 
__asm__
 
__vŞ©e__


1432 : "=d" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1433 : "0" (1), "1" (
__s
), "2" (
__c
),

1434 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1436  
__»s
 - 1;

1437 
	}
}

1439 
__STRING_INLINE
 *
__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
);

1441 
__STRING_INLINE
 *

1442 
	$__¡¼chr_c
 (cÚ¡ *
__s
, 
__c
)

1444 
__d0
, 
__d1
;

1445 *
__»s
;

1446 
__asm__
 
__vŞ©e__


1456 : "=d" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1457 : "0" (0), "1" (
__s
), "2" (
__c
),

1458 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1460  
__»s
;

1461 
	}
}

1463 
__STRING_INLINE
 *
__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
);

1465 
__STRING_INLINE
 *

1466 
	$__¡¼chr_g
 (cÚ¡ *
__s
, 
__c
)

1468 
__d0
, 
__d1
;

1469 *
__»s
;

1470 
__asm__
 
__vŞ©e__


1481 : "ô" (
__»s
), "=&S" (
__d0
), "=&a" (
__d1
)

1482 : "0" (0), "1" (
__s
), "2" (
__c
),

1483 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1485  
__»s
;

1486 
	}
}

1490 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1492 
	#_HAVE_STRING_ARCH_ršdex
 1

	)

1493 
	#ršdex
(
s
, 
c
) \

1494 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) \

1495 ? 
	`__¡¼chr_c
 ((
s
), ((
c
) & 0xff) << 8) \

1496 : 
	`__¡¼chr_g
 ((
s
), (
c
))))

	)

1502 
	#_HAVE_STRING_ARCH_¡rc¥n
 1

	)

1503 
	#¡rc¥n
(
s
, 
»jeù
) \

1504 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
»jeù
) &&  ((reject)[0]) == 1 \

1505 ? ((
»jeù
)[0] == '\0' \

1506 ? 
	`¡¾’
 (
s
) \

1507 : ((
»jeù
)[1] == '\0' \

1508 ? 
	`__¡rc¥n_c1
 ((
s
), (((
»jeù
)[0] << 8) & 0xff00)) \

1509 : 
	`__¡rc¥n_cg
 ((
s
), (
»jeù
), 
	`¡¾’
 (reject)))) \

1510 : 
	`__¡rc¥n_g
 ((
s
), (
»jeù
))))

	)

1512 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
);

1514 #iâdeà
_FORCE_INLINES


1515 
__STRING_INLINE
 
size_t


1516 
	$__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
)

1518 
__d0
;

1519 *
__»s
;

1520 
__asm__
 
__vŞ©e__


1529 : "ô" (
__»s
), "=&a" (
__d0
)

1530 : "0" (
__s
), "1" (
__»jeù
),

1531 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1533  (
__»s
 - 1è- 
__s
;

1534 
	}
}

1537 
__STRING_INLINE
 
size_t
 
__¡rc¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__»jeù
[],

1538 
size_t
 
__»jeù_Ën
);

1540 
__STRING_INLINE
 
size_t


1541 
	$__¡rc¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__»jeù
[], 
size_t
 
__»jeù_Ën
)

1543 
__d0
, 
__d1
, 
__d2
;

1544 cÚ¡ *
__»s
;

1545 
__asm__
 
__vŞ©e__


1556 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1557 : "0" (
__s
), "d" (
__»jeù
), "g" (
__»jeù_Ën
)

1559  (
__»s
 - 1è- 
__s
;

1560 
	}
}

1562 
__STRING_INLINE
 
size_t
 
__¡rc¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
);

1563 #ifdeà
__PIC__


1565 
__STRING_INLINE
 
size_t


1566 
	$__¡rc¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

1568 
__d0
, 
__d1
, 
__d2
;

1569 cÚ¡ *
__»s
;

1570 
__asm__
 
__vŞ©e__


1587 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1588 : "r" (
__»jeù
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1590  (
__»s
 - 1è- 
__s
;

1591 
	}
}

1593 
__STRING_INLINE
 
size_t


1594 
	$__¡rc¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__»jeù
)

1596 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1597 cÚ¡ *
__»s
;

1598 
__asm__
 
__vŞ©e__


1612 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1613 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__»jeù
), "b" (__reject)

1616  (
__»s
 - 1è- 
__s
;

1617 
	}
}

1623 
	#_HAVE_STRING_ARCH_¡r¥n
 1

	)

1624 
	#¡r¥n
(
s
, 
acû±
) \

1625 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
acû±
) &&  ((accept)[0]) == 1 \

1626 ? ((
acû±
)[0] == '\0' \

1627 ? ((è(
s
), 0) \

1628 : ((
acû±
)[1] == '\0' \

1629 ? 
	`__¡r¥n_c1
 ((
s
), (((
acû±
)[0] << 8 ) & 0xff00)) \

1630 : 
	`__¡r¥n_cg
 ((
s
), (
acû±
), 
	`¡¾’
 (accept)))) \

1631 : 
	`__¡r¥n_g
 ((
s
), (
acû±
))))

	)

1633 #iâdeà
_FORCE_INLINES


1634 
__STRING_INLINE
 
size_t
 
__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
);

1636 
__STRING_INLINE
 
size_t


1637 
	$__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
)

1639 
__d0
;

1640 *
__»s
;

1642 
__asm__
 
__vŞ©e__


1648 : "ô" (
__»s
), "=&q" (
__d0
)

1649 : "0" (
__s
), "1" (
__acû±
),

1650 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
)

1652  (
__»s
 - 1è- 
__s
;

1653 
	}
}

1656 
__STRING_INLINE
 
size_t
 
__¡r¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[],

1657 
size_t
 
__acû±_Ën
);

1659 
__STRING_INLINE
 
size_t


1660 
	$__¡r¥n_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[], 
size_t
 
__acû±_Ën
)

1662 
__d0
, 
__d1
, 
__d2
;

1663 cÚ¡ *
__»s
;

1664 
__asm__
 
__vŞ©e__


1675 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1676 : "0" (
__s
), "g" (
__acû±
), "g" (
__acû±_Ën
),

1679 "m" ( *(¡ruù { 
__x
[0xfffffff]; } *)
__s
),

1680 "m" ( *(¡ruù { 
__ex‹nsiÚ__
 
__x
[
__acû±_Ën
]; } *)
__acû±
)

1682  (
__»s
 - 1è- 
__s
;

1683 
	}
}

1685 
__STRING_INLINE
 
size_t
 
__¡r¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
);

1686 #ifdeà
__PIC__


1688 
__STRING_INLINE
 
size_t


1689 
	$__¡r¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1691 
__d0
, 
__d1
, 
__d2
;

1692 cÚ¡ *
__»s
;

1693 
__asm__
 
__vŞ©e__


1709 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1710 : "d" (
__acû±
), "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (__accept)

1712  (
__»s
 - 1è- 
__s
;

1713 
	}
}

1715 
__STRING_INLINE
 
size_t


1716 
	$__¡r¥n_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1718 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1719 cÚ¡ *
__»s
;

1720 
__asm__
 
__vŞ©e__


1734 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1735 : "0" (
__s
), "1" (0), "2" (0xffffffff), "3" (
__acû±
), "b" (__accept)

1737  (
__»s
 - 1è- 
__s
;

1738 
	}
}

1743 
	#_HAVE_STRING_ARCH_¡½brk
 1

	)

1744 
	#¡½brk
(
s
, 
acû±
) \

1745 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
acû±
) &&  ((accept)[0]) == 1 \

1746 ? ((
acû±
)[0] == '\0' \

1747 ? ((è(
s
), (*) 0) \

1748 : ((
acû±
)[1] == '\0' \

1749 ? 
	`¡rchr
 ((
s
), (
acû±
)[0]) \

1750 : 
	`__¡½brk_cg
 ((
s
), (
acû±
), 
	`¡¾’
 (accept)))) \

1751 : 
	`__¡½brk_g
 ((
s
), (
acû±
))))

	)

1753 
__STRING_INLINE
 *
__¡½brk_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[],

1754 
size_t
 
__acû±_Ën
);

1756 
__STRING_INLINE
 *

1757 
	$__¡½brk_cg
 (cÚ¡ *
__s
, cÚ¡ 
__acû±
[], 
size_t
 
__acû±_Ën
)

1759 
__d0
, 
__d1
, 
__d2
;

1760 *
__»s
;

1761 
__asm__
 
__vŞ©e__


1776 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1777 : "0" (
__s
), "d" (
__acû±
), "g" (
__acû±_Ën
)

1779  
__»s
;

1780 
	}
}

1782 
__STRING_INLINE
 *
__¡½brk_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
);

1783 #ifdeà
__PIC__


1785 
__STRING_INLINE
 *

1786 
	$__¡½brk_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1788 
__d0
, 
__d1
, 
__d2
;

1789 *
__»s
;

1790 
__asm__
 
__vŞ©e__


1811 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&D" (
__d2
)

1812 : "d" (
__acû±
), "0" (
__s
), "1" (0), "2" (0xffffffff)

1814  
__»s
;

1815 
	}
}

1817 
__STRING_INLINE
 *

1818 
	$__¡½brk_g
 (cÚ¡ *
__s
, cÚ¡ *
__acû±
)

1820 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1821 *
__»s
;

1822 
__asm__
 
__vŞ©e__


1841 : "=S" (
__»s
), "=&a" (
__d0
), "=&c" (
__d1
), "=&d" (
__d2
), "=&D" (
__d3
)

1842 : "0" (
__s
), "1" (0), "2" (0xffffffff), "b" (
__acû±
)

1844  
__»s
;

1845 
	}
}

1850 
	#_HAVE_STRING_ARCH_¡r¡r
 1

	)

1851 
	#¡r¡r
(
hay¡ack
, 
ÃedË
) \

1852 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
ÃedË
) &&  ((needle)[0]) == 1 \

1853 ? ((
ÃedË
)[0] == '\0' \

1854 ? (
hay¡ack
) \

1855 : ((
ÃedË
)[1] == '\0' \

1856 ? 
	`¡rchr
 ((
hay¡ack
), (
ÃedË
)[0]) \

1857 : 
	`__¡r¡r_cg
 ((
hay¡ack
), (
ÃedË
), \

1858 
	`¡¾’
 (
ÃedË
)))) \

1859 : 
	`__¡r¡r_g
 ((
hay¡ack
), (
ÃedË
))))

	)

1863 
__STRING_INLINE
 *
__¡r¡r_cg
 (cÚ¡ *
__hay¡ack
,

1864 cÚ¡ 
__ÃedË
[],

1865 
size_t
 
__ÃedË_Ën
);

1867 
__STRING_INLINE
 *

1868 
	$__¡r¡r_cg
 (cÚ¡ *
__hay¡ack
, cÚ¡ 
__ÃedË
[],

1869 
size_t
 
__ÃedË_Ën
)

1871 
__d0
, 
__d1
, 
__d2
;

1872 *
__»s
;

1873 
__asm__
 
__vŞ©e__


1886 : "=&a" (
__»s
), "=&S" (
__d0
), "=&D" (
__d1
), "=&c" (
__d2
)

1887 : "g" (
__ÃedË_Ën
), "1" (
__hay¡ack
), "d" (
__ÃedË
)

1889  
__»s
;

1890 
	}
}

1892 
__STRING_INLINE
 *
__¡r¡r_g
 (cÚ¡ *
__hay¡ack
,

1893 cÚ¡ *
__ÃedË
);

1894 #ifdeà
__PIC__


1896 
__STRING_INLINE
 *

1897 
	$__¡r¡r_g
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

1899 
__d0
, 
__d1
, 
__d2
;

1900 *
__»s
;

1901 
__asm__
 
__vŞ©e__


1920 : "=&a" (
__»s
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
)

1921 : "0" (0), "1" (0xffffffff), "2" (
__hay¡ack
), "3" (
__ÃedË
),

1922 "d" (
__ÃedË
)

1924  
__»s
;

1925 
	}
}

1927 
__STRING_INLINE
 *

1928 
	$__¡r¡r_g
 (cÚ¡ *
__hay¡ack
, cÚ¡ *
__ÃedË
)

1930 
__d0
, 
__d1
, 
__d2
, 
__d3
;

1931 *
__»s
;

1932 
__asm__
 
__vŞ©e__


1949 : "=&a" (
__»s
), "=&c" (
__d0
), "=&S" (
__d1
), "=&D" (
__d2
), "=&d" (
__d3
)

1950 : "0" (0), "1" (0xffffffff), "2" (
__hay¡ack
), "3" (
__ÃedË
),

1951 "b" (
__ÃedË
)

1953  
__»s
;

1954 
	}
}

1960 #ià
defšed
 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1961 #ifdeà
__i686__


1962 
	#_HAVE_STRING_ARCH_ffs
 1

	)

1963 
	#ffs
(
wÜd
è(
	`__butš_cÚ¡ªt_p
 (word) \

1964 ? 
	`__butš_ffs
 (
wÜd
) \

1965 : ({ 
__út
, 
__tmp
; \

1966 
__asm__
 
__vŞ©e__
 \

1969 : "=&r" (
__út
), "ô" (
__tmp
) \

1970 : "rm" (
wÜd
), "1" (-1)); \

1971 
__út
 + 1; }))

	)

1973 #iâdeà
ff¦


1974 
	#ff¦
(
wÜd
è
	`ffs
(wÜd)

	)

1979 #iâdeà
_FORCE_INLINES


1980 #undeà
__STRING_INLINE


	@/usr/include/bits/string2.h

20 #iâdeà
_STRING_H


24 #ià!
defšed
 
__NO_STRING_INLINES
 && !defšed 
__BOUNDED_POINTERS__


41 #iâdeà
__STRING_INLINE


42 #ifdeà
__ılu¥lus


43 
	#__STRING_INLINE
 
šlše


	)

45 
	#__STRING_INLINE
 
__ex‹º_šlše


	)

49 #ià
_STRING_ARCH_uÇligÃd


51 
	~<’dŸn.h
>

52 
	~<b™s/ty³s.h
>

54 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


55 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

56 (((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1] << 8 \

57 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
])

	)

58 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

59 (((((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 3] << 8 \

60 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

61 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

62 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
])

	)

64 
	#__STRING2_SMALL_GET16
(
¤c
, 
idx
) \

65 (((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
] << 8 \

66 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1])

	)

67 
	#__STRING2_SMALL_GET32
(
¤c
, 
idx
) \

68 (((((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
] << 8 \

69 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 1]) << 8 \

70 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 2]) << 8 \

71 | ((cÚ¡ *è(cÚ¡ *è(
¤c
))[
idx
 + 3])

	)

76 
	#__STRING2_COPY_TYPE
(
N
) \

77 ¡ruù { 
__¬r
[
N
]; } \

78 
	t__©Œibu‹__
 ((
	t__·cked__
)è
	t__STRING2_COPY_ARR
##
	tN


	)

79 
	t__STRING2_COPY_TYPE
 (2);

80 
__STRING2_COPY_TYPE
 (3);

81 
__STRING2_COPY_TYPE
 (4);

82 
__STRING2_COPY_TYPE
 (5);

83 
__STRING2_COPY_TYPE
 (6);

84 
__STRING2_COPY_TYPE
 (7);

85 
__STRING2_COPY_TYPE
 (8);

86 #undeà
__STRING2_COPY_TYPE


92 
	#__¡ršg2_1b±r_p
(
__x
) \

93 ((
size_t
)(cÚ¡ *)((
__x
è+ 1è- (size_t)(cÚ¡ *)(__xè=ğ1)

	)

96 #ià!
defšed
 
_HAVE_STRING_ARCH_mem£t


97 #ià!
__GNUC_PREREQ
 (3, 0)

98 #ià
_STRING_ARCH_uÇligÃd


99 
	#mem£t
(
s
, 
c
, 
n
) \

100 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) && (n) <= 16 \

101 ? ((
n
) == 1 \

102 ? 
	`__mem£t_1
 (
s
, 
c
) \

103 : 
	`__mem£t_gc
 (
s
, 
c
, 
n
)) \

104 : (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

105 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

106 : 
	`mem£t
 (
s
, 
c
, 
n
))))

	)

108 
	#__mem£t_1
(
s
, 
c
è({ *
__s
 = (s); \

109 *((
__ušt8_t
 *è
__s
èğ(__ušt8_tè
c
; __s; })

	)

111 
	#__mem£t_gc
(
s
, 
c
, 
n
) \

112 ({ *
__s
 = (
s
); \

114 
__ui
; \

115 
__usi
; \

116 
__uc
; \

117 } *
__u
 = 
__s
; \

118 
__ušt8_t
 
__c
 = (__ušt8_tè(
c
); \

121 (è(
n
)) \

124 
__u
->
__ui
 = 
__c
 * 0x01010101; \

125 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

127 
__u
->
__ui
 = 
__c
 * 0x01010101; \

128 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

130 
__u
->
__ui
 = 
__c
 * 0x01010101; \

131 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

133 
__u
->
__usi
 = (è
__c
 * 0x0101; \

134 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2); \

135 
__u
->
__uc
 = (è
__c
; \

139 
__u
->
__ui
 = 
__c
 * 0x01010101; \

140 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

142 
__u
->
__ui
 = 
__c
 * 0x01010101; \

143 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

145 
__u
->
__ui
 = 
__c
 * 0x01010101; \

146 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

148 
__u
->
__usi
 = (è
__c
 * 0x0101; \

152 
__u
->
__ui
 = 
__c
 * 0x01010101; \

153 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

155 
__u
->
__ui
 = 
__c
 * 0x01010101; \

156 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

158 
__u
->
__ui
 = 
__c
 * 0x01010101; \

159 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

161 
__u
->
__uc
 = (è
__c
; \

165 
__u
->
__ui
 = 
__c
 * 0x01010101; \

166 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

168 
__u
->
__ui
 = 
__c
 * 0x01010101; \

169 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

171 
__u
->
__ui
 = 
__c
 * 0x01010101; \

172 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4); \

174 
__u
->
__ui
 = 
__c
 * 0x01010101; \

179 
__s
; })

	)

181 
	#mem£t
(
s
, 
c
, 
n
) \

182 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

183 ? ({ *
__s
 = (
s
); 
	`__bz”o
 (__s, 
n
); __s; }) \

184 : 
	`mem£t
 (
s
, 
c
, 
n
)))

	)

193 #ià
__GNUC_PREREQ
 (2, 91)

194 
	#__bz”o
(
s
, 
n
è
	`__butš_mem£t
 (s, '\0',‚)

	)

202 #ifdeà
__USE_GNU


203 #ià!
defšed
 
_HAVE_STRING_ARCH_mempıy
 || defšed 
_FORCE_INLINES


204 #iâdeà
_HAVE_STRING_ARCH_mempıy


205 #ià
__GNUC_PREREQ
 (3, 4)

206 
	#__mempıy
(
de¡
, 
¤c
, 
n
è
	`__butš_mempıy
 (de¡, src,‚)

	)

207 #–ià
__GNUC_PREREQ
 (3, 0)

208 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

209 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

210 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

211 ? 
	`__butš_memıy
 (
de¡
, 
¤c
, 
n
) + (n) \

212 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

214 
	#__mempıy
(
de¡
, 
¤c
, 
n
) \

215 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

216 && 
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
n
 <= 8 \

217 ? 
	`__mempıy_sm®l
 (
de¡
, 
	`__mempıy_¬gs
 (
¤c
), 
n
) \

218 : 
	`__mempıy
 (
de¡
, 
¤c
, 
n
)))

	)

222 
	#mempıy
(
de¡
, 
¤c
, 
n
è
	`__mempıy
 (de¡, src,‚)

	)

225 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


226 #ià
_STRING_ARCH_uÇligÃd


227 #iâdeà
_FORCE_INLINES


228 
	#__mempıy_¬gs
(
¤c
) \

229 ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[2], \

230 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[6], \

231 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

232 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

233 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

234 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

236 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , , , ,

237 
__ušt16_t
, __ušt16_t, 
__ušt32_t
,

238 
__ušt32_t
, 
size_t
);

239 
__STRING_INLINE
 *

240 
	$__mempıy_sm®l
 (*
__de¡1
,

241 
__¤c0_1
, 
__¤c2_1
, 
__¤c4_1
, 
__¤c6_1
,

242 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

243 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

244 
size_t
 
__¤ş’
)

247 
__ušt32_t
 
__ui
;

248 
__ušt16_t
 
__usi
;

249 
__uc
;

250 
__c
;

251 } *
__u
 = 
__de¡1
;

252 (è
__¤ş’
)

255 
__u
->
__c
 = 
__¤c0_1
;

256 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

259 
__u
->
__usi
 = 
__¤c0_2
;

260 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

263 
__u
->
__usi
 = 
__¤c0_2
;

264 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

265 
__u
->
__c
 = 
__¤c2_1
;

266 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

269 
__u
->
__ui
 = 
__¤c0_4
;

270 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

273 
__u
->
__ui
 = 
__¤c0_4
;

274 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

275 
__u
->
__c
 = 
__¤c4_1
;

276 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

279 
__u
->
__ui
 = 
__¤c0_4
;

280 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

281 
__u
->
__usi
 = 
__¤c4_2
;

282 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

285 
__u
->
__ui
 = 
__¤c0_4
;

286 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

287 
__u
->
__usi
 = 
__¤c4_2
;

288 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

289 
__u
->
__c
 = 
__¤c6_1
;

290 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

293 
__u
->
__ui
 = 
__¤c0_4
;

294 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

295 
__u
->
__ui
 = 
__¤c4_4
;

296 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

299  (*è
__u
;

300 
	}
}

302 #iâdeà
_FORCE_INLINES


303 
	#__mempıy_¬gs
(
¤c
) \

304 ((cÚ¡ *è(
¤c
))[0], \

305 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

306 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1] } }), \

307 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

308 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

309 ((cÚ¡ *è(
¤c
))[2] } }), \

310 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

311 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

312 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3] } }), \

313 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

314 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

315 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

316 ((cÚ¡ *è(
¤c
))[4] } }), \

317 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

318 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

319 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

320 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5] } }), \

321 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

322 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

323 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

324 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

325 ((cÚ¡ *è(
¤c
))[6] } }), \

326 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

327 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

328 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

329 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

330 ((cÚ¡ *è(
¤c
))[6], ((cÚ¡ *è(¤c))[7] } })

	)

332 
__STRING_INLINE
 *
__mempıy_sm®l
 (*, , 
__STRING2_COPY_ARR2
,

333 
__STRING2_COPY_ARR3
,

334 
__STRING2_COPY_ARR4
,

335 
__STRING2_COPY_ARR5
,

336 
__STRING2_COPY_ARR6
,

337 
__STRING2_COPY_ARR7
,

338 
__STRING2_COPY_ARR8
, 
size_t
);

339 
__STRING_INLINE
 *

340 
	$__mempıy_sm®l
 (*
__de¡
, 
__¤c1
,

341 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

342 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

343 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

344 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

347 
__c
;

348 
__STRING2_COPY_ARR2
 
__sÿ2
;

349 
__STRING2_COPY_ARR3
 
__sÿ3
;

350 
__STRING2_COPY_ARR4
 
__sÿ4
;

351 
__STRING2_COPY_ARR5
 
__sÿ5
;

352 
__STRING2_COPY_ARR6
 
__sÿ6
;

353 
__STRING2_COPY_ARR7
 
__sÿ7
;

354 
__STRING2_COPY_ARR8
 
__sÿ8
;

355 } *
__u
 = 
__de¡
;

356 (è
__¤ş’
)

359 
__u
->
__c
 = 
__¤c1
;

362 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

365 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

368 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

371 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

374 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

377 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

380 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

383  
	`__ex‹nsiÚ__
 ((*è
__u
 + 
__¤ş’
);

384 
	}
}

392 #iâdeà
_HAVE_STRING_ARCH_¡rchr


393 *
__¿wmemchr
 (cÚ¡ *
__s
, 
__c
);

394 #ià
__GNUC_PREREQ
 (3, 2)

395 
	#¡rchr
(
s
, 
c
) \

396 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
è&& !__butš_cÚ¡ªt_°(
s
) \

397 && (
c
) == '\0' \

398 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

399 : 
	`__butš_¡rchr
 (
s
, 
c
)))

	)

401 
	#¡rchr
(
s
, 
c
) \

402 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
c
) && (c) == '\0' \

403 ? (*è
	`__¿wmemchr
 (
s
, 
c
) \

404 : 
	`¡rchr
 (
s
, 
c
)))

	)

410 #ià(!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)) \

411 || 
defšed
 
	g_FORCE_INLINES


412 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rıy
 && !
__GNUC_PREREQ
 (3, 0)

413 
	#¡rıy
(
de¡
, 
¤c
) \

414 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

415 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

416 ? 
	`__¡rıy_sm®l
 (
de¡
, 
	`__¡rıy_¬gs
 (
¤c
), \

417 
	`¡¾’
 (
¤c
) + 1) \

418 : (*è
	`memıy
 (
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1)) \

419 : 
	`¡rıy
 (
de¡
, 
¤c
)))

	)

422 #ià
_STRING_ARCH_uÇligÃd


423 #iâdeà
_FORCE_INLINES


424 
	#__¡rıy_¬gs
(
¤c
) \

425 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

426 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

427 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

428 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

430 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

431 
__ušt32_t
, __ušt32_t, 
size_t
);

432 
__STRING_INLINE
 *

433 
	$__¡rıy_sm®l
 (*
__de¡
,

434 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

435 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

436 
size_t
 
__¤ş’
)

439 
__ušt32_t
 
__ui
;

440 
__ušt16_t
 
__usi
;

441 
__uc
;

442 } *
__u
 = (*è
__de¡
;

443 (è
__¤ş’
)

446 
__u
->
__uc
 = '\0';

449 
__u
->
__usi
 = 
__¤c0_2
;

452 
__u
->
__usi
 = 
__¤c0_2
;

453 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

454 
__u
->
__uc
 = '\0';

457 
__u
->
__ui
 = 
__¤c0_4
;

460 
__u
->
__ui
 = 
__¤c0_4
;

461 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

462 
__u
->
__uc
 = '\0';

465 
__u
->
__ui
 = 
__¤c0_4
;

466 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

467 
__u
->
__usi
 = 
__¤c4_2
;

470 
__u
->
__ui
 = 
__¤c0_4
;

471 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

472 
__u
->
__usi
 = 
__¤c4_2
;

473 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

474 
__u
->
__uc
 = '\0';

477 
__u
->
__ui
 = 
__¤c0_4
;

478 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

479 
__u
->
__ui
 = 
__¤c4_4
;

482  
__de¡
;

483 
	}
}

485 #iâdeà
_FORCE_INLINES


486 
	#__¡rıy_¬gs
(
¤c
) \

487 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

488 { { ((cÚ¡ *è(
¤c
))[0], '\0' } }), \

489 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

490 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

492 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

493 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

494 ((cÚ¡ *è(
¤c
))[2], '\0' } }), \

495 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

496 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

497 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

499 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

500 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

501 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

502 ((cÚ¡ *è(
¤c
))[4], '\0' } }), \

503 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

504 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

505 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

506 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

508 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

509 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

510 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

511 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

512 ((cÚ¡ *è(
¤c
))[6], '\0' } })

	)

514 
__STRING_INLINE
 *
__¡rıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

515 
__STRING2_COPY_ARR3
,

516 
__STRING2_COPY_ARR4
,

517 
__STRING2_COPY_ARR5
,

518 
__STRING2_COPY_ARR6
,

519 
__STRING2_COPY_ARR7
,

520 
__STRING2_COPY_ARR8
, 
size_t
);

521 
__STRING_INLINE
 *

522 
	$__¡rıy_sm®l
 (*
__de¡
,

523 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

524 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

525 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

526 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

529 
__c
;

530 
__STRING2_COPY_ARR2
 
__sÿ2
;

531 
__STRING2_COPY_ARR3
 
__sÿ3
;

532 
__STRING2_COPY_ARR4
 
__sÿ4
;

533 
__STRING2_COPY_ARR5
 
__sÿ5
;

534 
__STRING2_COPY_ARR6
 
__sÿ6
;

535 
__STRING2_COPY_ARR7
 
__sÿ7
;

536 
__STRING2_COPY_ARR8
 
__sÿ8
;

537 } *
__u
 = (*è
__de¡
;

538 (è
__¤ş’
)

541 
__u
->
__c
 = '\0';

544 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

547 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

550 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

553 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

556 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

559 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

562 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

565  
__de¡
;

566 
	}
}

572 #ifdeà
__USE_GNU


573 #ià!
defšed
 
_HAVE_STRING_ARCH_¡pıy
 || defšed 
_FORCE_INLINES


574 #iâdeà
_HAVE_STRING_ARCH_¡pıy


575 #ià
__GNUC_PREREQ
 (3, 4)

576 
	#__¡pıy
(
de¡
, 
¤c
è
	`__butš_¡pıy
 (de¡, src)

	)

577 #–ià
__GNUC_PREREQ
 (3, 0)

578 
	#__¡pıy
(
de¡
, 
¤c
) \

579 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

580 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

581 ? 
	`__butš_¡rıy
 (
de¡
, 
¤c
è+ 
	`¡¾’
 (src) \

582 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

584 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

586 
	#__¡pıy
(
de¡
, 
¤c
) \

587 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
) \

588 ? (
	`__¡ršg2_1b±r_p
 (
¤c
è&& 
	`¡¾’
 (src) + 1 <= 8 \

589 ? 
	`__¡pıy_sm®l
 (
de¡
, 
	`__¡pıy_¬gs
 (
¤c
), \

590 
	`¡¾’
 (
¤c
) + 1) \

591 : ((*è(
__mempıy
è(
de¡
, 
¤c
, 
	`¡¾’
 (src) + 1) \

593 : 
	`__¡pıy
 (
de¡
, 
¤c
)))

	)

597 
	#¡pıy
(
de¡
, 
¤c
è
	`__¡pıy
 (de¡, src)

	)

600 #ià!
__GNUC_PREREQ
 (3, 0è|| 
defšed
 
_FORCE_INLINES


601 #ià
_STRING_ARCH_uÇligÃd


602 #iâdeà
_FORCE_INLINES


603 
	#__¡pıy_¬gs
(
¤c
) \

604 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 0), \

605 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET16
 (
¤c
, 4), \

606 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 0), \

607 
__ex‹nsiÚ__
 
	`__STRING2_SMALL_GET32
 (
¤c
, 4)

	)

609 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__ušt16_t
, __uint16_t,

610 
__ušt32_t
, __ušt32_t, 
size_t
);

611 
__STRING_INLINE
 *

612 
	$__¡pıy_sm®l
 (*
__de¡
,

613 
__ušt16_t
 
__¤c0_2
, __ušt16_ˆ
__¤c4_2
,

614 
__ušt32_t
 
__¤c0_4
, __ušt32_ˆ
__¤c4_4
,

615 
size_t
 
__¤ş’
)

618 
__ui
;

619 
__usi
;

620 
__uc
;

621 
__c
;

622 } *
__u
 = (*è
__de¡
;

623 (è
__¤ş’
)

626 
__u
->
__uc
 = '\0';

629 
__u
->
__usi
 = 
__¤c0_2
;

630 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

633 
__u
->
__usi
 = 
__¤c0_2
;

634 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

635 
__u
->
__uc
 = '\0';

638 
__u
->
__ui
 = 
__¤c0_4
;

639 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

642 
__u
->
__ui
 = 
__¤c0_4
;

643 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

644 
__u
->
__uc
 = '\0';

647 
__u
->
__ui
 = 
__¤c0_4
;

648 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

649 
__u
->
__usi
 = 
__¤c4_2
;

650 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 1);

653 
__u
->
__ui
 = 
__¤c0_4
;

654 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

655 
__u
->
__usi
 = 
__¤c4_2
;

656 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 2);

657 
__u
->
__uc
 = '\0';

660 
__u
->
__ui
 = 
__¤c0_4
;

661 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 4);

662 
__u
->
__ui
 = 
__¤c4_4
;

663 
__u
 = 
	`__ex‹nsiÚ__
 ((*) __u + 3);

666  &
__u
->
__c
;

667 
	}
}

669 #iâdeà
_FORCE_INLINES


670 
	#__¡pıy_¬gs
(
¤c
) \

671 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR2
) \

672 { { ((cÚ¡ *è(
¤c
))[0], '\0' } }), \

673 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR3
) \

674 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

676 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR4
) \

677 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

678 ((cÚ¡ *è(
¤c
))[2], '\0' } }), \

679 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR5
) \

680 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

681 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

683 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR6
) \

684 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

685 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

686 ((cÚ¡ *è(
¤c
))[4], '\0' } }), \

687 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR7
) \

688 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

689 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

690 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

692 
	`__ex‹nsiÚ__
 ((
__STRING2_COPY_ARR8
) \

693 { { ((cÚ¡ *è(
¤c
))[0], ((const *) (src))[1], \

694 ((cÚ¡ *è(
¤c
))[2], ((const *) (src))[3], \

695 ((cÚ¡ *è(
¤c
))[4], ((const *) (src))[5], \

696 ((cÚ¡ *è(
¤c
))[6], '\0' } })

	)

698 
__STRING_INLINE
 *
__¡pıy_sm®l
 (*, 
__STRING2_COPY_ARR2
,

699 
__STRING2_COPY_ARR3
,

700 
__STRING2_COPY_ARR4
,

701 
__STRING2_COPY_ARR5
,

702 
__STRING2_COPY_ARR6
,

703 
__STRING2_COPY_ARR7
,

704 
__STRING2_COPY_ARR8
, 
size_t
);

705 
__STRING_INLINE
 *

706 
	$__¡pıy_sm®l
 (*
__de¡
,

707 
__STRING2_COPY_ARR2
 
__¤c2
, 
__STRING2_COPY_ARR3
 
__¤c3
,

708 
__STRING2_COPY_ARR4
 
__¤c4
, 
__STRING2_COPY_ARR5
 
__¤c5
,

709 
__STRING2_COPY_ARR6
 
__¤c6
, 
__STRING2_COPY_ARR7
 
__¤c7
,

710 
__STRING2_COPY_ARR8
 
__¤c8
, 
size_t
 
__¤ş’
)

713 
__c
;

714 
__STRING2_COPY_ARR2
 
__sÿ2
;

715 
__STRING2_COPY_ARR3
 
__sÿ3
;

716 
__STRING2_COPY_ARR4
 
__sÿ4
;

717 
__STRING2_COPY_ARR5
 
__sÿ5
;

718 
__STRING2_COPY_ARR6
 
__sÿ6
;

719 
__STRING2_COPY_ARR7
 
__sÿ7
;

720 
__STRING2_COPY_ARR8
 
__sÿ8
;

721 } *
__u
 = (*è
__de¡
;

722 (è
__¤ş’
)

725 
__u
->
__c
 = '\0';

728 
__ex‹nsiÚ__
 
__u
->
__sÿ2
 = 
__¤c2
;

731 
__ex‹nsiÚ__
 
__u
->
__sÿ3
 = 
__¤c3
;

734 
__ex‹nsiÚ__
 
__u
->
__sÿ4
 = 
__¤c4
;

737 
__ex‹nsiÚ__
 
__u
->
__sÿ5
 = 
__¤c5
;

740 
__ex‹nsiÚ__
 
__u
->
__sÿ6
 = 
__¤c6
;

743 
__ex‹nsiÚ__
 
__u
->
__sÿ7
 = 
__¤c7
;

746 
__ex‹nsiÚ__
 
__u
->
__sÿ8
 = 
__¤c8
;

749  
__de¡
 + 
__¤ş’
 - 1;

750 
	}
}

758 #iâdeà
_HAVE_STRING_ARCH_¡ºıy


759 #ià
__GNUC_PREREQ
 (3, 2)

760 
	#¡ºıy
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºıy
 (de¡, src,‚)

	)

762 
	#¡ºıy
(
de¡
, 
¤c
, 
n
) \

763 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

764 ? (
	`¡¾’
 (
¤c
è+ 1 >ğ((
size_t
è(
n
)) \

765 ? (*è
	`memıy
 (
de¡
, 
¤c
, 
n
) \

766 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)) \

767 : 
	`¡ºıy
 (
de¡
, 
¤c
, 
n
)))

	)

773 #iâdeà
_HAVE_STRING_ARCH_¡ºÿt


774 #ifdeà
_USE_STRING_ARCH_¡rchr


775 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

776 (
	`__ex‹nsiÚ__
 ({ *
__de¡
 = (
de¡
); \

777 
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

778 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

779 ? 
	`¡rÿt
 (
__de¡
, 
¤c
) \

780 : (*((*è
	`__mempıy
 (
	`¡rchr
 (
__de¡
, '\0'), \

781 
¤c
, 
n
)èğ'\0', 
__de¡
)) \

782 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
); }))

	)

783 #–ià
__GNUC_PREREQ
 (3, 2)

784 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
è
	`__butš_¡ºÿt
 (de¡, src,‚)

	)

786 
	#¡ºÿt
(
de¡
, 
¤c
, 
n
) \

787 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
¤c
è&& __butš_cÚ¡ªt_°(
n
) \

788 ? (
	`¡¾’
 (
¤c
è< ((
size_t
è(
n
)) \

789 ? 
	`¡rÿt
 (
de¡
, 
¤c
) \

790 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)) \

791 : 
	`¡ºÿt
 (
de¡
, 
¤c
, 
n
)))

	)

797 #iâdeà
_HAVE_STRING_ARCH_¡rcmp


798 #ià
__GNUC_PREREQ
 (3, 2)

799 
	#¡rcmp
(
s1
, 
s2
) \

800 
__ex‹nsiÚ__
 \

801 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

802 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

803 && (
__s1_Ën
 = 
	`__butš_¡¾’
 (
s1
), 
__s2_Ën
 = __butš_¡¾’ (
s2
), \

804 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

805 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

806 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

807 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

808 && (
__s1_Ën
 = 
	`__butš_¡¾’
 (
s1
), __s1_len < 4) \

809 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

810 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

811 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

812 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

813 && (
__s2_Ën
 = 
	`__butš_¡¾’
 (
s2
), __s2_len < 4) \

814 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

815 ? 
	`__butš_¡rcmp
 (
s1
, 
s2
) \

816 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

817 : 
	`__butš_¡rcmp
 (
s1
, 
s2
)))); })

	)

819 
	#¡rcmp
(
s1
, 
s2
) \

820 
__ex‹nsiÚ__
 \

821 ({ 
size_t
 
__s1_Ën
, 
__s2_Ën
; \

822 (
	`__butš_cÚ¡ªt_p
 (
s1
è&& __butš_cÚ¡ªt_°(
s2
) \

823 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), 
__s2_Ën
 = sŒËÀ(
s2
), \

824 (!
	`__¡ršg2_1b±r_p
 (
s1
è|| 
__s1_Ën
 >= 4) \

825 && (!
	`__¡ršg2_1b±r_p
 (
s2
è|| 
__s2_Ën
 >= 4)) \

826 ? 
	`memcmp
 ((cÚ¡ *è(
s1
), (cÚ¡ *è(
s2
), \

827 (
__s1_Ën
 < 
__s2_Ën
 ? __s1_len : __s2_len) + 1) \

828 : (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

829 && (
__s1_Ën
 = 
	`¡¾’
 (
s1
), __s1_len < 4) \

830 ? (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

831 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s1_Ën
) \

832 : 
	`__¡rcmp_cg
 (
s1
, 
s2
, 
__s1_Ën
)) \

833 : (
	`__butš_cÚ¡ªt_p
 (
s2
è&& 
	`__¡ršg2_1b±r_p
 (s2) \

834 && (
__s2_Ën
 = 
	`¡¾’
 (
s2
), __s2_len < 4) \

835 ? (
	`__butš_cÚ¡ªt_p
 (
s1
è&& 
	`__¡ršg2_1b±r_p
 (s1) \

836 ? 
	`__¡rcmp_cc
 (
s1
, 
s2
, 
__s2_Ën
) \

837 : 
	`__¡rcmp_gc
 (
s1
, 
s2
, 
__s2_Ën
)) \

838 : 
	`¡rcmp
 (
s1
, 
s2
)))); })

	)

841 
	#__¡rcmp_cc
(
s1
, 
s2
, 
l
) \

842 (
	`__ex‹nsiÚ__
 ({ 
__»suÉ
 = \

843 (((cÚ¡ *è(cÚ¡ *è(
s1
))[0] \

844 - ((cÚ¡ *è(cÚ¡ *)(
s2
))[0]); \

845 ià(
l
 > 0 && 
__»suÉ
 == 0) \

847 
__»suÉ
 = (((const *) \

848 (cÚ¡ *è(
s1
))[1] \

850 (cÚ¡ *è(
s2
))[1]); \

851 ià(
l
 > 1 && 
__»suÉ
 == 0) \

853 
__»suÉ
 = \

855 (cÚ¡ *è(
s1
))[2] \

857 (cÚ¡ *è(
s2
))[2]); \

858 ià(
l
 > 2 && 
__»suÉ
 == 0) \

859 
__»suÉ
 = \

861 (cÚ¡ *è(
s1
))[3] \

863 (cÚ¡ *è(
s2
))[3]); \

866 
__»suÉ
; }))

	)

868 
	#__¡rcmp_cg
(
s1
, 
s2
, 
l1
) \

869 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s2
 = \

870 (cÚ¡ *è(cÚ¡ *è(
s2
); \

871 
__»suÉ
 = \

872 (((cÚ¡ *è(cÚ¡ *è(
s1
))[0] \

873 - 
__s2
[0]); \

874 ià(
l1
 > 0 && 
__»suÉ
 == 0) \

876 
__»suÉ
 = (((const *) \

877 (cÚ¡ *è(
s1
))[1] - 
__s2
[1]); \

878 ià(
l1
 > 1 && 
__»suÉ
 == 0) \

880 
__»suÉ
 = (((const *) \

881 (cÚ¡ *è(
s1
))[2] - 
__s2
[2]); \

882 ià(
l1
 > 2 && 
__»suÉ
 == 0) \

883 
__»suÉ
 = (((const *) \

884 (cÚ¡ *è(
s1
))[3] \

885 - 
__s2
[3]); \

888 
__»suÉ
; }))

	)

890 
	#__¡rcmp_gc
(
s1
, 
s2
, 
l2
) \

891 (
	`__ex‹nsiÚ__
 ({ cÚ¡ *
__s1
 = \

892 (cÚ¡ *è(cÚ¡ *è(
s1
); \

893 
__»suÉ
 = \

894 
__s1
[0] - ((const *) \

895 (cÚ¡ *è(
s2
))[0]; \

896 ià(
l2
 > 0 && 
__»suÉ
 == 0) \

898 
__»suÉ
 = (
__s1
[1] \

900 (cÚ¡ *è(
s2
))[1]); \

901 ià(
l2
 > 1 && 
__»suÉ
 == 0) \

903 
__»suÉ
 = \

904 (
__s1
[2] - ((const *) \

905 (cÚ¡ *è(
s2
))[2]); \

906 ià(
l2
 > 2 && 
__»suÉ
 == 0) \

907 
__»suÉ
 = \

908 (
__s1
[3] \

910 (cÚ¡ *è(
s2
))[3]); \

913 
__»suÉ
; }))

	)

918 #iâdeà
_HAVE_STRING_ARCH_¡ºcmp


919 
	#¡ºcmp
(
s1
, 
s2
, 
n
) \

920 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
n
) \

921 && ((
	`__butš_cÚ¡ªt_p
 (
s1
) \

922 && 
	`¡¾’
 (
s1
è< ((
size_t
è(
n
))) \

923 || (
	`__butš_cÚ¡ªt_p
 (
s2
) \

924 && 
	`¡¾’
 (
s2
è< ((
size_t
è(
n
)))) \

925 ? 
	`¡rcmp
 (
s1
, 
s2
è: 
	`¡ºcmp
 (s1, s2, 
n
)))

	)

931 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rc¥n
 || defšed 
_FORCE_INLINES


932 #iâdeà
_HAVE_STRING_ARCH_¡rc¥n


933 #ià
__GNUC_PREREQ
 (3, 2)

934 
	#¡rc¥n
(
s
, 
»jeù
) \

935 
__ex‹nsiÚ__
 \

936 ({ 
__r0
, 
__r1
, 
__r2
; \

937 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

938 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

939 ? 
	`__butš_¡rc¥n
 (
s
, 
»jeù
) \

940 : ((
__r0
 = ((cÚ¡ *è(
»jeù
))[0], __r0 == '\0') \

941 ? 
	`¡¾’
 (
s
) \

942 : ((
__r1
 = ((cÚ¡ *è(
»jeù
))[1], __r1 == '\0') \

943 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

944 : ((
__r2
 = ((cÚ¡ *è(
»jeù
))[2], __r2 == '\0') \

945 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

946 : (((cÚ¡ *è(
»jeù
))[3] == '\0' \

947 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

948 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)))))) \

949 : 
	`__butš_¡rc¥n
 (
s
, 
»jeù
)); })

	)

951 
	#¡rc¥n
(
s
, 
»jeù
) \

952 
__ex‹nsiÚ__
 \

953 ({ 
__r0
, 
__r1
, 
__r2
; \

954 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

955 ? ((
__r0
 = ((cÚ¡ *è(
»jeù
))[0], __r0 == '\0') \

956 ? 
	`¡¾’
 (
s
) \

957 : ((
__r1
 = ((cÚ¡ *è(
»jeù
))[1], __r1 == '\0') \

958 ? 
	`__¡rc¥n_c1
 (
s
, 
__r0
) \

959 : ((
__r2
 = ((cÚ¡ *è(
»jeù
))[2], __r2 == '\0') \

960 ? 
	`__¡rc¥n_c2
 (
s
, 
__r0
, 
__r1
) \

961 : (((cÚ¡ *è(
»jeù
))[3] == '\0' \

962 ? 
	`__¡rc¥n_c3
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

963 : 
	`¡rc¥n
 (
s
, 
»jeù
))))) \

964 : 
	`¡rc¥n
 (
s
, 
»jeù
)); })

	)

968 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
);

969 
__STRING_INLINE
 
size_t


970 
	$__¡rc¥n_c1
 (cÚ¡ *
__s
, 
__»jeù
)

972 
size_t
 
__»suÉ
 = 0;

973 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù
)

974 ++
__»suÉ
;

975  
__»suÉ
;

976 
	}
}

978 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c2
 (cÚ¡ *
__s
, 
__»jeù1
,

979 
__»jeù2
);

980 
__STRING_INLINE
 
size_t


981 
	$__¡rc¥n_c2
 (cÚ¡ *
__s
, 
__»jeù1
, 
__»jeù2
)

983 
size_t
 
__»suÉ
 = 0;

984 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


985 && 
__s
[
__»suÉ
] !ğ
__»jeù2
)

986 ++
__»suÉ
;

987  
__»suÉ
;

988 
	}
}

990 
__STRING_INLINE
 
size_t
 
__¡rc¥n_c3
 (cÚ¡ *
__s
, 
__»jeù1
,

991 
__»jeù2
, 
__»jeù3
);

992 
__STRING_INLINE
 
size_t


993 
	$__¡rc¥n_c3
 (cÚ¡ *
__s
, 
__»jeù1
, 
__»jeù2
,

994 
__»jeù3
)

996 
size_t
 
__»suÉ
 = 0;

997 
__s
[
__»suÉ
] !ğ'\0' && __s[__»suÉ] !ğ
__»jeù1


998 && 
__s
[
__»suÉ
] !ğ
__»jeù2
 && __s[__»suÉ] !ğ
__»jeù3
)

999 ++
__»suÉ
;

1000  
__»suÉ
;

1001 
	}
}

1007 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¥n
 || defšed 
_FORCE_INLINES


1008 #iâdeà
_HAVE_STRING_ARCH_¡r¥n


1009 #ià
__GNUC_PREREQ
 (3, 2)

1010 
	#¡r¥n
(
s
, 
acû±
) \

1011 
__ex‹nsiÚ__
 \

1012 ({ 
__a0
, 
__a1
, 
__a2
; \

1013 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1014 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

1015 ? 
	`__butš_¡r¥n
 (
s
, 
acû±
) \

1016 : ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1017 ? ((è(
s
), (
size_t
) 0) \

1018 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1019 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

1020 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1021 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

1022 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1023 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1024 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)))))) \

1025 : 
	`__butš_¡r¥n
 (
s
, 
acû±
)); })

	)

1027 
	#¡r¥n
(
s
, 
acû±
) \

1028 
__ex‹nsiÚ__
 \

1029 ({ 
__a0
, 
__a1
, 
__a2
; \

1030 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1031 ? ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1032 ? ((è(
s
), (
size_t
) 0) \

1033 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1034 ? 
	`__¡r¥n_c1
 (
s
, 
__a0
) \

1035 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1036 ? 
	`__¡r¥n_c2
 (
s
, 
__a0
, 
__a1
) \

1037 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1038 ? 
	`__¡r¥n_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1039 : 
	`¡r¥n
 (
s
, 
acû±
))))) \

1040 : 
	`¡r¥n
 (
s
, 
acû±
)); })

	)

1044 
__STRING_INLINE
 
size_t
 
__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
);

1045 
__STRING_INLINE
 
size_t


1046 
	$__¡r¥n_c1
 (cÚ¡ *
__s
, 
__acû±
)

1048 
size_t
 
__»suÉ
 = 0;

1050 
__s
[
__»suÉ
] =ğ
__acû±
)

1051 ++
__»suÉ
;

1052  
__»suÉ
;

1053 
	}
}

1055 
__STRING_INLINE
 
size_t
 
__¡r¥n_c2
 (cÚ¡ *
__s
, 
__acû±1
,

1056 
__acû±2
);

1057 
__STRING_INLINE
 
size_t


1058 
	$__¡r¥n_c2
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
)

1060 
size_t
 
__»suÉ
 = 0;

1062 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2
)

1063 ++
__»suÉ
;

1064  
__»suÉ
;

1065 
	}
}

1067 
__STRING_INLINE
 
size_t
 
__¡r¥n_c3
 (cÚ¡ *
__s
, 
__acû±1
,

1068 
__acû±2
, 
__acû±3
);

1069 
__STRING_INLINE
 
size_t


1070 
	$__¡r¥n_c3
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
, 
__acû±3
)

1072 
size_t
 
__»suÉ
 = 0;

1074 
__s
[
__»suÉ
] =ğ
__acû±1
 || __s[__»suÉ] =ğ
__acû±2


1075 || 
__s
[
__»suÉ
] =ğ
__acû±3
)

1076 ++
__»suÉ
;

1077  
__»suÉ
;

1078 
	}
}

1083 #ià!
defšed
 
_HAVE_STRING_ARCH_¡½brk
 || defšed 
_FORCE_INLINES


1084 #iâdeà
_HAVE_STRING_ARCH_¡½brk


1085 #ià
__GNUC_PREREQ
 (3, 2)

1086 
	#¡½brk
(
s
, 
acû±
) \

1087 
__ex‹nsiÚ__
 \

1088 ({ 
__a0
, 
__a1
, 
__a2
; \

1089 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1090 ? ((
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s)) \

1091 ? 
	`__butš_¡½brk
 (
s
, 
acû±
) \

1092 : ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1093 ? ((è(
s
), (*è
NULL
) \

1094 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1095 ? 
	`__butš_¡rchr
 (
s
, 
__a0
) \

1096 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1097 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1098 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1099 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1100 : 
	`__butš_¡½brk
 (
s
, 
acû±
)))))) \

1101 : 
	`__butš_¡½brk
 (
s
, 
acû±
)); })

	)

1103 
	#¡½brk
(
s
, 
acû±
) \

1104 
__ex‹nsiÚ__
 \

1105 ({ 
__a0
, 
__a1
, 
__a2
; \

1106 (
	`__butš_cÚ¡ªt_p
 (
acû±
è&& 
	`__¡ršg2_1b±r_p
 (accept) \

1107 ? ((
__a0
 = ((cÚ¡ *è(
acû±
))[0], __a0 == '\0') \

1108 ? ((è(
s
), (*è
NULL
) \

1109 : ((
__a1
 = ((cÚ¡ *è(
acû±
))[1], __a1 == '\0') \

1110 ? 
	`¡rchr
 (
s
, 
__a0
) \

1111 : ((
__a2
 = ((cÚ¡ *è(
acû±
))[2], __a2 == '\0') \

1112 ? 
	`__¡½brk_c2
 (
s
, 
__a0
, 
__a1
) \

1113 : (((cÚ¡ *è(
acû±
))[3] == '\0' \

1114 ? 
	`__¡½brk_c3
 (
s
, 
__a0
, 
__a1
, 
__a2
) \

1115 : 
	`¡½brk
 (
s
, 
acû±
))))) \

1116 : 
	`¡½brk
 (
s
, 
acû±
)); })

	)

1120 
__STRING_INLINE
 *
__¡½brk_c2
 (cÚ¡ *
__s
, 
__acû±1
,

1121 
__acû±2
);

1122 
__STRING_INLINE
 *

1123 
	$__¡½brk_c2
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
)

1126 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2
)

1127 ++
__s
;

1128  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1129 
	}
}

1131 
__STRING_INLINE
 *
__¡½brk_c3
 (cÚ¡ *
__s
, 
__acû±1
,

1132 
__acû±2
, 
__acû±3
);

1133 
__STRING_INLINE
 *

1134 
	$__¡½brk_c3
 (cÚ¡ *
__s
, 
__acû±1
, 
__acû±2
, 
__acû±3
)

1137 *
__s
 !ğ'\0' && *__ !ğ
__acû±1
 && *__ !ğ
__acû±2


1138 && *
__s
 !ğ
__acû±3
)

1139 ++
__s
;

1140  *
__s
 =ğ'\0' ? 
NULL
 : (*è(
size_t
) __s;

1141 
	}
}

1147 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r¡r
 && !
__GNUC_PREREQ
 (2, 97)

1148 
	#¡r¡r
(
hay¡ack
, 
ÃedË
) \

1149 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
ÃedË
è&& 
	`__¡ršg2_1b±r_p
 (needle) \

1150 ? (((cÚ¡ *è(
ÃedË
))[0] == '\0' \

1151 ? (*è(
size_t
è(
hay¡ack
) \

1152 : (((cÚ¡ *è(
ÃedË
))[1] == '\0' \

1153 ? 
	`¡rchr
 (
hay¡ack
, \

1154 ((cÚ¡ *è(
ÃedË
))[0]) \

1155 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
))) \

1156 : 
	`¡r¡r
 (
hay¡ack
, 
ÃedË
)))

	)

1160 #ià!
defšed
 
_HAVE_STRING_ARCH_¡¹ok_r
 || defšed 
_FORCE_INLINES


1161 #iâdeà
_HAVE_STRING_ARCH_¡¹ok_r


1162 
	#__¡¹ok_r
(
s
, 
£p
, 
Ãx
) \

1163 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
£p
è&& 
	`__¡ršg2_1b±r_p
 (sep) \

1164 && ((cÚ¡ *è(
£p
))[0] != '\0' \

1165 && ((cÚ¡ *è(
£p
))[1] == '\0' \

1166 ? 
	`__¡¹ok_r_1c
 (
s
, ((cÚ¡ *è(
£p
))[0], 
Ãx
) \

1167 : 
	`__¡¹ok_r
 (
s
, 
£p
, 
Ãx
)))

	)

1170 
__STRING_INLINE
 *
__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
);

1171 
__STRING_INLINE
 *

1172 
	$__¡¹ok_r_1c
 (*
__s
, 
__£p
, **
__Ãx
)

1174 *
__»suÉ
;

1175 ià(
__s
 =ğ
NULL
)

1176 
__s
 = *
__Ãx
;

1177 *
__s
 =ğ
__£p
)

1178 ++
__s
;

1179 
__»suÉ
 = 
NULL
;

1180 ià(*
__s
 != '\0')

1182 
__»suÉ
 = 
__s
++;

1183 *
__s
 != '\0')

1184 ià(*
__s
++ =ğ
__£p
)

1186 
__s
[-1] = '\0';

1190 *
__Ãx
 = 
__s
;

1191  
__»suÉ
;

1192 
	}
}

1193 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


1194 
	#¡¹ok_r
(
s
, 
£p
, 
Ãx
è
	`__¡¹ok_r
 (s, s•,‚ex)

	)

1199 #ià!
defšed
 
_HAVE_STRING_ARCH_¡r£p
 || defšed 
_FORCE_INLINES


1200 #iâdeà
_HAVE_STRING_ARCH_¡r£p


1202 *
__¡r£p_g
 (**
__¡ršgp
, cÚ¡ *
__d–im
);

1203 
	#__¡r£p
(
s
, 
»jeù
) \

1204 
__ex‹nsiÚ__
 \

1205 ({ 
__r0
, 
__r1
, 
__r2
; \

1206 (
	`__butš_cÚ¡ªt_p
 (
»jeù
è&& 
	`__¡ršg2_1b±r_p
 (reject) \

1207 && (
__r0
 = ((cÚ¡ *è(
»jeù
))[0], \

1208 ((cÚ¡ *è(
»jeù
))[0] != '\0') \

1209 ? ((
__r1
 = ((cÚ¡ *è(
»jeù
))[1], \

1210 ((cÚ¡ *è(
»jeù
))[1] == '\0') \

1211 ? 
	`__¡r£p_1c
 (
s
, 
__r0
) \

1212 : ((
__r2
 = ((cÚ¡ *è(
»jeù
))[2], __r2 == '\0') \

1213 ? 
	`__¡r£p_2c
 (
s
, 
__r0
, 
__r1
) \

1214 : (((cÚ¡ *è(
»jeù
))[3] == '\0' \

1215 ? 
	`__¡r£p_3c
 (
s
, 
__r0
, 
__r1
, 
__r2
) \

1216 : 
	`__¡r£p_g
 (
s
, 
»jeù
)))) \

1217 : 
	`__¡r£p_g
 (
s
, 
»jeù
)); })

	)

1220 
__STRING_INLINE
 *
__¡r£p_1c
 (**
__s
, 
__»jeù
);

1221 
__STRING_INLINE
 *

1222 
	$__¡r£p_1c
 (**
__s
, 
__»jeù
)

1224 *
__»tv®
 = *
__s
;

1225 ià(
__»tv®
 !ğ
NULL
 && (*
__s
 = 
	`¡rchr
 (__»tv®, 
__»jeù
)) != NULL)

1226 *(*
__s
)++ = '\0';

1227  
__»tv®
;

1228 
	}
}

1230 
__STRING_INLINE
 *
__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
);

1231 
__STRING_INLINE
 *

1232 
	$__¡r£p_2c
 (**
__s
, 
__»jeù1
, 
__»jeù2
)

1234 *
__»tv®
 = *
__s
;

1235 ià(
__»tv®
 !ğ
NULL
)

1237 *
__ı
 = 
__»tv®
;

1240 ià(*
__ı
 == '\0')

1242 
__ı
 = 
NULL
;

1245 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
)

1247 *
__ı
++ = '\0';

1250 ++
__ı
;

1252 *
__s
 = 
__ı
;

1254  
__»tv®
;

1255 
	}
}

1257 
__STRING_INLINE
 *
__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
,

1258 
__»jeù3
);

1259 
__STRING_INLINE
 *

1260 
	$__¡r£p_3c
 (**
__s
, 
__»jeù1
, 
__»jeù2
, 
__»jeù3
)

1262 *
__»tv®
 = *
__s
;

1263 ià(
__»tv®
 !ğ
NULL
)

1265 *
__ı
 = 
__»tv®
;

1268 ià(*
__ı
 == '\0')

1270 
__ı
 = 
NULL
;

1273 ià(*
__ı
 =ğ
__»jeù1
 || *__ı =ğ
__»jeù2
 || *__ı =ğ
__»jeù3
)

1275 *
__ı
++ = '\0';

1278 ++
__ı
;

1280 *
__s
 = 
__ı
;

1282  
__»tv®
;

1283 
	}
}

1284 #ifdeà
__USE_BSD


1285 
	#¡r£p
(
s
, 
»jeù
è
	`__¡r£p
 (s,„ejeù)

	)

1292 #ifdeà
__USE_MISC


1294 #ià!
defšed
 
_HAVE_STRING_ARCH_¡rdup
 || !defšed 
_HAVE_STRING_ARCH_¡ºdup


1295 
	#__Ãed_m®loc_ªd_ÿÎoc


	)

1296 
	~<¡dlib.h
>

1299 #iâdeà
_HAVE_STRING_ARCH_¡rdup


1301 *
	$__¡rdup
 (cÚ¡ *
__¡ršg
è
__THROW
 
__©Œibu‹_m®loc__
;

1302 
	#__¡rdup
(
s
) \

1303 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1304 ? (((cÚ¡ *è(
s
))[0] == '\0' \

1305 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1306 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1307 *
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1308 ià(
__»tv®
 !ğ
NULL
) \

1309 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, 
__Ën
); \

1310 
__»tv®
; 
	}
})) \

1311 : 
	`__¡rdup
 (
s
)))

	)

1313 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_BSD
 || defšed 
__USE_XOPEN_EXTENDED


1314 
	#¡rdup
(
s
è
	`__¡rdup
 (s)

	)

1318 #iâdeà
_HAVE_STRING_ARCH_¡ºdup


1320 *
	$__¡ºdup
 (cÚ¡ *
__¡ršg
, 
size_t
 
__n
)

1321 
__THROW
 
__©Œibu‹_m®loc__
;

1322 
	#__¡ºdup
(
s
, 
n
) \

1323 (
	`__ex‹nsiÚ__
 (
	`__butš_cÚ¡ªt_p
 (
s
è&& 
	`__¡ršg2_1b±r_p
 (s) \

1324 ? (((cÚ¡ *è(
s
))[0] == '\0' \

1325 ? (*è
	`ÿÎoc
 ((
size_t
) 1, (size_t) 1) \

1326 : ({ 
size_t
 
__Ën
 = 
	`¡¾’
 (
s
) + 1; \

1327 
size_t
 
__n
 = (
n
); \

1328 *
__»tv®
; \

1329 ià(
__n
 < 
__Ën
) \

1330 
__Ën
 = 
__n
 + 1; \

1331 
__»tv®
 = (*è
	`m®loc
 (
__Ën
); \

1332 ià(
__»tv®
 !ğ
NULL
) \

1334 
__»tv®
[
__Ën
 - 1] = '\0'; \

1335 
__»tv®
 = (*è
	`memıy
 (__»tv®, 
s
, \

1336 
__Ën
 - 1); \

1338 
__»tv®
; 
	}
})) \

1339 : 
	`__¡ºdup
 (
s
, 
n
)))

	)

1341 #ifdeà
__USE_GNU


1342 
	#¡ºdup
(
s
, 
n
è
	`__¡ºdup
 (s,‚)

	)

1348 #iâdeà
_FORCE_INLINES


1349 #undeà
__STRING_INLINE


	@/usr/include/bits/string3.h

18 #iâdeà
_STRING_H


22 
__w¬ndeş
 (
__w¬n_mem£t_z”o_Ën
,

25 #iâdeà
__ılu¥lus


29 #undeà
memıy


30 #undeà
memmove


31 #undeà
mem£t


32 #undeà
¡rÿt


33 #undeà
¡rıy


34 #undeà
¡ºÿt


35 #undeà
¡ºıy


36 #ifdeà
__USE_GNU


37 #undeà
mempıy


38 #undeà
¡pıy


40 #ifdeà
__USE_BSD


41 #undeà
bcİy


42 #undeà
bz”o


47 
__fÜtify_funùiÚ
 *

48 
__NTH
 (
	$memıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

49 
size_t
 
__Ën
))

51  
	`__butš___memıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

52 
	}
}

54 
__fÜtify_funùiÚ
 *

55 
__NTH
 (
	$memmove
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__Ën
))

57  
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

58 
	}
}

60 #ifdeà
__USE_GNU


61 
__fÜtify_funùiÚ
 *

62 
__NTH
 (
	$mempıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

63 
size_t
 
__Ën
))

65  
	`__butš___mempıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

66 
	}
}

75 
__fÜtify_funùiÚ
 *

76 
__NTH
 (
	$mem£t
 (*
__de¡
, 
__ch
, 
size_t
 
__Ën
))

78 ià(
	`__butš_cÚ¡ªt_p
 (
__Ën
) && __len == 0

79 && (!
	`__butš_cÚ¡ªt_p
 (
__ch
) || __ch != 0))

81 
	`__w¬n_mem£t_z”o_Ën
 ();

82  
__de¡
;

84  
	`__butš___mem£t_chk
 (
__de¡
, 
__ch
, 
__Ën
, 
	`__bos0
 (__dest));

85 
	}
}

87 #ifdeà
__USE_BSD


88 
__fÜtify_funùiÚ
 

89 
__NTH
 (
	$bcİy
 (cÚ¡ *
__¤c
, *
__de¡
, 
size_t
 
__Ën
))

91 (è
	`__butš___memmove_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos0
 (__dest));

92 
	}
}

94 
__fÜtify_funùiÚ
 

95 
__NTH
 (
	$bz”o
 (*
__de¡
, 
size_t
 
__Ën
))

97 (è
	`__butš___mem£t_chk
 (
__de¡
, '\0', 
__Ën
, 
	`__bos0
 (__dest));

98 
	}
}

101 
__fÜtify_funùiÚ
 *

102 
__NTH
 (
	$¡rıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
))

104  
	`__butš___¡rıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

105 
	}
}

107 #ifdeà
__USE_GNU


108 
__fÜtify_funùiÚ
 *

109 
__NTH
 (
	$¡pıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
))

111  
	`__butš___¡pıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

112 
	}
}

116 
__fÜtify_funùiÚ
 *

117 
__NTH
 (
	$¡ºıy
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

118 
size_t
 
__Ën
))

120  
	`__butš___¡ºıy_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

121 
	}
}

124 *
	$__¡²ıy_chk
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
,

125 
size_t
 
__de¡Ën
è
__THROW
;

126 *
	`__REDIRECT_NTH
 (
__¡²ıy_®Ÿs
, (*
__de¡
, cÚ¡ *
__¤c
,

127 
size_t
 
__n
), 
¡²ıy
);

129 
__fÜtify_funùiÚ
 *

130 
	`__NTH
 (
	$¡²ıy
 (*
__de¡
, cÚ¡ *
__¤c
, 
size_t
 
__n
))

132 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1

133 && (!
	`__butš_cÚ¡ªt_p
 (
__n
è|| __À<ğ
	`__bos
 (
__de¡
)))

134  
	`__¡²ıy_chk
 (
__de¡
, 
__¤c
, 
__n
, 
	`__bos
 (__dest));

135  
	`__¡²ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

136 
	}
}

139 
__fÜtify_funùiÚ
 *

140 
__NTH
 (
	$¡rÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
))

142  
	`__butš___¡rÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__dest));

143 
	}
}

146 
__fÜtify_funùiÚ
 *

147 
__NTH
 (
	$¡ºÿt
 (*
__»¡riù
 
__de¡
, cÚ¡ *__»¡riù 
__¤c
,

148 
size_t
 
__Ën
))

150  
	`__butš___¡ºÿt_chk
 (
__de¡
, 
__¤c
, 
__Ën
, 
	`__bos
 (__dest));

151 
	}
}

	@/usr/include/bits/sys_errlist.h

19 #iâdeà
_STDIO_H


25 #ifdeà 
__USE_BSD


26 
sys_Ã¼
;

27 cÚ¡ *cÚ¡ 
sys_”¾i¡
[];

29 #ifdeà 
__USE_GNU


30 
_sys_Ã¼
;

31 cÚ¡ *cÚ¡ 
_sys_”¾i¡
[];

	@/usr/include/bits/types.h

23 #iâdef 
_BITS_TYPES_H


24 
	#_BITS_TYPES_H
 1

	)

26 
	~<ã©u»s.h
>

27 
	~<b™s/wÜdsize.h
>

30 
	t__u_ch¬
;

31 
	t__u_shÜt
;

32 
	t__u_št
;

33 
	t__u_lÚg
;

36 sigÃd 
	t__št8_t
;

37 
	t__ušt8_t
;

38 sigÃd 
	t__št16_t
;

39 
	t__ušt16_t
;

40 sigÃd 
	t__št32_t
;

41 
	t__ušt32_t
;

42 #ià
__WORDSIZE
 == 64

43 sigÃd 
	t__št64_t
;

44 
	t__ušt64_t
;

45 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


46 
__ex‹nsiÚ__
 sigÃd 
	t__št64_t
;

47 
__ex‹nsiÚ__
 
	t__ušt64_t
;

51 #ià
__WORDSIZE
 == 64

52 
	t__quad_t
;

53 
	t__u_quad_t
;

54 #–ià
defšed
 
__GLIBC_HAVE_LONG_LONG


55 
__ex‹nsiÚ__
 
	t__quad_t
;

56 
__ex‹nsiÚ__
 
	t__u_quad_t
;

60 
	m__v®
[2];

61 } 
	t__quad_t
;

64 
__u_lÚg
 
	m__v®
[2];

65 } 
	t__u_quad_t
;

98 
	#__S16_TYPE
 

	)

99 
	#__U16_TYPE
 

	)

100 
	#__S32_TYPE
 

	)

101 
	#__U32_TYPE
 

	)

102 
	#__SLONGWORD_TYPE
 

	)

103 
	#__ULONGWORD_TYPE
 

	)

104 #ià
__WORDSIZE
 == 32

105 
	#__SQUAD_TYPE
 
__quad_t


	)

106 
	#__UQUAD_TYPE
 
__u_quad_t


	)

107 
	#__SWORD_TYPE
 

	)

108 
	#__UWORD_TYPE
 

	)

109 
	#__SLONG32_TYPE
 

	)

110 
	#__ULONG32_TYPE
 

	)

111 
	#__S64_TYPE
 
__quad_t


	)

112 
	#__U64_TYPE
 
__u_quad_t


	)

115 
	#__STD_TYPE
 
__ex‹nsiÚ__
 

	)

116 #–ià
__WORDSIZE
 == 64

117 
	t__SQUAD_TYPE
 

	)

118 
	t__UQUAD_TYPE
 

	)

119 
	t__SWORD_TYPE
 

	)

120 
	t__UWORD_TYPE
 

	)

121 
	t__SLONG32_TYPE
 

	)

122 
	t__ULONG32_TYPE
 

	)

123 
	t__S64_TYPE
 

	)

124 
	t__U64_TYPE
 

	)

126 
	t__STD_TYPE
 

	)

130 
	~<b™s/ty³sizes.h
>

133 
__STD_TYPE
 
	t__DEV_T_TYPE
 
	t__dev_t
;

134 
__STD_TYPE
 
__UID_T_TYPE
 
	g__uid_t
;

135 
__STD_TYPE
 
__GID_T_TYPE
 
	g__gid_t
;

136 
__STD_TYPE
 
__INO_T_TYPE
 
	g__šo_t
;

137 
__STD_TYPE
 
__INO64_T_TYPE
 
	g__šo64_t
;

138 
__STD_TYPE
 
__MODE_T_TYPE
 
	g__mode_t
;

139 
__STD_TYPE
 
__NLINK_T_TYPE
 
	g__Æšk_t
;

140 
__STD_TYPE
 
__OFF_T_TYPE
 
	g__off_t
;

141 
__STD_TYPE
 
__OFF64_T_TYPE
 
	g__off64_t
;

142 
__STD_TYPE
 
__PID_T_TYPE
 
	g__pid_t
;

143 
__STD_TYPE
 
__FSID_T_TYPE
 
	g__fsid_t
;

144 
__STD_TYPE
 
__CLOCK_T_TYPE
 
	g__şock_t
;

145 
__STD_TYPE
 
__RLIM_T_TYPE
 
	g__¾im_t
;

146 
__STD_TYPE
 
__RLIM64_T_TYPE
 
	g__¾im64_t
;

147 
__STD_TYPE
 
__ID_T_TYPE
 
	g__id_t
;

148 
__STD_TYPE
 
__TIME_T_TYPE
 
	g__time_t
;

149 
__STD_TYPE
 
__USECONDS_T_TYPE
 
	g__u£cÚds_t
;

150 
__STD_TYPE
 
__SUSECONDS_T_TYPE
 
	g__su£cÚds_t
;

152 
__STD_TYPE
 
__DADDR_T_TYPE
 
	g__daddr_t
;

153 
__STD_TYPE
 
__KEY_T_TYPE
 
	g__key_t
;

156 
__STD_TYPE
 
__CLOCKID_T_TYPE
 
	g__şockid_t
;

159 
__STD_TYPE
 
__TIMER_T_TYPE
 
	g__tim”_t
;

162 
__STD_TYPE
 
__BLKSIZE_T_TYPE
 
	g__blksize_t
;

167 
__STD_TYPE
 
__BLKCNT_T_TYPE
 
	g__blkút_t
;

168 
__STD_TYPE
 
__BLKCNT64_T_TYPE
 
	g__blkút64_t
;

171 
__STD_TYPE
 
__FSBLKCNT_T_TYPE
 
	g__fsblkút_t
;

172 
__STD_TYPE
 
__FSBLKCNT64_T_TYPE
 
	g__fsblkút64_t
;

175 
__STD_TYPE
 
__FSFILCNT_T_TYPE
 
	g__fsfút_t
;

176 
__STD_TYPE
 
__FSFILCNT64_T_TYPE
 
	g__fsfút64_t
;

179 
__STD_TYPE
 
__FSWORD_T_TYPE
 
	g__fswÜd_t
;

181 
__STD_TYPE
 
__SSIZE_T_TYPE
 
	g__ssize_t
;

184 
__STD_TYPE
 
__SYSCALL_SLONG_TYPE
 
	g__sysÿÎ_¦Úg_t
;

186 
__STD_TYPE
 
__SYSCALL_ULONG_TYPE
 
	g__sysÿÎ_ulÚg_t
;

190 
__off64_t
 
	t__loff_t
;

191 
__quad_t
 *
	t__qaddr_t
;

192 *
	t__ÿddr_t
;

195 
__STD_TYPE
 
__SWORD_TYPE
 
	g__šŒ_t
;

198 
__STD_TYPE
 
__U32_TYPE
 
	g__sockËn_t
;

201 #undeà
__STD_TYPE


	@/usr/include/bits/waitflags.h

19 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


25 
	#WNOHANG
 1

	)

26 
	#WUNTRACED
 2

	)

29 
	#WSTOPPED
 2

	)

30 
	#WEXITED
 4

	)

31 
	#WCONTINUED
 8

	)

32 
	#WNOWAIT
 0x01000000

	)

34 
	#__WNOTHREAD
 0x20000000

	)

36 
	#__WALL
 0x40000000

	)

37 
	#__WCLONE
 0x80000000

	)

	@/usr/include/bits/waitstatus.h

19 #ià!
defšed
 
_SYS_WAIT_H
 && !defšed 
_STDLIB_H


28 
	#__WEXITSTATUS
(
¡©us
è(((¡©usè& 0xff00è>> 8)

	)

31 
	#__WTERMSIG
(
¡©us
è((¡©usè& 0x7f)

	)

34 
	#__WSTOPSIG
(
¡©us
è
	`__WEXITSTATUS
(¡©us)

	)

37 
	#__WIFEXITED
(
¡©us
è(
	`__WTERMSIG
(¡©usè=ğ0)

	)

40 
	#__WIFSIGNALED
(
¡©us
) \

41 (((sigÃd è(((
¡©us
è& 0x7fè+ 1è>> 1è> 0)

	)

44 
	#__WIFSTOPPED
(
¡©us
è(((¡©usè& 0xffè=ğ0x7f)

	)

48 #ifdeà
WCONTINUED


49 
	#__WIFCONTINUED
(
¡©us
è((¡©usè=ğ
__W_CONTINUED
)

	)

53 
	#__WCOREDUMP
(
¡©us
è((¡©usè& 
__WCOREFLAG
)

	)

56 
	#__W_EXITCODE
(
»t
, 
sig
è(Ô‘è<< 8 | (sig))

	)

57 
	#__W_STOPCODE
(
sig
è((sigè<< 8 | 0x7f)

	)

58 
	#__W_CONTINUED
 0xffff

	)

59 
	#__WCOREFLAG
 0x80

	)

62 #ifdef 
__USE_BSD


64 
	~<’dŸn.h
>

66 
	uwa™


68 
	mw_¡©us
;

71 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


72 
	m__w_‹rmsig
:7;

73 
	m__w_cÜedump
:1;

74 
	m__w_»tcode
:8;

77 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


79 
	m__w_»tcode
:8;

80 
	m__w_cÜedump
:1;

81 
	m__w_‹rmsig
:7;

83 } 
	m__wa™_‹rmš©ed
;

86 #if 
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


87 
	m__w_¡İv®
:8;

88 
	m__w_¡İsig
:8;

91 #if 
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


93 
	m__w_¡İsig
:8;

94 
	m__w_¡İv®
:8;

96 } 
	m__wa™_¡İ³d
;

99 
	#w_‹rmsig
 
__wa™_‹rmš©ed
.
__w_‹rmsig


	)

100 
	#w_cÜedump
 
__wa™_‹rmš©ed
.
__w_cÜedump


	)

101 
	#w_»tcode
 
__wa™_‹rmš©ed
.
__w_»tcode


	)

102 
	#w_¡İsig
 
__wa™_¡İ³d
.
__w_¡İsig


	)

103 
	#w_¡İv®
 
__wa™_¡İ³d
.
__w_¡İv®


	)

	@/usr/include/bits/wchar.h

19 #iâdeà
_BITS_WCHAR_H


20 
	#_BITS_WCHAR_H
 1

	)

33 #ifdeà
__WCHAR_MAX__


34 
	#__WCHAR_MAX
 
__WCHAR_MAX__


	)

35 #–ià
L
'\0' - 1 > 0

36 
	#__WCHAR_MAX
 (0xffffffffu + 
L
'\0')

	)

38 
	#__WCHAR_MAX
 (0x7ffffffà+ 
L
'\0')

	)

41 #ifdeà
__WCHAR_MIN__


42 
	#__WCHAR_MIN
 
__WCHAR_MIN__


	)

43 #–ià
L
'\0' - 1 > 0

44 
	#__WCHAR_MIN
 (
L
'\0' + 0)

	)

46 
	#__WCHAR_MIN
 (-
__WCHAR_MAX
 - 1)

	)

	@/usr/include/bits/wordsize.h

3 #ià
defšed
 
__x86_64__
 && !defšed 
__ILP32__


4 
	#__WORDSIZE
 64

	)

6 
	#__WORDSIZE
 32

	)

9 #ifdeà
__x86_64__


10 
	#__WORDSIZE_TIME64_COMPAT32
 1

	)

12 
	#__SYSCALL_WORDSIZE
 64

	)

	@/usr/include/bits/xopen_lim.h

29 #iâdeà
_XOPEN_LIM_H


30 
	#_XOPEN_LIM_H
 1

	)

32 
	#__Ãed_IOV_MAX


	)

33 
	~<b™s/¡dio_lim.h
>

65 
	#_XOPEN_IOV_MAX
 
_POSIX_UIO_MAXIOV


	)

70 
	#NL_ARGMAX
 
_POSIX_ARG_MAX


	)

73 
	#NL_LANGMAX
 
_POSIX2_LINE_MAX


	)

76 
	#NL_MSGMAX
 
INT_MAX


	)

80 
	#NL_NMAX
 
INT_MAX


	)

83 
	#NL_SETMAX
 
INT_MAX


	)

86 
	#NL_TEXTMAX
 
INT_MAX


	)

89 
	#NZERO
 20

	)

93 #ifdeà
INT_MAX


94 #ià
INT_MAX
 == 32767

95 
	#WORD_BIT
 16

	)

97 #ià
INT_MAX
 == 2147483647

98 
	#WORD_BIT
 32

	)

101 
	#WORD_BIT
 64

	)

104 #–ià
defšed
 
__INT_MAX__


105 #ià
__INT_MAX__
 == 32767

106 
	#WORD_BIT
 16

	)

108 #ià
__INT_MAX__
 == 2147483647

109 
	#WORD_BIT
 32

	)

112 
	#WORD_BIT
 64

	)

116 
	#WORD_BIT
 32

	)

120 #ifdeà
LONG_MAX


121 #ià
LONG_MAX
 == 2147483647

122 
	#LONG_BIT
 32

	)

125 
	#LONG_BIT
 64

	)

127 #–ià
defšed
 
__LONG_MAX__


128 #ià
__LONG_MAX__
 == 2147483647

129 
	#LONG_BIT
 32

	)

132 
	#LONG_BIT
 64

	)

135 
	~<b™s/wÜdsize.h
>

136 #ià
__WORDSIZE
 == 64

137 
	#LONG_BIT
 64

	)

139 
	#LONG_BIT
 32

	)

	@/usr/include/features.h

18 #iâdef 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

98 #undeà
__USE_ISOC11


99 #undeà
__USE_ISOC99


100 #undeà
__USE_ISOC95


101 #undeà
__USE_ISOCXX11


102 #undeà
__USE_POSIX


103 #undeà
__USE_POSIX2


104 #undeà
__USE_POSIX199309


105 #undeà
__USE_POSIX199506


106 #undeà
__USE_XOPEN


107 #undeà
__USE_XOPEN_EXTENDED


108 #undeà
__USE_UNIX98


109 #undeà
__USE_XOPEN2K


110 #undeà
__USE_XOPEN2KXSI


111 #undeà
__USE_XOPEN2K8


112 #undeà
__USE_XOPEN2K8XSI


113 #undeà
__USE_LARGEFILE


114 #undeà
__USE_LARGEFILE64


115 #undeà
__USE_FILE_OFFSET64


116 #undeà
__USE_BSD


117 #undeà
__USE_SVID


118 #undeà
__USE_MISC


119 #undeà
__USE_ATFILE


120 #undeà
__USE_GNU


121 #undeà
__USE_REENTRANT


122 #undeà
__USE_FORTIFY_LEVEL


123 #undeà
__FAVOR_BSD


124 #undeà
__KERNEL_STRICT_NAMES


128 #iâdeà
_LOOSE_KERNEL_NAMES


129 
	#__KERNEL_STRICT_NAMES


	)

133 
	#__USE_ANSI
 1

	)

142 #ià
defšed
 
__GNUC__
 && defšed 
__GNUC_MINOR__


143 
	#__GNUC_PREREQ
(
maj
, 
mš
) \

144 ((
__GNUC__
 << 16è+ 
__GNUC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

146 
	#__GNUC_PREREQ
(
maj
, 
mš
è0

	)

151 #ià
defšed
 
_BSD_SOURCE
 && \

152 !(
defšed
 
	g_POSIX_SOURCE
 || defšed 
	g_POSIX_C_SOURCE
 || \

153 
defšed
 
	g_XOPEN_SOURCE
 || defšed 
	g_GNU_SOURCE
 || defšed 
	g_SVID_SOURCE
)

154 
	#__FAVOR_BSD
 1

	)

158 #ifdeà
_GNU_SOURCE


159 #undeà
_ISOC95_SOURCE


160 
	#_ISOC95_SOURCE
 1

	)

161 #undeà
_ISOC99_SOURCE


162 
	#_ISOC99_SOURCE
 1

	)

163 #undeà
_ISOC11_SOURCE


164 
	#_ISOC11_SOURCE
 1

	)

165 #undeà
_POSIX_SOURCE


166 
	#_POSIX_SOURCE
 1

	)

167 #undeà
_POSIX_C_SOURCE


168 
	#_POSIX_C_SOURCE
 200809L

	)

169 #undeà
_XOPEN_SOURCE


170 
	#_XOPEN_SOURCE
 700

	)

171 #undeà
_XOPEN_SOURCE_EXTENDED


172 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

173 #undeà
_LARGEFILE64_SOURCE


174 
	#_LARGEFILE64_SOURCE
 1

	)

175 #undeà
_BSD_SOURCE


176 
	#_BSD_SOURCE
 1

	)

177 #undeà
_SVID_SOURCE


178 
	#_SVID_SOURCE
 1

	)

179 #undeà
_ATFILE_SOURCE


180 
	#_ATFILE_SOURCE
 1

	)

185 #ià(!
defšed
 
__STRICT_ANSI__
 && !defšed 
_ISOC99_SOURCE
 && \

186 !
defšed
 
	g_POSIX_SOURCE
 && !defšed 
	g_POSIX_C_SOURCE
 && \

187 !
defšed
 
	g_XOPEN_SOURCE
 && !defšed 
	g_BSD_SOURCE
 && !defšed 
	g_SVID_SOURCE
)

188 
	#_BSD_SOURCE
 1

	)

189 
	#_SVID_SOURCE
 1

	)

193 #ià(
defšed
 
_ISOC11_SOURCE
 \

194 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

195 
	#__USE_ISOC11
 1

	)

199 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

200 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

201 
	#__USE_ISOC99
 1

	)

205 #ià(
defšed
 
_ISOC99_SOURCE
 || defšed 
_ISOC11_SOURCE
 \

206 || (
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

207 
	#__USE_ISOC95
 1

	)

214 #ià((
defšed
 
__ılu¥lus
 && __cplusplus >= 201103L) \

215 || 
defšed
 
__GXX_EXPERIMENTAL_CXX0X__
)

216 
	#__USE_ISOCXX11
 1

	)

221 #ià((!
defšed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

222 !
defšed
 
_POSIX_SOURCE
 && !defšed 
_POSIX_C_SOURCE
)

223 
	#_POSIX_SOURCE
 1

	)

224 #ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

225 
	#_POSIX_C_SOURCE
 2

	)

226 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

227 
	#_POSIX_C_SOURCE
 199506L

	)

228 #–ià
defšed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

229 
	#_POSIX_C_SOURCE
 200112L

	)

231 
	#_POSIX_C_SOURCE
 200809L

	)

233 
	#__USE_POSIX_IMPLICITLY
 1

	)

236 #ià
defšed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >ğ1 || defšed 
_XOPEN_SOURCE


237 
	#__USE_POSIX
 1

	)

240 #ià
defšed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >ğ2 || defšed 
_XOPEN_SOURCE


241 
	#__USE_POSIX2
 1

	)

244 #ià(
_POSIX_C_SOURCE
 - 0) >= 199309L

245 
	#__USE_POSIX199309
 1

	)

248 #ià(
_POSIX_C_SOURCE
 - 0) >= 199506L

249 
	#__USE_POSIX199506
 1

	)

252 #ià(
_POSIX_C_SOURCE
 - 0) >= 200112L

253 
	#__USE_XOPEN2K
 1

	)

254 #undeà
__USE_ISOC95


255 
	#__USE_ISOC95
 1

	)

256 #undeà
__USE_ISOC99


257 
	#__USE_ISOC99
 1

	)

260 #ià(
_POSIX_C_SOURCE
 - 0) >= 200809L

261 
	#__USE_XOPEN2K8
 1

	)

262 #undeà
_ATFILE_SOURCE


263 
	#_ATFILE_SOURCE
 1

	)

266 #ifdef 
_XOPEN_SOURCE


267 
	#__USE_XOPEN
 1

	)

268 #ià(
_XOPEN_SOURCE
 - 0) >= 500

269 
	#__USE_XOPEN_EXTENDED
 1

	)

270 
	#__USE_UNIX98
 1

	)

271 #undeà
_LARGEFILE_SOURCE


272 
	#_LARGEFILE_SOURCE
 1

	)

273 #ià(
_XOPEN_SOURCE
 - 0) >= 600

274 #ià(
_XOPEN_SOURCE
 - 0) >= 700

275 
	#__USE_XOPEN2K8
 1

	)

276 
	#__USE_XOPEN2K8XSI
 1

	)

278 
	#__USE_XOPEN2K
 1

	)

279 
	#__USE_XOPEN2KXSI
 1

	)

280 #undeà
__USE_ISOC95


281 
	#__USE_ISOC95
 1

	)

282 #undeà
__USE_ISOC99


283 
	#__USE_ISOC99
 1

	)

286 #ifdeà
_XOPEN_SOURCE_EXTENDED


287 
	#__USE_XOPEN_EXTENDED
 1

	)

292 #ifdeà
_LARGEFILE_SOURCE


293 
	#__USE_LARGEFILE
 1

	)

296 #ifdeà
_LARGEFILE64_SOURCE


297 
	#__USE_LARGEFILE64
 1

	)

300 #ià
defšed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

301 
	#__USE_FILE_OFFSET64
 1

	)

304 #ià
defšed
 
_BSD_SOURCE
 || defšed 
_SVID_SOURCE


305 
	#__USE_MISC
 1

	)

308 #ifdef 
_BSD_SOURCE


309 
	#__USE_BSD
 1

	)

312 #ifdef 
_SVID_SOURCE


313 
	#__USE_SVID
 1

	)

316 #ifdef 
_ATFILE_SOURCE


317 
	#__USE_ATFILE
 1

	)

320 #ifdef 
_GNU_SOURCE


321 
	#__USE_GNU
 1

	)

324 #ià
defšed
 
_REENTRANT
 || defšed 
_THREAD_SAFE


325 
	#__USE_REENTRANT
 1

	)

328 #ià
defšed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

329 && 
__GNUC_PREREQ
 (4, 1è&& 
defšed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

330 #ià
_FORTIFY_SOURCE
 > 1

331 
	#__USE_FORTIFY_LEVEL
 2

	)

333 
	#__USE_FORTIFY_LEVEL
 1

	)

336 
	#__USE_FORTIFY_LEVEL
 0

	)

341 
	~<¡dc-´edef.h
>

349 #undeà
__GNU_LIBRARY__


350 
	#__GNU_LIBRARY__
 6

	)

354 
	#__GLIBC__
 2

	)

355 
	#__GLIBC_MINOR__
 17

	)

357 
	#__GLIBC_PREREQ
(
maj
, 
mš
) \

358 ((
__GLIBC__
 << 16è+ 
__GLIBC_MINOR__
 >ğ((
maj
è<< 16è+ (
mš
))

	)

361 #ià
defšed
 
__GNUC__
 \

362 || (
defšed
 
	g__PGI
 && defšed 
	g__i386__
 ) \

363 || (
defšed
 
	g__INTEL_COMPILER
 && (defšed 
	g__i386__
 || defšed 
	g__Ÿ64__
)) \

364 || (
defšed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

365 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

369 #iâdeà
__ASSEMBLER__


370 #iâdeà
_SYS_CDEFS_H


371 
	~<sys/cdefs.h
>

376 #ià
defšed
 
__USE_FILE_OFFSET64
 && !defšed 
__REDIRECT


377 
	#__USE_LARGEFILE
 1

	)

378 
	#__USE_LARGEFILE64
 1

	)

384 #ià
__GNUC_PREREQ
 (2, 7è&& 
defšed
 
__OPTIMIZE__
 \

385 && !
defšed
 
	g__OPTIMIZE_SIZE__
 && !defšed 
	g__NO_INLINE__
 \

386 && 
defšed
 
	g__ex‹º_šlše


387 
	#__USE_EXTERN_INLINES
 1

	)

395 
	~<gnu/¡ubs.h
>

	@/usr/include/getopt.h

20 #iâdeà
_GETOPT_H


22 #iâdeà
__Ãed_g‘İt


23 
	#_GETOPT_H
 1

	)

33 #ià!
defšed
 
__GNU_LIBRARY__


34 
	~<ùy³.h
>

37 #iâdeà
__THROW


38 #iâdeà
__GNUC_PREREQ


39 
	#__GNUC_PREREQ
(
maj
, 
mš
è(0)

	)

41 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

42 
	#__THROW
 
	`throw
 ()

	)

44 
	#__THROW


	)

48 #ifdef 
__ılu¥lus


58 *
İrg
;

72 
İtšd
;

77 
İ‹¼
;

81 
İtİt
;

83 #iâdeà
__Ãed_g‘İt


105 
	sİtiÚ


107 cÚ¡ *
	gÇme
;

110 
	ghas_¬g
;

111 *
	gæag
;

112 
	gv®
;

117 
	#no_¬gum’t
 0

	)

118 
	#»quœed_¬gum’t
 1

	)

119 
	#İtiÚ®_¬gum’t
 2

	)

147 #ifdeà
__GNU_LIBRARY__


151 
g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
, cÚ¡ *
__shÜtİts
)

152 
__THROW
;

154 #ià
defšed
 
__Ãed_g‘İt
 && defšed 
__USE_POSIX2
 \

155 && !
defšed
 
	g__USE_POSIX_IMPLICITLY
 && !defšed 
	g__USE_GNU


159 #ifdeà
__REDIRECT


160 
__REDIRECT_NTH
 (
g‘İt
, (
___¬gc
, *cÚ¡ *
___¬gv
,

161 cÚ¡ *
__shÜtİts
),

162 
__posix_g‘İt
);

164 
__posix_g‘İt
 (
___¬gc
, *cÚ¡ *
___¬gv
,

165 cÚ¡ *
__shÜtİts
è
__THROW
;

166 
	#g‘İt
 
__posix_g‘İt


	)

170 
g‘İt
 ();

173 #iâdeà
__Ãed_g‘İt


174 
g‘İt_lÚg
 (
___¬gc
, *cÚ¡ *
___¬gv
,

175 cÚ¡ *
__shÜtİts
,

176 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

177 
__THROW
;

178 
g‘İt_lÚg_Úly
 (
___¬gc
, *cÚ¡ *
___¬gv
,

179 cÚ¡ *
__shÜtİts
,

180 cÚ¡ 
İtiÚ
 *
__lÚgİts
, *
__lÚgšd
)

181 
__THROW
;

185 #ifdef 
__ılu¥lus


190 #undeà
__Ãed_g‘İt


	@/usr/include/libio.h

29 #iâdeà
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_cÚfig.h
>

34 
	#_IO_åos_t
 
_G_åos_t


	)

35 
	#_IO_åos64_t
 
_G_åos64_t


	)

36 
	#_IO_size_t
 
size_t


	)

37 
	#_IO_ssize_t
 
__ssize_t


	)

38 
	#_IO_off_t
 
__off_t


	)

39 
	#_IO_off64_t
 
__off64_t


	)

40 
	#_IO_pid_t
 
__pid_t


	)

41 
	#_IO_uid_t
 
__uid_t


	)

42 
	#_IO_icÚv_t
 
_G_icÚv_t


	)

43 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

44 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

45 
	#_IO_va_li¡
 
_G_va_li¡


	)

46 
	#_IO_wšt_t
 
wšt_t


	)

49 
	#__Ãed___va_li¡


	)

50 
	~<¡d¬g.h
>

51 #ifdeà
__GNUC_VA_LIST


52 #undeà
_IO_va_li¡


53 
	#_IO_va_li¡
 
__gnuc_va_li¡


	)

56 #iâdeà
__P


57 
	~<sys/cdefs.h
>

60 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

62 #iâdeà
EOF


63 
	#EOF
 (-1)

	)

65 #iâdeà
NULL


66 #ià
defšed
 
__GNUG__
 && \

67 (
	g__GNUC__
 > 2 || (__GNUC__ =ğ2 && 
__GNUC_MINOR__
 >= 8))

68 
	#NULL
 (
__nuÎ
)

	)

70 #ià!
defšed
(
__ılu¥lus
)

71 
	#NULL
 ((*)0)

	)

73 
	#NULL
 (0)

	)

78 
	#_IOS_INPUT
 1

	)

79 
	#_IOS_OUTPUT
 2

	)

80 
	#_IOS_ATEND
 4

	)

81 
	#_IOS_APPEND
 8

	)

82 
	#_IOS_TRUNC
 16

	)

83 
	#_IOS_NOCREATE
 32

	)

84 
	#_IOS_NOREPLACE
 64

	)

85 
	#_IOS_BIN
 128

	)

93 
	#_IO_MAGIC
 0xFBAD0000

	)

94 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

95 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

96 
	#_IO_USER_BUF
 1

	)

97 
	#_IO_UNBUFFERED
 2

	)

98 
	#_IO_NO_READS
 4

	)

99 
	#_IO_NO_WRITES
 8

	)

100 
	#_IO_EOF_SEEN
 0x10

	)

101 
	#_IO_ERR_SEEN
 0x20

	)

102 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

103 
	#_IO_LINKED
 0x80

	)

104 
	#_IO_IN_BACKUP
 0x100

	)

105 
	#_IO_LINE_BUF
 0x200

	)

106 
	#_IO_TIED_PUT_GET
 0x400

	)

107 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

108 
	#_IO_IS_APPENDING
 0x1000

	)

109 
	#_IO_IS_FILEBUF
 0x2000

	)

110 
	#_IO_BAD_SEEN
 0x4000

	)

111 
	#_IO_USER_LOCK
 0x8000

	)

113 
	#_IO_FLAGS2_MMAP
 1

	)

114 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

115 #ifdeà
_LIBC


116 
	#_IO_FLAGS2_FORTIFY
 4

	)

118 
	#_IO_FLAGS2_USER_WBUF
 8

	)

119 #ifdeà
_LIBC


120 
	#_IO_FLAGS2_SCANF_STD
 16

	)

121 
	#_IO_FLAGS2_NOCLOSE
 32

	)

122 
	#_IO_FLAGS2_CLOEXEC
 64

	)

126 
	#_IO_SKIPWS
 01

	)

127 
	#_IO_LEFT
 02

	)

128 
	#_IO_RIGHT
 04

	)

129 
	#_IO_INTERNAL
 010

	)

130 
	#_IO_DEC
 020

	)

131 
	#_IO_OCT
 040

	)

132 
	#_IO_HEX
 0100

	)

133 
	#_IO_SHOWBASE
 0200

	)

134 
	#_IO_SHOWPOINT
 0400

	)

135 
	#_IO_UPPERCASE
 01000

	)

136 
	#_IO_SHOWPOS
 02000

	)

137 
	#_IO_SCIENTIFIC
 04000

	)

138 
	#_IO_FIXED
 010000

	)

139 
	#_IO_UNITBUF
 020000

	)

140 
	#_IO_STDIO
 040000

	)

141 
	#_IO_DONT_CLOSE
 0100000

	)

142 
	#_IO_BOOLALPHA
 0200000

	)

145 
_IO_jump_t
; 
	g_IO_FILE
;

148 #ifdeà
_IO_MTSAFE_IO


149 #ià
defšed
 
__GLIBC__
 && __GLIBC__ >= 2

150 
	~<b™s/¡dio-lock.h
>

155 
	t_IO_lock_t
;

161 
	s_IO_m¬k”
 {

162 
_IO_m¬k”
 *
	m_Ãxt
;

163 
_IO_FILE
 *
	m_sbuf
;

167 
	m_pos
;

169 
£t_¡»ampos
(
¡»ampos
 
¥
è{ 
	m_¥os
 = sp; }

170 
£t_off£t
(
off£t
è{ 
	m_pos
 = off£t; 
	m_¥os
 = (
¡»ampos
)(-2); }

171 
	mpublic
:

172 
¡»amm¬k”
(
¡»ambuf
 *
sb
);

173 ~
¡»amm¬k”
();

174 
§všg
(è{  
	m_¥os
 == -2; }

175 
d–
(
¡»amm¬k”
&);

176 
d–
();

181 
	e__codecvt_»suÉ


183 
	m__codecvt_ok
,

184 
	m__codecvt_·¹Ÿl
,

185 
	m__codecvt_”rÜ
,

186 
	m__codecvt_nocÚv


189 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


192 
	s_IO_codecvt


194 (*
	m__codecvt_de¡r
è(
	m_IO_codecvt
 *);

195 
__codecvt_»suÉ
 (*
__codecvt_do_out
è(
	m_IO_codecvt
 *,

196 
	m__mb¡©e_t
 *,

197 cÚ¡ 
	mwch¬_t
 *,

198 cÚ¡ 
	mwch¬_t
 *,

199 cÚ¡ 
	mwch¬_t
 **, *,

201 
__codecvt_»suÉ
 (*
__codecvt_do_unshiá
è(
	m_IO_codecvt
 *,

202 
	m__mb¡©e_t
 *, *,

204 
__codecvt_»suÉ
 (*
__codecvt_do_š
è(
	m_IO_codecvt
 *,

205 
	m__mb¡©e_t
 *,

207 cÚ¡ **, 
	mwch¬_t
 *,

208 
	mwch¬_t
 *, wchar_t **);

209 (*
	m__codecvt_do_’codšg
è(
	m_IO_codecvt
 *);

210 (*
	m__codecvt_do_®ways_nocÚv
è(
	m_IO_codecvt
 *);

211 (*
	m__codecvt_do_Ëngth
è(
	m_IO_codecvt
 *, 
	m__mb¡©e_t
 *,

212 cÚ¡ *, cÚ¡ *, 
	m_IO_size_t
);

213 (*
	m__codecvt_do_max_Ëngth
è(
	m_IO_codecvt
 *);

215 
_IO_icÚv_t
 
	m__cd_š
;

216 
_IO_icÚv_t
 
	m__cd_out
;

220 
	s_IO_wide_d©a


222 
wch¬_t
 *
	m_IO_»ad_±r
;

223 
wch¬_t
 *
	m_IO_»ad_’d
;

224 
wch¬_t
 *
	m_IO_»ad_ba£
;

225 
wch¬_t
 *
	m_IO_wr™e_ba£
;

226 
wch¬_t
 *
	m_IO_wr™e_±r
;

227 
wch¬_t
 *
	m_IO_wr™e_’d
;

228 
wch¬_t
 *
	m_IO_buf_ba£
;

229 
wch¬_t
 *
	m_IO_buf_’d
;

231 
wch¬_t
 *
	m_IO_§ve_ba£
;

232 
wch¬_t
 *
	m_IO_backup_ba£
;

234 
wch¬_t
 *
	m_IO_§ve_’d
;

236 
__mb¡©e_t
 
	m_IO_¡©e
;

237 
__mb¡©e_t
 
	m_IO_Ï¡_¡©e
;

238 
_IO_codecvt
 
	m_codecvt
;

240 
wch¬_t
 
	m_shÜtbuf
[1];

242 cÚ¡ 
_IO_jump_t
 *
	m_wide_vbË
;

246 
	s_IO_FILE
 {

247 
	m_æags
;

248 
	#_IO_fe_æags
 
_æags


	)

252 * 
	m_IO_»ad_±r
;

253 * 
	m_IO_»ad_’d
;

254 * 
	m_IO_»ad_ba£
;

255 * 
	m_IO_wr™e_ba£
;

256 * 
	m_IO_wr™e_±r
;

257 * 
	m_IO_wr™e_’d
;

258 * 
	m_IO_buf_ba£
;

259 * 
	m_IO_buf_’d
;

261 *
	m_IO_§ve_ba£
;

262 *
	m_IO_backup_ba£
;

263 *
	m_IO_§ve_’d
;

265 
_IO_m¬k”
 *
	m_m¬k”s
;

267 
_IO_FILE
 *
	m_chaš
;

269 
	m_f’o
;

271 
	m_blksize
;

273 
	m_æags2
;

275 
_IO_off_t
 
	m_Şd_off£t
;

277 
	#__HAVE_COLUMN


	)

279 
	m_cur_cŞumn
;

280 sigÃd 
	m_vbË_off£t
;

281 
	m_shÜtbuf
[1];

285 
_IO_lock_t
 *
	m_lock
;

286 #ifdeà
_IO_USE_OLD_IO_FILE


289 
	s_IO_FILE_com¶‘e


291 
_IO_FILE
 
	m_fe
;

293 #ià
defšed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

294 
_IO_off64_t
 
	m_off£t
;

295 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


297 
_IO_codecvt
 *
	m_codecvt
;

298 
_IO_wide_d©a
 *
	m_wide_d©a
;

299 
_IO_FILE
 *
	m_ä“»s_li¡
;

300 *
	m_ä“»s_buf
;

301 
size_t
 
	m_ä“»s_size
;

303 *
	m__·d1
;

304 *
	m__·d2
;

305 *
	m__·d3
;

306 *
	m__·d4
;

307 
size_t
 
	m__·d5
;

309 
	m_mode
;

311 
	m_unu£d2
[15 *  (è- 4 *  (*è-  (
size_t
)];

315 #iâdeà
__ılu¥lus


316 
_IO_FILE
 
	t_IO_FILE
;

319 
	g_IO_FILE_¶us
;

321 
_IO_FILE_¶us
 
_IO_2_1_¡dš_
;

322 
_IO_FILE_¶us
 
_IO_2_1_¡dout_
;

323 
_IO_FILE_¶us
 
_IO_2_1_¡d”r_
;

324 #iâdeà
_LIBC


325 
	#_IO_¡dš
 ((
_IO_FILE
*)(&
_IO_2_1_¡dš_
))

	)

326 
	#_IO_¡dout
 ((
_IO_FILE
*)(&
_IO_2_1_¡dout_
))

	)

327 
	#_IO_¡d”r
 ((
_IO_FILE
*)(&
_IO_2_1_¡d”r_
))

	)

329 
_IO_FILE
 *
_IO_¡dš
 
©Œibu‹_hidd’
;

330 
_IO_FILE
 *
_IO_¡dout
 
©Œibu‹_hidd’
;

331 
_IO_FILE
 *
_IO_¡d”r
 
©Œibu‹_hidd’
;

339 
__ssize_t
 
	t__io_»ad_â
 (*
	t__cook›
, *
	t__buf
, 
	tsize_t
 
	t__nby‹s
);

347 
__ssize_t
 
	t__io_wr™e_â
 (*
	t__cook›
, cÚ¡ *
	t__buf
,

348 
	tsize_t
 
	t__n
);

356 
	t__io_£ek_â
 (*
	t__cook›
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

359 
	t__io_şo£_â
 (*
	t__cook›
);

362 #ifdeà
_GNU_SOURCE


364 
__io_»ad_â
 
	tcook›_»ad_funùiÚ_t
;

365 
__io_wr™e_â
 
	tcook›_wr™e_funùiÚ_t
;

366 
__io_£ek_â
 
	tcook›_£ek_funùiÚ_t
;

367 
__io_şo£_â
 
	tcook›_şo£_funùiÚ_t
;

372 
__io_»ad_â
 *
	m»ad
;

373 
__io_wr™e_â
 *
	mwr™e
;

374 
__io_£ek_â
 *
	m£ek
;

375 
__io_şo£_â
 *
	mşo£
;

376 } 
	t_IO_cook›_io_funùiÚs_t
;

377 
_IO_cook›_io_funùiÚs_t
 
	tcook›_io_funùiÚs_t
;

379 
	g_IO_cook›_fe
;

382 
_IO_cook›_š™
 (
_IO_cook›_fe
 *
__cfe
, 
__»ad_wr™e
,

383 *
__cook›
, 
_IO_cook›_io_funùiÚs_t
 
__âs
);

387 #ifdeà
__ılu¥lus


391 
__und”æow
 (
_IO_FILE
 *);

392 
__uæow
 (
_IO_FILE
 *);

393 
__ov”æow
 (
_IO_FILE
 *, );

394 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


395 
_IO_wšt_t
 
__wund”æow
 (
_IO_FILE
 *);

396 
_IO_wšt_t
 
__wuæow
 (
_IO_FILE
 *);

397 
_IO_wšt_t
 
__wov”æow
 (
_IO_FILE
 *, _IO_wint_t);

400 #ià 
__GNUC__
 >= 3

401 
	#_IO_BE
(
ex´
, 
»s
è
	`__butš_ex³ù
 (Óx´),„es)

	)

403 
	#_IO_BE
(
ex´
, 
»s
èÓx´)

	)

406 
	#_IO_g‘c_uÆocked
(
_å
) \

407 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

408 ? 
	`__uæow
 (
_å
è: *(*è(_å)->
_IO_»ad_±r
++)

	)

409 
	#_IO_³ekc_uÆocked
(
_å
) \

410 (
	`_IO_BE
 ((
_å
)->
_IO_»ad_±r
 >ğ(_å)->
_IO_»ad_’d
, 0) \

411 && 
	`__und”æow
 (
_å
è=ğ
EOF
 ? EOF \

412 : *(*è(
_å
)->
_IO_»ad_±r
)

	)

413 
	#_IO_putc_uÆocked
(
_ch
, 
_å
) \

414 (
	`_IO_BE
 ((
_å
)->
_IO_wr™e_±r
 >ğ(_å)->
_IO_wr™e_’d
, 0) \

415 ? 
	`__ov”æow
 (
_å
, (è(
_ch
)) \

416 : (è(*(
_å
)->
_IO_wr™e_±r
++ = (
_ch
)))

	)

418 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


419 
	#_IO_g‘wc_uÆocked
(
_å
) \

420 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

421 || ((
_å
)->
_wide_d©a
->
_IO_»ad_±r
 \

422 >ğ(
_å
)->
_wide_d©a
->
_IO_»ad_’d
), 0) \

423 ? 
	`__wuæow
 (
_å
è: (
_IO_wšt_t
è*(_å)->
_wide_d©a
->
_IO_»ad_±r
++)

	)

424 
	#_IO_putwc_uÆocked
(
_wch
, 
_å
) \

425 (
	`_IO_BE
 ((
_å
)->
_wide_d©a
 =ğ
NULL
 \

426 || ((
_å
)->
_wide_d©a
->
_IO_wr™e_±r
 \

427 >ğ(
_å
)->
_wide_d©a
->
_IO_wr™e_’d
), 0) \

428 ? 
	`__wov”æow
 (
_å
, 
_wch
) \

429 : (
_IO_wšt_t
è(*(
_å
)->
_wide_d©a
->
_IO_wr™e_±r
++ = (
_wch
)))

	)

432 
	#_IO_ãof_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_EOF_SEEN
è!ğ0)

	)

433 
	#_IO_ã¼Ü_uÆocked
(
__å
è(((__å)->
_æags
 & 
_IO_ERR_SEEN
è!ğ0)

	)

435 
_IO_g‘c
 (
_IO_FILE
 *
__å
);

436 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__å
);

437 
_IO_ãof
 (
_IO_FILE
 *
__å
è
__THROW
;

438 
_IO_ã¼Ü
 (
_IO_FILE
 *
__å
è
__THROW
;

440 
_IO_³ekc_locked
 (
_IO_FILE
 *
__å
);

443 
	#_IO_PENDING_OUTPUT_COUNT
(
_å
) \

444 ((
_å
)->
_IO_wr™e_±r
 - (_å)->
_IO_wr™e_ba£
)

	)

446 
_IO_æockfe
 (
_IO_FILE
 *è
__THROW
;

447 
_IO_fuÆockfe
 (
_IO_FILE
 *è
__THROW
;

448 
_IO_árylockfe
 (
_IO_FILE
 *è
__THROW
;

450 #ifdeà
_IO_MTSAFE_IO


451 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_locked
 (_å)

	)

452 
	#_IO_æockfe
(
_å
) \

453 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_æockfe
 (_å)

	)

454 
	#_IO_fuÆockfe
(
_å
) \

455 ià(((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0è
	`_IO_fuÆockfe
 (_å)

	)

457 
	#_IO_³ekc
(
_å
è
	`_IO_³ekc_uÆocked
 (_å)

	)

458 
	#_IO_æockfe
(
_å
è

	)

459 
	#_IO_fuÆockfe
(
_å
è

	)

460 
	#_IO_árylockfe
(
_å
è

	)

461 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
è

	)

462 
	#_IO_ş—nup_»giÚ_’d
(
_Do™
è

	)

465 
_IO_vfsÿnf
 (
_IO_FILE
 * 
__»¡riù
, const * __restrict,

466 
_IO_va_li¡
, *
__»¡riù
);

467 
_IO_vårštf
 (
_IO_FILE
 *
__»¡riù
, const *__restrict,

468 
_IO_va_li¡
);

469 
_IO_ssize_t
 
_IO_·dn
 (
_IO_FILE
 *, , _IO_ssize_t);

470 
_IO_size_t
 
_IO_sg‘n
 (
_IO_FILE
 *, *, _IO_size_t);

472 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

473 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

475 
_IO_ä“_backup_¬—
 (
_IO_FILE
 *è
__THROW
;

477 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


478 
_IO_wšt_t
 
_IO_g‘wc
 (
_IO_FILE
 *
__å
);

479 
_IO_wšt_t
 
_IO_putwc
 (
wch¬_t
 
__wc
, 
_IO_FILE
 *
__å
);

480 
_IO_fwide
 (
_IO_FILE
 *
__å
, 
__mode
è
__THROW
;

481 #ià
__GNUC__
 >= 2

484 #ià
defšed
 
_LIBC
 && defšed 
SHARED


485 
	~<shlib-com·t.h
>

486 #ià
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

487 
	#_IO_fwide_maybe_šcom·tibË
 \

488 (
	`__butš_ex³ù
 (&
_IO_¡dš_u£d
 =ğ
NULL
, 0))

	)

489 cÚ¡ 
_IO_¡dš_u£d
;

490 
w—k_ex‹º
 (
_IO_¡dš_u£d
);

493 #iâdeà
_IO_fwide_maybe_šcom·tibË


494 
	#_IO_fwide_maybe_šcom·tibË
 (0)

	)

498 
	#_IO_fwide
(
__å
, 
__mode
) \

499 ({ 
__»suÉ
 = (
__mode
); \

500 ià(
__»suÉ
 < 0 && ! 
_IO_fwide_maybe_šcom·tibË
) \

502 ià((
__å
)->
_mode
 == 0) \

504 (
__å
)->
_mode
 = -1; \

505 
__»suÉ
 = (
__å
)->
_mode
; \

507 ià(
	`__butš_cÚ¡ªt_p
 (
__mode
) && (__mode) == 0) \

508 
__»suÉ
 = 
_IO_fwide_maybe_šcom·tibË
 ? -1 : (
__å
)->
_mode
; \

510 
__»suÉ
 = 
	`_IO_fwide
 (
__å
, __result); \

511 
__»suÉ
; })

	)

514 
_IO_vfwsÿnf
 (
_IO_FILE
 * 
__»¡riù
, cÚ¡ 
wch¬_t
 * __restrict,

515 
_IO_va_li¡
, *
__»¡riù
);

516 
_IO_vfw´štf
 (
_IO_FILE
 *
__»¡riù
, cÚ¡ 
wch¬_t
 *__restrict,

517 
_IO_va_li¡
);

518 
_IO_ssize_t
 
_IO_w·dn
 (
_IO_FILE
 *, 
wšt_t
, _IO_ssize_t);

519 
_IO_ä“_wbackup_¬—
 (
_IO_FILE
 *è
__THROW
;

522 #ifdeà
__LDBL_COMPAT


523 
	~<b™s/libio-ldbl.h
>

526 #ifdeà
__ılu¥lus


	@/usr/include/sys/syscall.h

18 #iâdeà
_SYSCALL_H


19 
	#_SYSCALL_H
 1

	)

24 
	~<asm/uni¡d.h
>

26 #iâdeà
_LIBC


31 
	~<b™s/sysÿÎ.h
>

	@/usr/include/sys/types.h

22 #iâdef 
_SYS_TYPES_H


23 
	#_SYS_TYPES_H
 1

	)

25 
	~<ã©u»s.h
>

27 
	g__BEGIN_DECLS


29 
	~<b™s/ty³s.h
>

31 #ifdef 
__USE_BSD


32 #iâdeà
__u_ch¬_defšed


33 
__u_ch¬
 
	tu_ch¬
;

34 
__u_shÜt
 
	tu_shÜt
;

35 
__u_št
 
	tu_št
;

36 
__u_lÚg
 
	tu_lÚg
;

37 
__quad_t
 
	tquad_t
;

38 
__u_quad_t
 
	tu_quad_t
;

39 
__fsid_t
 
	tfsid_t
;

40 
	#__u_ch¬_defšed


	)

44 
__loff_t
 
	tloff_t
;

46 #iâdeà
__šo_t_defšed


47 #iâdeà
__USE_FILE_OFFSET64


48 
__šo_t
 
	tšo_t
;

50 
__šo64_t
 
	tšo_t
;

52 
	#__šo_t_defšed


	)

54 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__šo64_t_defšed


55 
__šo64_t
 
	tšo64_t
;

56 
	#__šo64_t_defšed


	)

59 #iâdeà
__dev_t_defšed


60 
__dev_t
 
	tdev_t
;

61 
	#__dev_t_defšed


	)

64 #iâdeà
__gid_t_defšed


65 
__gid_t
 
	tgid_t
;

66 
	#__gid_t_defšed


	)

69 #iâdeà
__mode_t_defšed


70 
__mode_t
 
	tmode_t
;

71 
	#__mode_t_defšed


	)

74 #iâdeà
__Æšk_t_defšed


75 
__Æšk_t
 
	tÆšk_t
;

76 
	#__Æšk_t_defšed


	)

79 #iâdeà
__uid_t_defšed


80 
__uid_t
 
	tuid_t
;

81 
	#__uid_t_defšed


	)

84 #iâdeà
__off_t_defšed


85 #iâdeà
__USE_FILE_OFFSET64


86 
__off_t
 
	toff_t
;

88 
__off64_t
 
	toff_t
;

90 
	#__off_t_defšed


	)

92 #ià
defšed
 
__USE_LARGEFILE64
 && !defšed 
__off64_t_defšed


93 
__off64_t
 
	toff64_t
;

94 
	#__off64_t_defšed


	)

97 #iâdeà
__pid_t_defšed


98 
__pid_t
 
	tpid_t
;

99 
	#__pid_t_defšed


	)

102 #ià(
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8
) \

103 && !
defšed
 
__id_t_defšed


104 
__id_t
 
	tid_t
;

105 
	#__id_t_defšed


	)

108 #iâdeà
__ssize_t_defšed


109 
__ssize_t
 
	tssize_t
;

110 
	#__ssize_t_defšed


	)

113 #ifdef 
__USE_BSD


114 #iâdeà
__daddr_t_defšed


115 
__daddr_t
 
	tdaddr_t
;

116 
__ÿddr_t
 
	tÿddr_t
;

117 
	#__daddr_t_defšed


	)

121 #ià(
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN
è&& !defšed 
__key_t_defšed


122 
__key_t
 
	tkey_t
;

123 
	#__key_t_defšed


	)

126 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_XOPEN2K8


127 
	#__Ãed_şock_t


	)

129 
	#__Ãed_time_t


	)

130 
	#__Ãed_tim”_t


	)

131 
	#__Ãed_şockid_t


	)

132 
	~<time.h
>

134 #ifdeà
__USE_XOPEN


135 #iâdeà
__u£cÚds_t_defšed


136 
__u£cÚds_t
 
	tu£cÚds_t
;

137 
	#__u£cÚds_t_defšed


	)

139 #iâdeà
__su£cÚds_t_defšed


140 
__su£cÚds_t
 
	tsu£cÚds_t
;

141 
	#__su£cÚds_t_defšed


	)

145 
	#__Ãed_size_t


	)

146 
	~<¡ddef.h
>

148 #ifdeà
__USE_MISC


150 
	tulÚg
;

151 
	tushÜt
;

152 
	tušt
;

157 #ià!
__GNUC_PREREQ
 (2, 7)

160 #iâdeà
__št8_t_defšed


161 
	#__št8_t_defšed


	)

162 
	tšt8_t
;

163 
	tšt16_t
;

164 
	tšt32_t
;

165 #ià
__WORDSIZE
 == 64

166 
	tšt64_t
;

167 #–ià
__GLIBC_HAVE_LONG_LONG


168 
__ex‹nsiÚ__
 
	tšt64_t
;

173 
	tu_št8_t
;

174 
	tu_št16_t
;

175 
	tu_št32_t
;

176 #ià
__WORDSIZE
 == 64

177 
	tu_št64_t
;

178 #–ià
__GLIBC_HAVE_LONG_LONG


179 
__ex‹nsiÚ__
 
	tu_št64_t
;

182 
	t»gi¡”_t
;

187 
	#__štN_t
(
N
, 
MODE
) \

188 ##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

189 
	t__u_štN_t
(
	tN
, 
	tMODE
) \

190 
	tu_št
##
	tN
##
	t_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	tMODE
)))

	)

192 #iâdeà
	t__št8_t_defšed


193 
	t__št8_t_defšed


	)

194 
	t__štN_t
 (8, 
	t__QI__
);

195 
__štN_t
 (16, 
__HI__
);

196 
__štN_t
 (32, 
__SI__
);

197 
__štN_t
 (64, 
__DI__
);

200 
__u_štN_t
 (8, 
__QI__
);

201 
__u_štN_t
 (16, 
__HI__
);

202 
__u_štN_t
 (32, 
__SI__
);

203 
__u_štN_t
 (64, 
__DI__
);

205 
	t»gi¡”_t
 
	t__©Œibu‹__
 ((
	t__mode__
 (
	t__wÜd__
)));

211 
	#__BIT_TYPES_DEFINED__
 1

	)

214 #ifdef 
__USE_BSD


216 
	~<’dŸn.h
>

219 
	~<sys/£Ëù.h
>

222 
	~<sys/sysmaüos.h
>

226 #ià(
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8
) \

227 && !
defšed
 
__blksize_t_defšed


228 
__blksize_t
 
	tblksize_t
;

229 
	#__blksize_t_defšed


	)

233 #iâdeà
__USE_FILE_OFFSET64


234 #iâdeà
__blkút_t_defšed


235 
__blkút_t
 
	tblkút_t
;

236 
	#__blkút_t_defšed


	)

238 #iâdeà
__fsblkút_t_defšed


239 
__fsblkút_t
 
	tfsblkút_t
;

240 
	#__fsblkút_t_defšed


	)

242 #iâdeà
__fsfút_t_defšed


243 
__fsfút_t
 
	tfsfút_t
;

244 
	#__fsfút_t_defšed


	)

247 #iâdeà
__blkút_t_defšed


248 
__blkút64_t
 
	tblkút_t
;

249 
	#__blkút_t_defšed


	)

251 #iâdeà
__fsblkút_t_defšed


252 
__fsblkút64_t
 
	tfsblkút_t
;

253 
	#__fsblkút_t_defšed


	)

255 #iâdeà
__fsfút_t_defšed


256 
__fsfút64_t
 
	tfsfút_t
;

257 
	#__fsfút_t_defšed


	)

261 #ifdeà
__USE_LARGEFILE64


262 
__blkút64_t
 
	tblkút64_t
;

263 
__fsblkút64_t
 
	tfsblkút64_t
;

264 
__fsfút64_t
 
	tfsfút64_t
;

269 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


270 
	~<b™s/±h»adty³s.h
>

273 
	g__END_DECLS


	@/usr/include/xlocale.h

20 #iâdeà
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loÿË_¡ruù


30 
__loÿË_d©a
 *
	m__loÿËs
[13];

33 cÚ¡ *
	m__ùy³_b
;

34 cÚ¡ *
	m__ùy³_tŞow”
;

35 cÚ¡ *
	m__ùy³_touµ”
;

38 cÚ¡ *
	m__Çmes
[13];

39 } *
	t__loÿË_t
;

42 
__loÿË_t
 
	tloÿË_t
;

	@/usr/include/_G_config.h

4 #iâdeà
_G_cÚfig_h


5 
	#_G_cÚfig_h
 1

	)

9 
	~<b™s/ty³s.h
>

10 
	#__Ãed_size_t


	)

11 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


12 
	#__Ãed_wch¬_t


	)

14 
	#__Ãed_NULL


	)

15 
	~<¡ddef.h
>

16 
	#__Ãed_mb¡©e_t


	)

17 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


18 
	#__Ãed_wšt_t


	)

20 
	~<wch¬.h
>

23 
__off_t
 
	m__pos
;

24 
__mb¡©e_t
 
	m__¡©e
;

25 } 
	t_G_åos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb¡©e_t
 
	m__¡©e
;

30 } 
	t_G_åos64_t
;

31 #ià
defšed
 
_LIBC
 || defšed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gcÚv.h
>

35 
__gcÚv_šfo
 
	m__cd
;

38 
__gcÚv_šfo
 
	m__cd
;

39 
__gcÚv_¡•_d©a
 
	m__d©a
;

40 } 
	m__combšed
;

41 } 
	t_G_icÚv_t
;

46 
	#_G_va_li¡
 
__gnuc_va_li¡


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`defšed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/asm/unistd.h

1 #iâdeà
_ASM_X86_UNISTD_H


2 
	#_ASM_X86_UNISTD_H


	)

5 
	#__X32_SYSCALL_BIT
 0x40000000

	)

7 #ifdeà
__i386__


8 
	~<asm/uni¡d_32.h
>

9 #–ià
defšed
(
__ILP32__
)

10 
	~<asm/uni¡d_x32.h
>

12 
	~<asm/uni¡d_64.h
>

	@/usr/include/bits/byteswap-16.h

19 #iâdeà
_BITS_BYTESWAP_H


23 #ifdeà
__GNUC__


24 #ià
__GNUC__
 >= 2

25 
	#__bsw­_16
(
x
) \

26 (
__ex‹nsiÚ__
 \

27 ({ 
__v
, 
__x
 = (è(
x
); \

28 ià(
	`__butš_cÚ¡ªt_p
 (
__x
)) \

29 
__v
 = 
	`__bsw­_cÚ¡ªt_16
 (
__x
); \

31 
	`__asm__
 ("rorw $8, %w0" \

32 : "ô" (
__v
) \

33 : "0" (
__x
) \

35 
__v
; }))

	)

38 
	#__bsw­_16
(
x
) \

39 (
__ex‹nsiÚ__
 \

40 ({ 
__x
 = (è(
x
); \

41 
	`__bsw­_cÚ¡ªt_16
 (
__x
); }))

	)

44 
__šlše
 

45 
	$__bsw­_16
 (
__bsx
)

47  
	`__bsw­_cÚ¡ªt_16
 (
__bsx
);

48 
	}
}

	@/usr/include/bits/libio-ldbl.h

19 #iâdeà
_IO_STDIO_H


23 
	$__LDBL_REDIR_DECL
 (
_IO_vfsÿnf
)

24 
	`__LDBL_REDIR_DECL
 (
_IO_vårštf
)

	@/usr/include/bits/local_lim.h

24 #iâdeà
NR_OPEN


25 
	#__undef_NR_OPEN


	)

27 #iâdeà
LINK_MAX


28 
	#__undef_LINK_MAX


	)

30 #iâdeà
OPEN_MAX


31 
	#__undef_OPEN_MAX


	)

33 #iâdeà
ARG_MAX


34 
	#__undef_ARG_MAX


	)

38 
	~<lšux/lim™s.h
>

41 #ifdeà
__undef_NR_OPEN


42 #undeà
NR_OPEN


43 #undeà
__undef_NR_OPEN


46 #ifdeà
__undef_LINK_MAX


47 #undeà
LINK_MAX


48 #undeà
__undef_LINK_MAX


51 #ifdeà
__undef_OPEN_MAX


52 #undeà
OPEN_MAX


53 #undeà
__undef_OPEN_MAX


56 #ifdeà
__undef_ARG_MAX


57 #undeà
ARG_MAX


58 #undeà
__undef_ARG_MAX


62 
	#_POSIX_THREAD_KEYS_MAX
 128

	)

64 
	#PTHREAD_KEYS_MAX
 1024

	)

67 
	#_POSIX_THREAD_DESTRUCTOR_ITERATIONS
 4

	)

69 
	#PTHREAD_DESTRUCTOR_ITERATIONS
 
_POSIX_THREAD_DESTRUCTOR_ITERATIONS


	)

72 
	#_POSIX_THREAD_THREADS_MAX
 64

	)

74 #undeà
PTHREAD_THREADS_MAX


78 
	#AIO_PRIO_DELTA_MAX
 20

	)

81 
	#PTHREAD_STACK_MIN
 16384

	)

84 
	#DELAYTIMER_MAX
 2147483647

	)

87 
	#TTY_NAME_MAX
 32

	)

90 
	#LOGIN_NAME_MAX
 256

	)

93 
	#HOST_NAME_MAX
 64

	)

96 
	#MQ_PRIO_MAX
 32768

	)

99 
	#SEM_VALUE_MAX
 (2147483647)

	)

	@/usr/include/bits/pthreadtypes.h

18 #iâdeà
_BITS_PTHREADTYPES_H


19 
	#_BITS_PTHREADTYPES_H
 1

	)

21 
	~<b™s/wÜdsize.h
>

23 #ifdeà
__x86_64__


24 #ià
__WORDSIZE
 == 64

25 
	#__SIZEOF_PTHREAD_ATTR_T
 56

	)

26 
	#__SIZEOF_PTHREAD_MUTEX_T
 40

	)

27 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

28 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

29 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

30 
	#__SIZEOF_PTHREAD_RWLOCK_T
 56

	)

31 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

32 
	#__SIZEOF_PTHREAD_BARRIER_T
 32

	)

33 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

35 
	#__SIZEOF_PTHREAD_ATTR_T
 32

	)

36 
	#__SIZEOF_PTHREAD_MUTEX_T
 32

	)

37 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

38 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

39 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

40 
	#__SIZEOF_PTHREAD_RWLOCK_T
 44

	)

41 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

42 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

43 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

46 
	#__SIZEOF_PTHREAD_ATTR_T
 36

	)

47 
	#__SIZEOF_PTHREAD_MUTEX_T
 24

	)

48 
	#__SIZEOF_PTHREAD_MUTEXATTR_T
 4

	)

49 
	#__SIZEOF_PTHREAD_COND_T
 48

	)

50 
	#__SIZEOF_PTHREAD_CONDATTR_T
 4

	)

51 
	#__SIZEOF_PTHREAD_RWLOCK_T
 32

	)

52 
	#__SIZEOF_PTHREAD_RWLOCKATTR_T
 8

	)

53 
	#__SIZEOF_PTHREAD_BARRIER_T
 20

	)

54 
	#__SIZEOF_PTHREAD_BARRIERATTR_T
 4

	)

60 
	t±h»ad_t
;

63 
	u±h»ad_©Œ_t


65 
	m__size
[
__SIZEOF_PTHREAD_ATTR_T
];

66 
	m__®ign
;

68 #iâdeà
__have_±h»ad_©Œ_t


69 
±h»ad_©Œ_t
 
	t±h»ad_©Œ_t
;

70 
	#__have_±h»ad_©Œ_t
 1

	)

74 #ifdeà
__x86_64__


75 
	s__±h»ad_š‹º®_li¡


77 
__±h»ad_š‹º®_li¡
 *
	m__´ev
;

78 
__±h»ad_š‹º®_li¡
 *
	m__Ãxt
;

79 } 
	t__±h»ad_li¡_t
;

81 
	s__±h»ad_š‹º®_¦i¡


83 
__±h»ad_š‹º®_¦i¡
 *
	m__Ãxt
;

84 } 
	t__±h»ad_¦i¡_t
;

92 
	s__±h»ad_mu‹x_s


94 
	m__lock
;

95 
	m__couÁ
;

96 
	m__owÃr
;

97 #ifdeà
__x86_64__


98 
	m__nu£rs
;

102 
	m__kšd
;

103 #ifdeà
__x86_64__


104 
	m__¥šs
;

105 
__±h»ad_li¡_t
 
	m__li¡
;

106 
	#__PTHREAD_MUTEX_HAVE_PREV
 1

	)

108 
	m__nu£rs
;

109 
__ex‹nsiÚ__
 union

111 
	m__¥šs
;

112 
__±h»ad_¦i¡_t
 
	m__li¡
;

115 } 
	m__d©a
;

116 
	m__size
[
__SIZEOF_PTHREAD_MUTEX_T
];

117 
	m__®ign
;

118 } 
	t±h»ad_mu‹x_t
;

122 
	m__size
[
__SIZEOF_PTHREAD_MUTEXATTR_T
];

123 
	m__®ign
;

124 } 
	t±h»ad_mu‹x©Œ_t
;

133 
	m__lock
;

134 
	m__fu‹x
;

135 
__ex‹nsiÚ__
 
	m__tÙ®_£q
;

136 
__ex‹nsiÚ__
 
	m__wakeup_£q
;

137 
__ex‹nsiÚ__
 
	m__wok’_£q
;

138 *
	m__mu‹x
;

139 
	m__nwa™”s
;

140 
	m__brßdÿ¡_£q
;

141 } 
	m__d©a
;

142 
	m__size
[
__SIZEOF_PTHREAD_COND_T
];

143 
__ex‹nsiÚ__
 
	m__®ign
;

144 } 
	t±h»ad_cÚd_t
;

148 
	m__size
[
__SIZEOF_PTHREAD_CONDATTR_T
];

149 
	m__®ign
;

150 } 
	t±h»ad_cÚd©Œ_t
;

154 
	t±h»ad_key_t
;

158 
	t±h»ad_Úû_t
;

161 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


166 #ifdeà
__x86_64__


169 
	m__lock
;

170 
	m__Ä_»ad”s
;

171 
	m__»ad”s_wakeup
;

172 
	m__wr™”_wakeup
;

173 
	m__Ä_»ad”s_queued
;

174 
	m__Ä_wr™”s_queued
;

175 
	m__wr™”
;

176 
	m__sh¬ed
;

177 
	m__·d1
;

178 
	m__·d2
;

181 
	m__æags
;

182 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

183 } 
	m__d©a
;

187 
	m__lock
;

188 
	m__Ä_»ad”s
;

189 
	m__»ad”s_wakeup
;

190 
	m__wr™”_wakeup
;

191 
	m__Ä_»ad”s_queued
;

192 
	m__Ä_wr™”s_queued
;

195 
	m__æags
;

196 
	m__sh¬ed
;

197 
	m__·d1
;

198 
	m__·d2
;

199 
	m__wr™”
;

200 } 
	m__d©a
;

202 
	m__size
[
__SIZEOF_PTHREAD_RWLOCK_T
];

203 
	m__®ign
;

204 } 
	t±h»ad_rwlock_t
;

208 
	m__size
[
__SIZEOF_PTHREAD_RWLOCKATTR_T
];

209 
	m__®ign
;

210 } 
	t±h»ad_rwlock©Œ_t
;

214 #ifdeà
__USE_XOPEN2K


216 vŞ©
	t±h»ad_¥šlock_t
;

223 
	m__size
[
__SIZEOF_PTHREAD_BARRIER_T
];

224 
	m__®ign
;

225 } 
	t±h»ad_b¬r›r_t
;

229 
	m__size
[
__SIZEOF_PTHREAD_BARRIERATTR_T
];

230 
	m__®ign
;

231 } 
	t±h»ad_b¬r›¿‰r_t
;

235 #iâdeà
__x86_64__


237 
	#__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
	`__»g·rm__
 (1)))

	)

	@/usr/include/bits/stdio-lock.h

19 #iâdeà
_BITS_STDIO_LOCK_H


20 
	#_BITS_STDIO_LOCK_H
 1

	)

22 
	~<b™s/libc-lock.h
>

23 
	~<lowËv–lock.h
>

27 
	#_IO_lock_šex³nsive
 1

	)

29 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t_IO_lock_t
;

31 
	#_IO_lock_š™Ÿliz”
 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

33 
	#_IO_lock_š™
(
_Çme
) \

34 ((
_Çme
èğ(
_IO_lock_t
è
_IO_lock_š™Ÿliz”
 , 0)

	)

36 
	#_IO_lock_fši
(
_Çme
) \

37 ((è0)

	)

39 
	#_IO_lock_lock
(
_Çme
) \

41 *
__£lf
 = 
THREAD_SELF
; \

42 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

44 
	`Îl_lock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

45 (
_Çme
).
owÃr
 = 
__£lf
; \

47 ++(
_Çme
).
út
; \

48 } 0)

	)

50 
	#_IO_lock_Œylock
(
_Çme
) \

52 
__»suÉ
 = 0; \

53 *
__£lf
 = 
THREAD_SELF
; \

54 ià((
_Çme
).
owÃr
 !ğ
__£lf
) \

56 ià(
	`Îl_Œylock
 ((
_Çme
).
lock
) == 0) \

58 (
_Çme
).
owÃr
 = 
__£lf
; \

59 (
_Çme
).
út
 = 1; \

62 
__»suÉ
 = 
EBUSY
; \

65 ++(
_Çme
).
út
; \

66 
__»suÉ
; \

67 })

	)

69 
	#_IO_lock_uÆock
(
_Çme
) \

71 ià(--(
_Çme
).
út
 == 0) \

73 (
_Çme
).
owÃr
 = 
NULL
; \

74 
	`Îl_uÆock
 ((
_Çme
).
lock
, 
LLL_PRIVATE
); \

76 } 0)

	)

80 
	#_IO_ş—nup_»giÚ_¡¬t
(
_fù
, 
_å
) \

81 
	`__libc_ş—nup_»giÚ_¡¬t
 (((
_å
)->
_æags
 & 
_IO_USER_LOCK
è=ğ0, 
_fù
, _å)

	)

82 
	#_IO_ş—nup_»giÚ_¡¬t_nßrg
(
_fù
) \

83 
	`__libc_ş—nup_»giÚ_¡¬t
 (1, 
_fù
, 
NULL
)

	)

84 
	#_IO_ş—nup_»giÚ_’d
(
_do™
) \

85 
	`__libc_ş—nup_»giÚ_’d
 (
_do™
)

	)

87 #ià
defšed
 
_LIBC
 && !defšed 
NOT_IN_libc


89 #ifdeà
__EXCEPTIONS


90 
	#_IO_acquœe_lock
(
_å
) \

92 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

93 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_fù
))) \

94 ğ(
_å
); \

95 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

96 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
) \

98 
_IO_FILE
 *
_IO_acquœe_lock_fe
 \

99 
	`__©Œibu‹__
((
	`ş—nup
 (
_IO_acquœe_lock_ş—r_æags2_fù
))) \

100 ğ(
_å
); \

101 
	`_IO_æockfe
 (
_IO_acquœe_lock_fe
);

	)

103 
	#_IO_acquœe_lock
(
_å
è
_IO_acquœe_lock_Ãeds_exû±iÚs_’abËd


	)

104 
	#_IO_acquœe_lock_ş—r_æags2
(
_å
è
	`_IO_acquœe_lock
 (_å)

	)

106 
	#_IO_»Ëa£_lock
(
_å
è; } 0)

	)

	@/usr/include/bits/syscall.h

3 #iâdeà
_SYSCALL_H


8 #ià!
defšed
 
__x86_64__


9 
	#SYS__Î£ek
 
__NR__Î£ek


	)

10 
	#SYS__Ãw£Ëù
 
__NR__Ãw£Ëù


	)

11 
	#SYS__sysùl
 
__NR__sysùl


	)

12 
	#SYS_acûss
 
__NR_acûss


	)

13 
	#SYS_acù
 
__NR_acù


	)

14 
	#SYS_add_key
 
__NR_add_key


	)

15 
	#SYS_adjtimex
 
__NR_adjtimex


	)

16 
	#SYS_afs_sysÿÎ
 
__NR_afs_sysÿÎ


	)

17 
	#SYS_®¬m
 
__NR_®¬m


	)

18 
	#SYS_bdæush
 
__NR_bdæush


	)

19 
	#SYS_b»ak
 
__NR_b»ak


	)

20 
	#SYS_brk
 
__NR_brk


	)

21 
	#SYS_ÿpg‘
 
__NR_ÿpg‘


	)

22 
	#SYS_ÿp£t
 
__NR_ÿp£t


	)

23 
	#SYS_chdœ
 
__NR_chdœ


	)

24 
	#SYS_chmod
 
__NR_chmod


	)

25 
	#SYS_chown
 
__NR_chown


	)

26 
	#SYS_chown32
 
__NR_chown32


	)

27 
	#SYS_chroÙ
 
__NR_chroÙ


	)

28 
	#SYS_şock_adjtime
 
__NR_şock_adjtime


	)

29 
	#SYS_şock_g‘»s
 
__NR_şock_g‘»s


	)

30 
	#SYS_şock_g‘time
 
__NR_şock_g‘time


	)

31 
	#SYS_şock_Çno¦“p
 
__NR_şock_Çno¦“p


	)

32 
	#SYS_şock_£‰ime
 
__NR_şock_£‰ime


	)

33 
	#SYS_şÚe
 
__NR_şÚe


	)

34 
	#SYS_şo£
 
__NR_şo£


	)

35 
	#SYS_ü—t
 
__NR_ü—t


	)

36 
	#SYS_ü—‹_moduË
 
__NR_ü—‹_moduË


	)

37 
	#SYS_d–‘e_moduË
 
__NR_d–‘e_moduË


	)

38 
	#SYS_dup
 
__NR_dup


	)

39 
	#SYS_dup2
 
__NR_dup2


	)

40 
	#SYS_dup3
 
__NR_dup3


	)

41 
	#SYS_•Şl_ü—‹
 
__NR_•Şl_ü—‹


	)

42 
	#SYS_•Şl_ü—‹1
 
__NR_•Şl_ü—‹1


	)

43 
	#SYS_•Şl_ùl
 
__NR_•Şl_ùl


	)

44 
	#SYS_•Şl_pwa™
 
__NR_•Şl_pwa™


	)

45 
	#SYS_•Şl_wa™
 
__NR_•Şl_wa™


	)

46 
	#SYS_ev’tfd
 
__NR_ev’tfd


	)

47 
	#SYS_ev’tfd2
 
__NR_ev’tfd2


	)

48 
	#SYS_execve
 
__NR_execve


	)

49 
	#SYS_ex™
 
__NR_ex™


	)

50 
	#SYS_ex™_group
 
__NR_ex™_group


	)

51 
	#SYS_çcûs§t
 
__NR_çcûs§t


	)

52 
	#SYS_çdvi£64
 
__NR_çdvi£64


	)

53 
	#SYS_çdvi£64_64
 
__NR_çdvi£64_64


	)

54 
	#SYS_çÎoÿ‹
 
__NR_çÎoÿ‹


	)

55 
	#SYS_çnÙify_š™
 
__NR_çnÙify_š™


	)

56 
	#SYS_çnÙify_m¬k
 
__NR_çnÙify_m¬k


	)

57 
	#SYS_fchdœ
 
__NR_fchdœ


	)

58 
	#SYS_fchmod
 
__NR_fchmod


	)

59 
	#SYS_fchmod©
 
__NR_fchmod©


	)

60 
	#SYS_fchown
 
__NR_fchown


	)

61 
	#SYS_fchown32
 
__NR_fchown32


	)

62 
	#SYS_fchowÇt
 
__NR_fchowÇt


	)

63 
	#SYS_fú
 
__NR_fú


	)

64 
	#SYS_fú64
 
__NR_fú64


	)

65 
	#SYS_fd©async
 
__NR_fd©async


	)

66 
	#SYS_fg‘x©Œ
 
__NR_fg‘x©Œ


	)

67 
	#SYS_fš™_moduË
 
__NR_fš™_moduË


	)

68 
	#SYS_æi¡x©Œ
 
__NR_æi¡x©Œ


	)

69 
	#SYS_æock
 
__NR_æock


	)

70 
	#SYS_fÜk
 
__NR_fÜk


	)

71 
	#SYS_äemovex©Œ
 
__NR_äemovex©Œ


	)

72 
	#SYS_f£tx©Œ
 
__NR_f£tx©Œ


	)

73 
	#SYS_f¡©
 
__NR_f¡©


	)

74 
	#SYS_f¡©64
 
__NR_f¡©64


	)

75 
	#SYS_f¡©©64
 
__NR_f¡©©64


	)

76 
	#SYS_f¡©fs
 
__NR_f¡©fs


	)

77 
	#SYS_f¡©fs64
 
__NR_f¡©fs64


	)

78 
	#SYS_fsync
 
__NR_fsync


	)

79 
	#SYS_áime
 
__NR_áime


	)

80 
	#SYS_árunÿ‹
 
__NR_árunÿ‹


	)

81 
	#SYS_árunÿ‹64
 
__NR_árunÿ‹64


	)

82 
	#SYS_fu‹x
 
__NR_fu‹x


	)

83 
	#SYS_futime§t
 
__NR_futime§t


	)

84 
	#SYS_g‘_k”Ãl_syms
 
__NR_g‘_k”Ãl_syms


	)

85 
	#SYS_g‘_mempŞicy
 
__NR_g‘_mempŞicy


	)

86 
	#SYS_g‘_robu¡_li¡
 
__NR_g‘_robu¡_li¡


	)

87 
	#SYS_g‘_th»ad_¬—
 
__NR_g‘_th»ad_¬—


	)

88 
	#SYS_g‘ıu
 
__NR_g‘ıu


	)

89 
	#SYS_g‘cwd
 
__NR_g‘cwd


	)

90 
	#SYS_g‘d’ts
 
__NR_g‘d’ts


	)

91 
	#SYS_g‘d’ts64
 
__NR_g‘d’ts64


	)

92 
	#SYS_g‘egid
 
__NR_g‘egid


	)

93 
	#SYS_g‘egid32
 
__NR_g‘egid32


	)

94 
	#SYS_g‘euid
 
__NR_g‘euid


	)

95 
	#SYS_g‘euid32
 
__NR_g‘euid32


	)

96 
	#SYS_g‘gid
 
__NR_g‘gid


	)

97 
	#SYS_g‘gid32
 
__NR_g‘gid32


	)

98 
	#SYS_g‘groups
 
__NR_g‘groups


	)

99 
	#SYS_g‘groups32
 
__NR_g‘groups32


	)

100 
	#SYS_g‘™im”
 
__NR_g‘™im”


	)

101 
	#SYS_g‘pgid
 
__NR_g‘pgid


	)

102 
	#SYS_g‘pg½
 
__NR_g‘pg½


	)

103 
	#SYS_g‘pid
 
__NR_g‘pid


	)

104 
	#SYS_g‘pmsg
 
__NR_g‘pmsg


	)

105 
	#SYS_g‘µid
 
__NR_g‘µid


	)

106 
	#SYS_g‘´iÜ™y
 
__NR_g‘´iÜ™y


	)

107 
	#SYS_g‘»sgid
 
__NR_g‘»sgid


	)

108 
	#SYS_g‘»sgid32
 
__NR_g‘»sgid32


	)

109 
	#SYS_g‘»suid
 
__NR_g‘»suid


	)

110 
	#SYS_g‘»suid32
 
__NR_g‘»suid32


	)

111 
	#SYS_g‘¾im™
 
__NR_g‘¾im™


	)

112 
	#SYS_g‘ru§ge
 
__NR_g‘ru§ge


	)

113 
	#SYS_g‘sid
 
__NR_g‘sid


	)

114 
	#SYS_g‘tid
 
__NR_g‘tid


	)

115 
	#SYS_g‘timeofday
 
__NR_g‘timeofday


	)

116 
	#SYS_g‘uid
 
__NR_g‘uid


	)

117 
	#SYS_g‘uid32
 
__NR_g‘uid32


	)

118 
	#SYS_g‘x©Œ
 
__NR_g‘x©Œ


	)

119 
	#SYS_g‰y
 
__NR_g‰y


	)

120 
	#SYS_idË
 
__NR_idË


	)

121 
	#SYS_š™_moduË
 
__NR_š™_moduË


	)

122 
	#SYS_šÙify_add_w©ch
 
__NR_šÙify_add_w©ch


	)

123 
	#SYS_šÙify_š™
 
__NR_šÙify_š™


	)

124 
	#SYS_šÙify_š™1
 
__NR_šÙify_š™1


	)

125 
	#SYS_šÙify_rm_w©ch
 
__NR_šÙify_rm_w©ch


	)

126 
	#SYS_io_ÿnûl
 
__NR_io_ÿnûl


	)

127 
	#SYS_io_de¡roy
 
__NR_io_de¡roy


	)

128 
	#SYS_io_g‘ev’ts
 
__NR_io_g‘ev’ts


	)

129 
	#SYS_io_£tup
 
__NR_io_£tup


	)

130 
	#SYS_io_subm™
 
__NR_io_subm™


	)

131 
	#SYS_ioùl
 
__NR_ioùl


	)

132 
	#SYS_iİ”m
 
__NR_iİ”m


	)

133 
	#SYS_iİl
 
__NR_iİl


	)

134 
	#SYS_iİrio_g‘
 
__NR_iİrio_g‘


	)

135 
	#SYS_iİrio_£t
 
__NR_iİrio_£t


	)

136 
	#SYS_c
 
__NR_c


	)

137 
	#SYS_kcmp
 
__NR_kcmp


	)

138 
	#SYS_kexec_lßd
 
__NR_kexec_lßd


	)

139 
	#SYS_keyùl
 
__NR_keyùl


	)

140 
	#SYS_kl
 
__NR_kl


	)

141 
	#SYS_lchown
 
__NR_lchown


	)

142 
	#SYS_lchown32
 
__NR_lchown32


	)

143 
	#SYS_lg‘x©Œ
 
__NR_lg‘x©Œ


	)

144 
	#SYS_lšk
 
__NR_lšk


	)

145 
	#SYS_lšk©
 
__NR_lšk©


	)

146 
	#SYS_li¡x©Œ
 
__NR_li¡x©Œ


	)

147 
	#SYS_Îi¡x©Œ
 
__NR_Îi¡x©Œ


	)

148 
	#SYS_lock
 
__NR_lock


	)

149 
	#SYS_lookup_dcook›
 
__NR_lookup_dcook›


	)

150 
	#SYS_Ìemovex©Œ
 
__NR_Ìemovex©Œ


	)

151 
	#SYS_l£ek
 
__NR_l£ek


	)

152 
	#SYS_l£tx©Œ
 
__NR_l£tx©Œ


	)

153 
	#SYS_l¡©
 
__NR_l¡©


	)

154 
	#SYS_l¡©64
 
__NR_l¡©64


	)

155 
	#SYS_madvi£
 
__NR_madvi£


	)

156 
	#SYS_mbšd
 
__NR_mbšd


	)

157 
	#SYS_mig¿‹_·ges
 
__NR_mig¿‹_·ges


	)

158 
	#SYS_mšcÜe
 
__NR_mšcÜe


	)

159 
	#SYS_mkdœ
 
__NR_mkdœ


	)

160 
	#SYS_mkdœ©
 
__NR_mkdœ©


	)

161 
	#SYS_mknod
 
__NR_mknod


	)

162 
	#SYS_mknod©
 
__NR_mknod©


	)

163 
	#SYS_mlock
 
__NR_mlock


	)

164 
	#SYS_mlock®l
 
__NR_mlock®l


	)

165 
	#SYS_mm­
 
__NR_mm­


	)

166 
	#SYS_mm­2
 
__NR_mm­2


	)

167 
	#SYS_modify_ldt
 
__NR_modify_ldt


	)

168 
	#SYS_mouÁ
 
__NR_mouÁ


	)

169 
	#SYS_move_·ges
 
__NR_move_·ges


	)

170 
	#SYS_m´Ùeù
 
__NR_m´Ùeù


	)

171 
	#SYS_mpx
 
__NR_mpx


	)

172 
	#SYS_mq_g‘£‰r
 
__NR_mq_g‘£‰r


	)

173 
	#SYS_mq_nÙify
 
__NR_mq_nÙify


	)

174 
	#SYS_mq_İ’
 
__NR_mq_İ’


	)

175 
	#SYS_mq_timed»ûive
 
__NR_mq_timed»ûive


	)

176 
	#SYS_mq_timed£nd
 
__NR_mq_timed£nd


	)

177 
	#SYS_mq_uÆšk
 
__NR_mq_uÆšk


	)

178 
	#SYS_m»m­
 
__NR_m»m­


	)

179 
	#SYS_msync
 
__NR_msync


	)

180 
	#SYS_muÆock
 
__NR_muÆock


	)

181 
	#SYS_muÆock®l
 
__NR_muÆock®l


	)

182 
	#SYS_munm­
 
__NR_munm­


	)

183 
	#SYS_Çme_to_hªdË_©
 
__NR_Çme_to_hªdË_©


	)

184 
	#SYS_Çno¦“p
 
__NR_Çno¦“p


	)

185 
	#SYS_nfs£rvùl
 
__NR_nfs£rvùl


	)

186 
	#SYS_niû
 
__NR_niû


	)

187 
	#SYS_Şdf¡©
 
__NR_Şdf¡©


	)

188 
	#SYS_Şdl¡©
 
__NR_Şdl¡©


	)

189 
	#SYS_ŞdŞduÇme
 
__NR_ŞdŞduÇme


	)

190 
	#SYS_Şd¡©
 
__NR_Şd¡©


	)

191 
	#SYS_ŞduÇme
 
__NR_ŞduÇme


	)

192 
	#SYS_İ’
 
__NR_İ’


	)

193 
	#SYS_İ’_by_hªdË_©
 
__NR_İ’_by_hªdË_©


	)

194 
	#SYS_İ’©
 
__NR_İ’©


	)

195 
	#SYS_·u£
 
__NR_·u£


	)

196 
	#SYS_³rf_ev’t_İ’
 
__NR_³rf_ev’t_İ’


	)

197 
	#SYS_³rsÚ®™y
 
__NR_³rsÚ®™y


	)

198 
	#SYS_pe
 
__NR_pe


	)

199 
	#SYS_pe2
 
__NR_pe2


	)

200 
	#SYS_pivÙ_roÙ
 
__NR_pivÙ_roÙ


	)

201 
	#SYS_pŞl
 
__NR_pŞl


	)

202 
	#SYS_µŞl
 
__NR_µŞl


	)

203 
	#SYS_´ùl
 
__NR_´ùl


	)

204 
	#SYS_´—d64
 
__NR_´—d64


	)

205 
	#SYS_´—dv
 
__NR_´—dv


	)

206 
	#SYS_´lim™64
 
__NR_´lim™64


	)

207 
	#SYS_´oûss_vm_»adv
 
__NR_´oûss_vm_»adv


	)

208 
	#SYS_´oûss_vm_wr™ev
 
__NR_´oûss_vm_wr™ev


	)

209 
	#SYS_´of
 
__NR_´of


	)

210 
	#SYS_´of
 
__NR_´of


	)

211 
	#SYS_p£Ëù6
 
__NR_p£Ëù6


	)

212 
	#SYS_±¿û
 
__NR_±¿û


	)

213 
	#SYS_pumsg
 
__NR_pumsg


	)

214 
	#SYS_pwr™e64
 
__NR_pwr™e64


	)

215 
	#SYS_pwr™ev
 
__NR_pwr™ev


	)

216 
	#SYS_qu”y_moduË
 
__NR_qu”y_moduË


	)

217 
	#SYS_quÙaùl
 
__NR_quÙaùl


	)

218 
	#SYS_»ad
 
__NR_»ad


	)

219 
	#SYS_»adah—d
 
__NR_»adah—d


	)

220 
	#SYS_»addœ
 
__NR_»addœ


	)

221 
	#SYS_»adlšk
 
__NR_»adlšk


	)

222 
	#SYS_»adlšk©
 
__NR_»adlšk©


	)

223 
	#SYS_»adv
 
__NR_»adv


	)

224 
	#SYS_»boÙ
 
__NR_»boÙ


	)

225 
	#SYS_»cvmmsg
 
__NR_»cvmmsg


	)

226 
	#SYS_»m­_fe_·ges
 
__NR_»m­_fe_·ges


	)

227 
	#SYS_»movex©Œ
 
__NR_»movex©Œ


	)

228 
	#SYS_»Çme
 
__NR_»Çme


	)

229 
	#SYS_»Çm—t
 
__NR_»Çm—t


	)

230 
	#SYS_»que¡_key
 
__NR_»que¡_key


	)

231 
	#SYS_»¡¬t_sysÿÎ
 
__NR_»¡¬t_sysÿÎ


	)

232 
	#SYS_rmdœ
 
__NR_rmdœ


	)

233 
	#SYS_¹_sigaùiÚ
 
__NR_¹_sigaùiÚ


	)

234 
	#SYS_¹_sig³ndšg
 
__NR_¹_sig³ndšg


	)

235 
	#SYS_¹_sig´ocmask
 
__NR_¹_sig´ocmask


	)

236 
	#SYS_¹_sigqueuešfo
 
__NR_¹_sigqueuešfo


	)

237 
	#SYS_¹_sig»tuº
 
__NR_¹_sig»tuº


	)

238 
	#SYS_¹_sigsu¥’d
 
__NR_¹_sigsu¥’d


	)

239 
	#SYS_¹_sigtimedwa™
 
__NR_¹_sigtimedwa™


	)

240 
	#SYS_¹_tgsigqueuešfo
 
__NR_¹_tgsigqueuešfo


	)

241 
	#SYS_sched_g‘_´iÜ™y_max
 
__NR_sched_g‘_´iÜ™y_max


	)

242 
	#SYS_sched_g‘_´iÜ™y_mš
 
__NR_sched_g‘_´iÜ™y_mš


	)

243 
	#SYS_sched_g‘affš™y
 
__NR_sched_g‘affš™y


	)

244 
	#SYS_sched_g‘·¿m
 
__NR_sched_g‘·¿m


	)

245 
	#SYS_sched_g‘scheduËr
 
__NR_sched_g‘scheduËr


	)

246 
	#SYS_sched_¼_g‘_š‹rv®
 
__NR_sched_¼_g‘_š‹rv®


	)

247 
	#SYS_sched_£ffš™y
 
__NR_sched_£ffš™y


	)

248 
	#SYS_sched_£¬am
 
__NR_sched_£¬am


	)

249 
	#SYS_sched_£tscheduËr
 
__NR_sched_£tscheduËr


	)

250 
	#SYS_sched_y›ld
 
__NR_sched_y›ld


	)

251 
	#SYS_£Ëù
 
__NR_£Ëù


	)

252 
	#SYS_£ndfe
 
__NR_£ndfe


	)

253 
	#SYS_£ndfe64
 
__NR_£ndfe64


	)

254 
	#SYS_£ndmmsg
 
__NR_£ndmmsg


	)

255 
	#SYS_£t_mempŞicy
 
__NR_£t_mempŞicy


	)

256 
	#SYS_£t_robu¡_li¡
 
__NR_£t_robu¡_li¡


	)

257 
	#SYS_£t_th»ad_¬—
 
__NR_£t_th»ad_¬—


	)

258 
	#SYS_£t_tid_add»ss
 
__NR_£t_tid_add»ss


	)

259 
	#SYS_£tdomašÇme
 
__NR_£tdomašÇme


	)

260 
	#SYS_£tfsgid
 
__NR_£tfsgid


	)

261 
	#SYS_£tfsgid32
 
__NR_£tfsgid32


	)

262 
	#SYS_£tfsuid
 
__NR_£tfsuid


	)

263 
	#SYS_£tfsuid32
 
__NR_£tfsuid32


	)

264 
	#SYS_£tgid
 
__NR_£tgid


	)

265 
	#SYS_£tgid32
 
__NR_£tgid32


	)

266 
	#SYS_£tgroups
 
__NR_£tgroups


	)

267 
	#SYS_£tgroups32
 
__NR_£tgroups32


	)

268 
	#SYS_£tho¡Çme
 
__NR_£tho¡Çme


	)

269 
	#SYS_£t™im”
 
__NR_£t™im”


	)

270 
	#SYS_£Šs
 
__NR_£Šs


	)

271 
	#SYS_£gid
 
__NR_£gid


	)

272 
	#SYS_£riÜ™y
 
__NR_£riÜ™y


	)

273 
	#SYS_£Œegid
 
__NR_£Œegid


	)

274 
	#SYS_£Œegid32
 
__NR_£Œegid32


	)

275 
	#SYS_£Œesgid
 
__NR_£Œesgid


	)

276 
	#SYS_£Œesgid32
 
__NR_£Œesgid32


	)

277 
	#SYS_£Œesuid
 
__NR_£Œesuid


	)

278 
	#SYS_£Œesuid32
 
__NR_£Œesuid32


	)

279 
	#SYS_£Œeuid
 
__NR_£Œeuid


	)

280 
	#SYS_£Œeuid32
 
__NR_£Œeuid32


	)

281 
	#SYS_£Œlim™
 
__NR_£Œlim™


	)

282 
	#SYS_£tsid
 
__NR_£tsid


	)

283 
	#SYS_£‰imeofday
 
__NR_£‰imeofday


	)

284 
	#SYS_£tuid
 
__NR_£tuid


	)

285 
	#SYS_£tuid32
 
__NR_£tuid32


	)

286 
	#SYS_£tx©Œ
 
__NR_£tx©Œ


	)

287 
	#SYS_sg‘mask
 
__NR_sg‘mask


	)

288 
	#SYS_sigaùiÚ
 
__NR_sigaùiÚ


	)

289 
	#SYS_sig®t¡ack
 
__NR_sig®t¡ack


	)

290 
	#SYS_sigÇl
 
__NR_sigÇl


	)

291 
	#SYS_sigÇlfd
 
__NR_sigÇlfd


	)

292 
	#SYS_sigÇlfd4
 
__NR_sigÇlfd4


	)

293 
	#SYS_sig³ndšg
 
__NR_sig³ndšg


	)

294 
	#SYS_sig´ocmask
 
__NR_sig´ocmask


	)

295 
	#SYS_sig»tuº
 
__NR_sig»tuº


	)

296 
	#SYS_sigsu¥’d
 
__NR_sigsu¥’d


	)

297 
	#SYS_sock‘ÿÎ
 
__NR_sock‘ÿÎ


	)

298 
	#SYS_¥liû
 
__NR_¥liû


	)

299 
	#SYS_s£tmask
 
__NR_s£tmask


	)

300 
	#SYS_¡©
 
__NR_¡©


	)

301 
	#SYS_¡©64
 
__NR_¡©64


	)

302 
	#SYS_¡©fs
 
__NR_¡©fs


	)

303 
	#SYS_¡©fs64
 
__NR_¡©fs64


	)

304 
	#SYS_¡ime
 
__NR_¡ime


	)

305 
	#SYS_¡ty
 
__NR_¡ty


	)

306 
	#SYS_sw­off
 
__NR_sw­off


	)

307 
	#SYS_sw­Ú
 
__NR_sw­Ú


	)

308 
	#SYS_symlšk
 
__NR_symlšk


	)

309 
	#SYS_symlšk©
 
__NR_symlšk©


	)

310 
	#SYS_sync
 
__NR_sync


	)

311 
	#SYS_sync_fe_¿nge
 
__NR_sync_fe_¿nge


	)

312 
	#SYS_syncfs
 
__NR_syncfs


	)

313 
	#SYS_sysfs
 
__NR_sysfs


	)

314 
	#SYS_sysšfo
 
__NR_sysšfo


	)

315 
	#SYS_sy¦og
 
__NR_sy¦og


	)

316 
	#SYS_‹e
 
__NR_‹e


	)

317 
	#SYS_tgkl
 
__NR_tgkl


	)

318 
	#SYS_time
 
__NR_time


	)

319 
	#SYS_tim”_ü—‹
 
__NR_tim”_ü—‹


	)

320 
	#SYS_tim”_d–‘e
 
__NR_tim”_d–‘e


	)

321 
	#SYS_tim”_g‘ov”run
 
__NR_tim”_g‘ov”run


	)

322 
	#SYS_tim”_g‘time
 
__NR_tim”_g‘time


	)

323 
	#SYS_tim”_£‰ime
 
__NR_tim”_£‰ime


	)

324 
	#SYS_tim”fd_ü—‹
 
__NR_tim”fd_ü—‹


	)

325 
	#SYS_tim”fd_g‘time
 
__NR_tim”fd_g‘time


	)

326 
	#SYS_tim”fd_£‰ime
 
__NR_tim”fd_£‰ime


	)

327 
	#SYS_times
 
__NR_times


	)

328 
	#SYS_tkl
 
__NR_tkl


	)

329 
	#SYS_Œunÿ‹
 
__NR_Œunÿ‹


	)

330 
	#SYS_Œunÿ‹64
 
__NR_Œunÿ‹64


	)

331 
	#SYS_ug‘¾im™
 
__NR_ug‘¾im™


	)

332 
	#SYS_ulim™
 
__NR_ulim™


	)

333 
	#SYS_umask
 
__NR_umask


	)

334 
	#SYS_umouÁ
 
__NR_umouÁ


	)

335 
	#SYS_umouÁ2
 
__NR_umouÁ2


	)

336 
	#SYS_uÇme
 
__NR_uÇme


	)

337 
	#SYS_uÆšk
 
__NR_uÆšk


	)

338 
	#SYS_uÆšk©
 
__NR_uÆšk©


	)

339 
	#SYS_unsh¬e
 
__NR_unsh¬e


	)

340 
	#SYS_u£lib
 
__NR_u£lib


	)

341 
	#SYS_u¡©
 
__NR_u¡©


	)

342 
	#SYS_utime
 
__NR_utime


	)

343 
	#SYS_utim’§t
 
__NR_utim’§t


	)

344 
	#SYS_utimes
 
__NR_utimes


	)

345 
	#SYS_vfÜk
 
__NR_vfÜk


	)

346 
	#SYS_vhªgup
 
__NR_vhªgup


	)

347 
	#SYS_vm86
 
__NR_vm86


	)

348 
	#SYS_vm86Şd
 
__NR_vm86Şd


	)

349 
	#SYS_vm¥liû
 
__NR_vm¥liû


	)

350 
	#SYS_v£rv”
 
__NR_v£rv”


	)

351 
	#SYS_wa™4
 
__NR_wa™4


	)

352 
	#SYS_wa™id
 
__NR_wa™id


	)

353 
	#SYS_wa™pid
 
__NR_wa™pid


	)

354 
	#SYS_wr™e
 
__NR_wr™e


	)

355 
	#SYS_wr™ev
 
__NR_wr™ev


	)

357 #ià
defšed
 
__x86_64__
 && defšed 
__LP64__


358 
	#SYS__sysùl
 
__NR__sysùl


	)

359 
	#SYS_acû±
 
__NR_acû±


	)

360 
	#SYS_acû±4
 
__NR_acû±4


	)

361 
	#SYS_acûss
 
__NR_acûss


	)

362 
	#SYS_acù
 
__NR_acù


	)

363 
	#SYS_add_key
 
__NR_add_key


	)

364 
	#SYS_adjtimex
 
__NR_adjtimex


	)

365 
	#SYS_afs_sysÿÎ
 
__NR_afs_sysÿÎ


	)

366 
	#SYS_®¬m
 
__NR_®¬m


	)

367 
	#SYS_¬ch_´ùl
 
__NR_¬ch_´ùl


	)

368 
	#SYS_bšd
 
__NR_bšd


	)

369 
	#SYS_brk
 
__NR_brk


	)

370 
	#SYS_ÿpg‘
 
__NR_ÿpg‘


	)

371 
	#SYS_ÿp£t
 
__NR_ÿp£t


	)

372 
	#SYS_chdœ
 
__NR_chdœ


	)

373 
	#SYS_chmod
 
__NR_chmod


	)

374 
	#SYS_chown
 
__NR_chown


	)

375 
	#SYS_chroÙ
 
__NR_chroÙ


	)

376 
	#SYS_şock_adjtime
 
__NR_şock_adjtime


	)

377 
	#SYS_şock_g‘»s
 
__NR_şock_g‘»s


	)

378 
	#SYS_şock_g‘time
 
__NR_şock_g‘time


	)

379 
	#SYS_şock_Çno¦“p
 
__NR_şock_Çno¦“p


	)

380 
	#SYS_şock_£‰ime
 
__NR_şock_£‰ime


	)

381 
	#SYS_şÚe
 
__NR_şÚe


	)

382 
	#SYS_şo£
 
__NR_şo£


	)

383 
	#SYS_cÚÃù
 
__NR_cÚÃù


	)

384 
	#SYS_ü—t
 
__NR_ü—t


	)

385 
	#SYS_ü—‹_moduË
 
__NR_ü—‹_moduË


	)

386 
	#SYS_d–‘e_moduË
 
__NR_d–‘e_moduË


	)

387 
	#SYS_dup
 
__NR_dup


	)

388 
	#SYS_dup2
 
__NR_dup2


	)

389 
	#SYS_dup3
 
__NR_dup3


	)

390 
	#SYS_•Şl_ü—‹
 
__NR_•Şl_ü—‹


	)

391 
	#SYS_•Şl_ü—‹1
 
__NR_•Şl_ü—‹1


	)

392 
	#SYS_•Şl_ùl
 
__NR_•Şl_ùl


	)

393 
	#SYS_•Şl_ùl_Şd
 
__NR_•Şl_ùl_Şd


	)

394 
	#SYS_•Şl_pwa™
 
__NR_•Şl_pwa™


	)

395 
	#SYS_•Şl_wa™
 
__NR_•Şl_wa™


	)

396 
	#SYS_•Şl_wa™_Şd
 
__NR_•Şl_wa™_Şd


	)

397 
	#SYS_ev’tfd
 
__NR_ev’tfd


	)

398 
	#SYS_ev’tfd2
 
__NR_ev’tfd2


	)

399 
	#SYS_execve
 
__NR_execve


	)

400 
	#SYS_ex™
 
__NR_ex™


	)

401 
	#SYS_ex™_group
 
__NR_ex™_group


	)

402 
	#SYS_çcûs§t
 
__NR_çcûs§t


	)

403 
	#SYS_çdvi£64
 
__NR_çdvi£64


	)

404 
	#SYS_çÎoÿ‹
 
__NR_çÎoÿ‹


	)

405 
	#SYS_çnÙify_š™
 
__NR_çnÙify_š™


	)

406 
	#SYS_çnÙify_m¬k
 
__NR_çnÙify_m¬k


	)

407 
	#SYS_fchdœ
 
__NR_fchdœ


	)

408 
	#SYS_fchmod
 
__NR_fchmod


	)

409 
	#SYS_fchmod©
 
__NR_fchmod©


	)

410 
	#SYS_fchown
 
__NR_fchown


	)

411 
	#SYS_fchowÇt
 
__NR_fchowÇt


	)

412 
	#SYS_fú
 
__NR_fú


	)

413 
	#SYS_fd©async
 
__NR_fd©async


	)

414 
	#SYS_fg‘x©Œ
 
__NR_fg‘x©Œ


	)

415 
	#SYS_fš™_moduË
 
__NR_fš™_moduË


	)

416 
	#SYS_æi¡x©Œ
 
__NR_æi¡x©Œ


	)

417 
	#SYS_æock
 
__NR_æock


	)

418 
	#SYS_fÜk
 
__NR_fÜk


	)

419 
	#SYS_äemovex©Œ
 
__NR_äemovex©Œ


	)

420 
	#SYS_f£tx©Œ
 
__NR_f£tx©Œ


	)

421 
	#SYS_f¡©
 
__NR_f¡©


	)

422 
	#SYS_f¡©fs
 
__NR_f¡©fs


	)

423 
	#SYS_fsync
 
__NR_fsync


	)

424 
	#SYS_árunÿ‹
 
__NR_árunÿ‹


	)

425 
	#SYS_fu‹x
 
__NR_fu‹x


	)

426 
	#SYS_futime§t
 
__NR_futime§t


	)

427 
	#SYS_g‘_k”Ãl_syms
 
__NR_g‘_k”Ãl_syms


	)

428 
	#SYS_g‘_mempŞicy
 
__NR_g‘_mempŞicy


	)

429 
	#SYS_g‘_robu¡_li¡
 
__NR_g‘_robu¡_li¡


	)

430 
	#SYS_g‘_th»ad_¬—
 
__NR_g‘_th»ad_¬—


	)

431 
	#SYS_g‘ıu
 
__NR_g‘ıu


	)

432 
	#SYS_g‘cwd
 
__NR_g‘cwd


	)

433 
	#SYS_g‘d’ts
 
__NR_g‘d’ts


	)

434 
	#SYS_g‘d’ts64
 
__NR_g‘d’ts64


	)

435 
	#SYS_g‘egid
 
__NR_g‘egid


	)

436 
	#SYS_g‘euid
 
__NR_g‘euid


	)

437 
	#SYS_g‘gid
 
__NR_g‘gid


	)

438 
	#SYS_g‘groups
 
__NR_g‘groups


	)

439 
	#SYS_g‘™im”
 
__NR_g‘™im”


	)

440 
	#SYS_g‘³”Çme
 
__NR_g‘³”Çme


	)

441 
	#SYS_g‘pgid
 
__NR_g‘pgid


	)

442 
	#SYS_g‘pg½
 
__NR_g‘pg½


	)

443 
	#SYS_g‘pid
 
__NR_g‘pid


	)

444 
	#SYS_g‘pmsg
 
__NR_g‘pmsg


	)

445 
	#SYS_g‘µid
 
__NR_g‘µid


	)

446 
	#SYS_g‘´iÜ™y
 
__NR_g‘´iÜ™y


	)

447 
	#SYS_g‘»sgid
 
__NR_g‘»sgid


	)

448 
	#SYS_g‘»suid
 
__NR_g‘»suid


	)

449 
	#SYS_g‘¾im™
 
__NR_g‘¾im™


	)

450 
	#SYS_g‘ru§ge
 
__NR_g‘ru§ge


	)

451 
	#SYS_g‘sid
 
__NR_g‘sid


	)

452 
	#SYS_g‘sockÇme
 
__NR_g‘sockÇme


	)

453 
	#SYS_g‘sockİt
 
__NR_g‘sockİt


	)

454 
	#SYS_g‘tid
 
__NR_g‘tid


	)

455 
	#SYS_g‘timeofday
 
__NR_g‘timeofday


	)

456 
	#SYS_g‘uid
 
__NR_g‘uid


	)

457 
	#SYS_g‘x©Œ
 
__NR_g‘x©Œ


	)

458 
	#SYS_š™_moduË
 
__NR_š™_moduË


	)

459 
	#SYS_šÙify_add_w©ch
 
__NR_šÙify_add_w©ch


	)

460 
	#SYS_šÙify_š™
 
__NR_šÙify_š™


	)

461 
	#SYS_šÙify_š™1
 
__NR_šÙify_š™1


	)

462 
	#SYS_šÙify_rm_w©ch
 
__NR_šÙify_rm_w©ch


	)

463 
	#SYS_io_ÿnûl
 
__NR_io_ÿnûl


	)

464 
	#SYS_io_de¡roy
 
__NR_io_de¡roy


	)

465 
	#SYS_io_g‘ev’ts
 
__NR_io_g‘ev’ts


	)

466 
	#SYS_io_£tup
 
__NR_io_£tup


	)

467 
	#SYS_io_subm™
 
__NR_io_subm™


	)

468 
	#SYS_ioùl
 
__NR_ioùl


	)

469 
	#SYS_iİ”m
 
__NR_iİ”m


	)

470 
	#SYS_iİl
 
__NR_iİl


	)

471 
	#SYS_iİrio_g‘
 
__NR_iİrio_g‘


	)

472 
	#SYS_iİrio_£t
 
__NR_iİrio_£t


	)

473 
	#SYS_kcmp
 
__NR_kcmp


	)

474 
	#SYS_kexec_lßd
 
__NR_kexec_lßd


	)

475 
	#SYS_keyùl
 
__NR_keyùl


	)

476 
	#SYS_kl
 
__NR_kl


	)

477 
	#SYS_lchown
 
__NR_lchown


	)

478 
	#SYS_lg‘x©Œ
 
__NR_lg‘x©Œ


	)

479 
	#SYS_lšk
 
__NR_lšk


	)

480 
	#SYS_lšk©
 
__NR_lšk©


	)

481 
	#SYS_li¡’
 
__NR_li¡’


	)

482 
	#SYS_li¡x©Œ
 
__NR_li¡x©Œ


	)

483 
	#SYS_Îi¡x©Œ
 
__NR_Îi¡x©Œ


	)

484 
	#SYS_lookup_dcook›
 
__NR_lookup_dcook›


	)

485 
	#SYS_Ìemovex©Œ
 
__NR_Ìemovex©Œ


	)

486 
	#SYS_l£ek
 
__NR_l£ek


	)

487 
	#SYS_l£tx©Œ
 
__NR_l£tx©Œ


	)

488 
	#SYS_l¡©
 
__NR_l¡©


	)

489 
	#SYS_madvi£
 
__NR_madvi£


	)

490 
	#SYS_mbšd
 
__NR_mbšd


	)

491 
	#SYS_mig¿‹_·ges
 
__NR_mig¿‹_·ges


	)

492 
	#SYS_mšcÜe
 
__NR_mšcÜe


	)

493 
	#SYS_mkdœ
 
__NR_mkdœ


	)

494 
	#SYS_mkdœ©
 
__NR_mkdœ©


	)

495 
	#SYS_mknod
 
__NR_mknod


	)

496 
	#SYS_mknod©
 
__NR_mknod©


	)

497 
	#SYS_mlock
 
__NR_mlock


	)

498 
	#SYS_mlock®l
 
__NR_mlock®l


	)

499 
	#SYS_mm­
 
__NR_mm­


	)

500 
	#SYS_modify_ldt
 
__NR_modify_ldt


	)

501 
	#SYS_mouÁ
 
__NR_mouÁ


	)

502 
	#SYS_move_·ges
 
__NR_move_·ges


	)

503 
	#SYS_m´Ùeù
 
__NR_m´Ùeù


	)

504 
	#SYS_mq_g‘£‰r
 
__NR_mq_g‘£‰r


	)

505 
	#SYS_mq_nÙify
 
__NR_mq_nÙify


	)

506 
	#SYS_mq_İ’
 
__NR_mq_İ’


	)

507 
	#SYS_mq_timed»ûive
 
__NR_mq_timed»ûive


	)

508 
	#SYS_mq_timed£nd
 
__NR_mq_timed£nd


	)

509 
	#SYS_mq_uÆšk
 
__NR_mq_uÆšk


	)

510 
	#SYS_m»m­
 
__NR_m»m­


	)

511 
	#SYS_msgùl
 
__NR_msgùl


	)

512 
	#SYS_msgg‘
 
__NR_msgg‘


	)

513 
	#SYS_msgrcv
 
__NR_msgrcv


	)

514 
	#SYS_msg¢d
 
__NR_msg¢d


	)

515 
	#SYS_msync
 
__NR_msync


	)

516 
	#SYS_muÆock
 
__NR_muÆock


	)

517 
	#SYS_muÆock®l
 
__NR_muÆock®l


	)

518 
	#SYS_munm­
 
__NR_munm­


	)

519 
	#SYS_Çme_to_hªdË_©
 
__NR_Çme_to_hªdË_©


	)

520 
	#SYS_Çno¦“p
 
__NR_Çno¦“p


	)

521 
	#SYS_Ãwf¡©©
 
__NR_Ãwf¡©©


	)

522 
	#SYS_nfs£rvùl
 
__NR_nfs£rvùl


	)

523 
	#SYS_İ’
 
__NR_İ’


	)

524 
	#SYS_İ’_by_hªdË_©
 
__NR_İ’_by_hªdË_©


	)

525 
	#SYS_İ’©
 
__NR_İ’©


	)

526 
	#SYS_·u£
 
__NR_·u£


	)

527 
	#SYS_³rf_ev’t_İ’
 
__NR_³rf_ev’t_İ’


	)

528 
	#SYS_³rsÚ®™y
 
__NR_³rsÚ®™y


	)

529 
	#SYS_pe
 
__NR_pe


	)

530 
	#SYS_pe2
 
__NR_pe2


	)

531 
	#SYS_pivÙ_roÙ
 
__NR_pivÙ_roÙ


	)

532 
	#SYS_pŞl
 
__NR_pŞl


	)

533 
	#SYS_µŞl
 
__NR_µŞl


	)

534 
	#SYS_´ùl
 
__NR_´ùl


	)

535 
	#SYS_´—d64
 
__NR_´—d64


	)

536 
	#SYS_´—dv
 
__NR_´—dv


	)

537 
	#SYS_´lim™64
 
__NR_´lim™64


	)

538 
	#SYS_´oûss_vm_»adv
 
__NR_´oûss_vm_»adv


	)

539 
	#SYS_´oûss_vm_wr™ev
 
__NR_´oûss_vm_wr™ev


	)

540 
	#SYS_p£Ëù6
 
__NR_p£Ëù6


	)

541 
	#SYS_±¿û
 
__NR_±¿û


	)

542 
	#SYS_pumsg
 
__NR_pumsg


	)

543 
	#SYS_pwr™e64
 
__NR_pwr™e64


	)

544 
	#SYS_pwr™ev
 
__NR_pwr™ev


	)

545 
	#SYS_qu”y_moduË
 
__NR_qu”y_moduË


	)

546 
	#SYS_quÙaùl
 
__NR_quÙaùl


	)

547 
	#SYS_»ad
 
__NR_»ad


	)

548 
	#SYS_»adah—d
 
__NR_»adah—d


	)

549 
	#SYS_»adlšk
 
__NR_»adlšk


	)

550 
	#SYS_»adlšk©
 
__NR_»adlšk©


	)

551 
	#SYS_»adv
 
__NR_»adv


	)

552 
	#SYS_»boÙ
 
__NR_»boÙ


	)

553 
	#SYS_»cväom
 
__NR_»cväom


	)

554 
	#SYS_»cvmmsg
 
__NR_»cvmmsg


	)

555 
	#SYS_»cvmsg
 
__NR_»cvmsg


	)

556 
	#SYS_»m­_fe_·ges
 
__NR_»m­_fe_·ges


	)

557 
	#SYS_»movex©Œ
 
__NR_»movex©Œ


	)

558 
	#SYS_»Çme
 
__NR_»Çme


	)

559 
	#SYS_»Çm—t
 
__NR_»Çm—t


	)

560 
	#SYS_»que¡_key
 
__NR_»que¡_key


	)

561 
	#SYS_»¡¬t_sysÿÎ
 
__NR_»¡¬t_sysÿÎ


	)

562 
	#SYS_rmdœ
 
__NR_rmdœ


	)

563 
	#SYS_¹_sigaùiÚ
 
__NR_¹_sigaùiÚ


	)

564 
	#SYS_¹_sig³ndšg
 
__NR_¹_sig³ndšg


	)

565 
	#SYS_¹_sig´ocmask
 
__NR_¹_sig´ocmask


	)

566 
	#SYS_¹_sigqueuešfo
 
__NR_¹_sigqueuešfo


	)

567 
	#SYS_¹_sig»tuº
 
__NR_¹_sig»tuº


	)

568 
	#SYS_¹_sigsu¥’d
 
__NR_¹_sigsu¥’d


	)

569 
	#SYS_¹_sigtimedwa™
 
__NR_¹_sigtimedwa™


	)

570 
	#SYS_¹_tgsigqueuešfo
 
__NR_¹_tgsigqueuešfo


	)

571 
	#SYS_sched_g‘_´iÜ™y_max
 
__NR_sched_g‘_´iÜ™y_max


	)

572 
	#SYS_sched_g‘_´iÜ™y_mš
 
__NR_sched_g‘_´iÜ™y_mš


	)

573 
	#SYS_sched_g‘affš™y
 
__NR_sched_g‘affš™y


	)

574 
	#SYS_sched_g‘·¿m
 
__NR_sched_g‘·¿m


	)

575 
	#SYS_sched_g‘scheduËr
 
__NR_sched_g‘scheduËr


	)

576 
	#SYS_sched_¼_g‘_š‹rv®
 
__NR_sched_¼_g‘_š‹rv®


	)

577 
	#SYS_sched_£ffš™y
 
__NR_sched_£ffš™y


	)

578 
	#SYS_sched_£¬am
 
__NR_sched_£¬am


	)

579 
	#SYS_sched_£tscheduËr
 
__NR_sched_£tscheduËr


	)

580 
	#SYS_sched_y›ld
 
__NR_sched_y›ld


	)

581 
	#SYS_£cur™y
 
__NR_£cur™y


	)

582 
	#SYS_£Ëù
 
__NR_£Ëù


	)

583 
	#SYS_£mùl
 
__NR_£mùl


	)

584 
	#SYS_£mg‘
 
__NR_£mg‘


	)

585 
	#SYS_£mİ
 
__NR_£mİ


	)

586 
	#SYS_£mtimedİ
 
__NR_£mtimedİ


	)

587 
	#SYS_£ndfe
 
__NR_£ndfe


	)

588 
	#SYS_£ndmmsg
 
__NR_£ndmmsg


	)

589 
	#SYS_£ndmsg
 
__NR_£ndmsg


	)

590 
	#SYS_£ndto
 
__NR_£ndto


	)

591 
	#SYS_£t_mempŞicy
 
__NR_£t_mempŞicy


	)

592 
	#SYS_£t_robu¡_li¡
 
__NR_£t_robu¡_li¡


	)

593 
	#SYS_£t_th»ad_¬—
 
__NR_£t_th»ad_¬—


	)

594 
	#SYS_£t_tid_add»ss
 
__NR_£t_tid_add»ss


	)

595 
	#SYS_£tdomašÇme
 
__NR_£tdomašÇme


	)

596 
	#SYS_£tfsgid
 
__NR_£tfsgid


	)

597 
	#SYS_£tfsuid
 
__NR_£tfsuid


	)

598 
	#SYS_£tgid
 
__NR_£tgid


	)

599 
	#SYS_£tgroups
 
__NR_£tgroups


	)

600 
	#SYS_£tho¡Çme
 
__NR_£tho¡Çme


	)

601 
	#SYS_£t™im”
 
__NR_£t™im”


	)

602 
	#SYS_£Šs
 
__NR_£Šs


	)

603 
	#SYS_£gid
 
__NR_£gid


	)

604 
	#SYS_£riÜ™y
 
__NR_£riÜ™y


	)

605 
	#SYS_£Œegid
 
__NR_£Œegid


	)

606 
	#SYS_£Œesgid
 
__NR_£Œesgid


	)

607 
	#SYS_£Œesuid
 
__NR_£Œesuid


	)

608 
	#SYS_£Œeuid
 
__NR_£Œeuid


	)

609 
	#SYS_£Œlim™
 
__NR_£Œlim™


	)

610 
	#SYS_£tsid
 
__NR_£tsid


	)

611 
	#SYS_£tsockİt
 
__NR_£tsockİt


	)

612 
	#SYS_£‰imeofday
 
__NR_£‰imeofday


	)

613 
	#SYS_£tuid
 
__NR_£tuid


	)

614 
	#SYS_£tx©Œ
 
__NR_£tx©Œ


	)

615 
	#SYS_shm©
 
__NR_shm©


	)

616 
	#SYS_shmùl
 
__NR_shmùl


	)

617 
	#SYS_shmdt
 
__NR_shmdt


	)

618 
	#SYS_shmg‘
 
__NR_shmg‘


	)

619 
	#SYS_shutdown
 
__NR_shutdown


	)

620 
	#SYS_sig®t¡ack
 
__NR_sig®t¡ack


	)

621 
	#SYS_sigÇlfd
 
__NR_sigÇlfd


	)

622 
	#SYS_sigÇlfd4
 
__NR_sigÇlfd4


	)

623 
	#SYS_sock‘
 
__NR_sock‘


	)

624 
	#SYS_sock‘·œ
 
__NR_sock‘·œ


	)

625 
	#SYS_¥liû
 
__NR_¥liû


	)

626 
	#SYS_¡©
 
__NR_¡©


	)

627 
	#SYS_¡©fs
 
__NR_¡©fs


	)

628 
	#SYS_sw­off
 
__NR_sw­off


	)

629 
	#SYS_sw­Ú
 
__NR_sw­Ú


	)

630 
	#SYS_symlšk
 
__NR_symlšk


	)

631 
	#SYS_symlšk©
 
__NR_symlšk©


	)

632 
	#SYS_sync
 
__NR_sync


	)

633 
	#SYS_sync_fe_¿nge
 
__NR_sync_fe_¿nge


	)

634 
	#SYS_syncfs
 
__NR_syncfs


	)

635 
	#SYS_sysfs
 
__NR_sysfs


	)

636 
	#SYS_sysšfo
 
__NR_sysšfo


	)

637 
	#SYS_sy¦og
 
__NR_sy¦og


	)

638 
	#SYS_‹e
 
__NR_‹e


	)

639 
	#SYS_tgkl
 
__NR_tgkl


	)

640 
	#SYS_time
 
__NR_time


	)

641 
	#SYS_tim”_ü—‹
 
__NR_tim”_ü—‹


	)

642 
	#SYS_tim”_d–‘e
 
__NR_tim”_d–‘e


	)

643 
	#SYS_tim”_g‘ov”run
 
__NR_tim”_g‘ov”run


	)

644 
	#SYS_tim”_g‘time
 
__NR_tim”_g‘time


	)

645 
	#SYS_tim”_£‰ime
 
__NR_tim”_£‰ime


	)

646 
	#SYS_tim”fd_ü—‹
 
__NR_tim”fd_ü—‹


	)

647 
	#SYS_tim”fd_g‘time
 
__NR_tim”fd_g‘time


	)

648 
	#SYS_tim”fd_£‰ime
 
__NR_tim”fd_£‰ime


	)

649 
	#SYS_times
 
__NR_times


	)

650 
	#SYS_tkl
 
__NR_tkl


	)

651 
	#SYS_Œunÿ‹
 
__NR_Œunÿ‹


	)

652 
	#SYS_tuxÿÎ
 
__NR_tuxÿÎ


	)

653 
	#SYS_umask
 
__NR_umask


	)

654 
	#SYS_umouÁ2
 
__NR_umouÁ2


	)

655 
	#SYS_uÇme
 
__NR_uÇme


	)

656 
	#SYS_uÆšk
 
__NR_uÆšk


	)

657 
	#SYS_uÆšk©
 
__NR_uÆšk©


	)

658 
	#SYS_unsh¬e
 
__NR_unsh¬e


	)

659 
	#SYS_u£lib
 
__NR_u£lib


	)

660 
	#SYS_u¡©
 
__NR_u¡©


	)

661 
	#SYS_utime
 
__NR_utime


	)

662 
	#SYS_utim’§t
 
__NR_utim’§t


	)

663 
	#SYS_utimes
 
__NR_utimes


	)

664 
	#SYS_vfÜk
 
__NR_vfÜk


	)

665 
	#SYS_vhªgup
 
__NR_vhªgup


	)

666 
	#SYS_vm¥liû
 
__NR_vm¥liû


	)

667 
	#SYS_v£rv”
 
__NR_v£rv”


	)

668 
	#SYS_wa™4
 
__NR_wa™4


	)

669 
	#SYS_wa™id
 
__NR_wa™id


	)

670 
	#SYS_wr™e
 
__NR_wr™e


	)

671 
	#SYS_wr™ev
 
__NR_wr™ev


	)

673 #ià
defšed
 
__x86_64__
 && defšed 
__ILP32__


674 
	#SYS_acû±
 
__NR_acû±


	)

675 
	#SYS_acû±4
 
__NR_acû±4


	)

676 
	#SYS_acûss
 
__NR_acûss


	)

677 
	#SYS_acù
 
__NR_acù


	)

678 
	#SYS_add_key
 
__NR_add_key


	)

679 
	#SYS_adjtimex
 
__NR_adjtimex


	)

680 
	#SYS_afs_sysÿÎ
 
__NR_afs_sysÿÎ


	)

681 
	#SYS_®¬m
 
__NR_®¬m


	)

682 
	#SYS_¬ch_´ùl
 
__NR_¬ch_´ùl


	)

683 
	#SYS_bšd
 
__NR_bšd


	)

684 
	#SYS_brk
 
__NR_brk


	)

685 
	#SYS_ÿpg‘
 
__NR_ÿpg‘


	)

686 
	#SYS_ÿp£t
 
__NR_ÿp£t


	)

687 
	#SYS_chdœ
 
__NR_chdœ


	)

688 
	#SYS_chmod
 
__NR_chmod


	)

689 
	#SYS_chown
 
__NR_chown


	)

690 
	#SYS_chroÙ
 
__NR_chroÙ


	)

691 
	#SYS_şock_adjtime
 
__NR_şock_adjtime


	)

692 
	#SYS_şock_g‘»s
 
__NR_şock_g‘»s


	)

693 
	#SYS_şock_g‘time
 
__NR_şock_g‘time


	)

694 
	#SYS_şock_Çno¦“p
 
__NR_şock_Çno¦“p


	)

695 
	#SYS_şock_£‰ime
 
__NR_şock_£‰ime


	)

696 
	#SYS_şÚe
 
__NR_şÚe


	)

697 
	#SYS_şo£
 
__NR_şo£


	)

698 
	#SYS_cÚÃù
 
__NR_cÚÃù


	)

699 
	#SYS_ü—t
 
__NR_ü—t


	)

700 
	#SYS_d–‘e_moduË
 
__NR_d–‘e_moduË


	)

701 
	#SYS_dup
 
__NR_dup


	)

702 
	#SYS_dup2
 
__NR_dup2


	)

703 
	#SYS_dup3
 
__NR_dup3


	)

704 
	#SYS_•Şl_ü—‹
 
__NR_•Şl_ü—‹


	)

705 
	#SYS_•Şl_ü—‹1
 
__NR_•Şl_ü—‹1


	)

706 
	#SYS_•Şl_ùl
 
__NR_•Şl_ùl


	)

707 
	#SYS_•Şl_pwa™
 
__NR_•Şl_pwa™


	)

708 
	#SYS_•Şl_wa™
 
__NR_•Şl_wa™


	)

709 
	#SYS_ev’tfd
 
__NR_ev’tfd


	)

710 
	#SYS_ev’tfd2
 
__NR_ev’tfd2


	)

711 
	#SYS_execve
 
__NR_execve


	)

712 
	#SYS_ex™
 
__NR_ex™


	)

713 
	#SYS_ex™_group
 
__NR_ex™_group


	)

714 
	#SYS_çcûs§t
 
__NR_çcûs§t


	)

715 
	#SYS_çdvi£64
 
__NR_çdvi£64


	)

716 
	#SYS_çÎoÿ‹
 
__NR_çÎoÿ‹


	)

717 
	#SYS_çnÙify_š™
 
__NR_çnÙify_š™


	)

718 
	#SYS_çnÙify_m¬k
 
__NR_çnÙify_m¬k


	)

719 
	#SYS_fchdœ
 
__NR_fchdœ


	)

720 
	#SYS_fchmod
 
__NR_fchmod


	)

721 
	#SYS_fchmod©
 
__NR_fchmod©


	)

722 
	#SYS_fchown
 
__NR_fchown


	)

723 
	#SYS_fchowÇt
 
__NR_fchowÇt


	)

724 
	#SYS_fú
 
__NR_fú


	)

725 
	#SYS_fd©async
 
__NR_fd©async


	)

726 
	#SYS_fg‘x©Œ
 
__NR_fg‘x©Œ


	)

727 
	#SYS_fš™_moduË
 
__NR_fš™_moduË


	)

728 
	#SYS_æi¡x©Œ
 
__NR_æi¡x©Œ


	)

729 
	#SYS_æock
 
__NR_æock


	)

730 
	#SYS_fÜk
 
__NR_fÜk


	)

731 
	#SYS_äemovex©Œ
 
__NR_äemovex©Œ


	)

732 
	#SYS_f£tx©Œ
 
__NR_f£tx©Œ


	)

733 
	#SYS_f¡©
 
__NR_f¡©


	)

734 
	#SYS_f¡©fs
 
__NR_f¡©fs


	)

735 
	#SYS_fsync
 
__NR_fsync


	)

736 
	#SYS_árunÿ‹
 
__NR_árunÿ‹


	)

737 
	#SYS_fu‹x
 
__NR_fu‹x


	)

738 
	#SYS_futime§t
 
__NR_futime§t


	)

739 
	#SYS_g‘_mempŞicy
 
__NR_g‘_mempŞicy


	)

740 
	#SYS_g‘_robu¡_li¡
 
__NR_g‘_robu¡_li¡


	)

741 
	#SYS_g‘ıu
 
__NR_g‘ıu


	)

742 
	#SYS_g‘cwd
 
__NR_g‘cwd


	)

743 
	#SYS_g‘d’ts
 
__NR_g‘d’ts


	)

744 
	#SYS_g‘d’ts64
 
__NR_g‘d’ts64


	)

745 
	#SYS_g‘egid
 
__NR_g‘egid


	)

746 
	#SYS_g‘euid
 
__NR_g‘euid


	)

747 
	#SYS_g‘gid
 
__NR_g‘gid


	)

748 
	#SYS_g‘groups
 
__NR_g‘groups


	)

749 
	#SYS_g‘™im”
 
__NR_g‘™im”


	)

750 
	#SYS_g‘³”Çme
 
__NR_g‘³”Çme


	)

751 
	#SYS_g‘pgid
 
__NR_g‘pgid


	)

752 
	#SYS_g‘pg½
 
__NR_g‘pg½


	)

753 
	#SYS_g‘pid
 
__NR_g‘pid


	)

754 
	#SYS_g‘pmsg
 
__NR_g‘pmsg


	)

755 
	#SYS_g‘µid
 
__NR_g‘µid


	)

756 
	#SYS_g‘´iÜ™y
 
__NR_g‘´iÜ™y


	)

757 
	#SYS_g‘»sgid
 
__NR_g‘»sgid


	)

758 
	#SYS_g‘»suid
 
__NR_g‘»suid


	)

759 
	#SYS_g‘¾im™
 
__NR_g‘¾im™


	)

760 
	#SYS_g‘ru§ge
 
__NR_g‘ru§ge


	)

761 
	#SYS_g‘sid
 
__NR_g‘sid


	)

762 
	#SYS_g‘sockÇme
 
__NR_g‘sockÇme


	)

763 
	#SYS_g‘sockİt
 
__NR_g‘sockİt


	)

764 
	#SYS_g‘tid
 
__NR_g‘tid


	)

765 
	#SYS_g‘timeofday
 
__NR_g‘timeofday


	)

766 
	#SYS_g‘uid
 
__NR_g‘uid


	)

767 
	#SYS_g‘x©Œ
 
__NR_g‘x©Œ


	)

768 
	#SYS_š™_moduË
 
__NR_š™_moduË


	)

769 
	#SYS_šÙify_add_w©ch
 
__NR_šÙify_add_w©ch


	)

770 
	#SYS_šÙify_š™
 
__NR_šÙify_š™


	)

771 
	#SYS_šÙify_š™1
 
__NR_šÙify_š™1


	)

772 
	#SYS_šÙify_rm_w©ch
 
__NR_šÙify_rm_w©ch


	)

773 
	#SYS_io_ÿnûl
 
__NR_io_ÿnûl


	)

774 
	#SYS_io_de¡roy
 
__NR_io_de¡roy


	)

775 
	#SYS_io_g‘ev’ts
 
__NR_io_g‘ev’ts


	)

776 
	#SYS_io_£tup
 
__NR_io_£tup


	)

777 
	#SYS_io_subm™
 
__NR_io_subm™


	)

778 
	#SYS_ioùl
 
__NR_ioùl


	)

779 
	#SYS_iİ”m
 
__NR_iİ”m


	)

780 
	#SYS_iİl
 
__NR_iİl


	)

781 
	#SYS_iİrio_g‘
 
__NR_iİrio_g‘


	)

782 
	#SYS_iİrio_£t
 
__NR_iİrio_£t


	)

783 
	#SYS_kcmp
 
__NR_kcmp


	)

784 
	#SYS_kexec_lßd
 
__NR_kexec_lßd


	)

785 
	#SYS_keyùl
 
__NR_keyùl


	)

786 
	#SYS_kl
 
__NR_kl


	)

787 
	#SYS_lchown
 
__NR_lchown


	)

788 
	#SYS_lg‘x©Œ
 
__NR_lg‘x©Œ


	)

789 
	#SYS_lšk
 
__NR_lšk


	)

790 
	#SYS_lšk©
 
__NR_lšk©


	)

791 
	#SYS_li¡’
 
__NR_li¡’


	)

792 
	#SYS_li¡x©Œ
 
__NR_li¡x©Œ


	)

793 
	#SYS_Îi¡x©Œ
 
__NR_Îi¡x©Œ


	)

794 
	#SYS_lookup_dcook›
 
__NR_lookup_dcook›


	)

795 
	#SYS_Ìemovex©Œ
 
__NR_Ìemovex©Œ


	)

796 
	#SYS_l£ek
 
__NR_l£ek


	)

797 
	#SYS_l£tx©Œ
 
__NR_l£tx©Œ


	)

798 
	#SYS_l¡©
 
__NR_l¡©


	)

799 
	#SYS_madvi£
 
__NR_madvi£


	)

800 
	#SYS_mbšd
 
__NR_mbšd


	)

801 
	#SYS_mig¿‹_·ges
 
__NR_mig¿‹_·ges


	)

802 
	#SYS_mšcÜe
 
__NR_mšcÜe


	)

803 
	#SYS_mkdœ
 
__NR_mkdœ


	)

804 
	#SYS_mkdœ©
 
__NR_mkdœ©


	)

805 
	#SYS_mknod
 
__NR_mknod


	)

806 
	#SYS_mknod©
 
__NR_mknod©


	)

807 
	#SYS_mlock
 
__NR_mlock


	)

808 
	#SYS_mlock®l
 
__NR_mlock®l


	)

809 
	#SYS_mm­
 
__NR_mm­


	)

810 
	#SYS_modify_ldt
 
__NR_modify_ldt


	)

811 
	#SYS_mouÁ
 
__NR_mouÁ


	)

812 
	#SYS_move_·ges
 
__NR_move_·ges


	)

813 
	#SYS_m´Ùeù
 
__NR_m´Ùeù


	)

814 
	#SYS_mq_g‘£‰r
 
__NR_mq_g‘£‰r


	)

815 
	#SYS_mq_nÙify
 
__NR_mq_nÙify


	)

816 
	#SYS_mq_İ’
 
__NR_mq_İ’


	)

817 
	#SYS_mq_timed»ûive
 
__NR_mq_timed»ûive


	)

818 
	#SYS_mq_timed£nd
 
__NR_mq_timed£nd


	)

819 
	#SYS_mq_uÆšk
 
__NR_mq_uÆšk


	)

820 
	#SYS_m»m­
 
__NR_m»m­


	)

821 
	#SYS_msgùl
 
__NR_msgùl


	)

822 
	#SYS_msgg‘
 
__NR_msgg‘


	)

823 
	#SYS_msgrcv
 
__NR_msgrcv


	)

824 
	#SYS_msg¢d
 
__NR_msg¢d


	)

825 
	#SYS_msync
 
__NR_msync


	)

826 
	#SYS_muÆock
 
__NR_muÆock


	)

827 
	#SYS_muÆock®l
 
__NR_muÆock®l


	)

828 
	#SYS_munm­
 
__NR_munm­


	)

829 
	#SYS_Çme_to_hªdË_©
 
__NR_Çme_to_hªdË_©


	)

830 
	#SYS_Çno¦“p
 
__NR_Çno¦“p


	)

831 
	#SYS_Ãwf¡©©
 
__NR_Ãwf¡©©


	)

832 
	#SYS_İ’
 
__NR_İ’


	)

833 
	#SYS_İ’_by_hªdË_©
 
__NR_İ’_by_hªdË_©


	)

834 
	#SYS_İ’©
 
__NR_İ’©


	)

835 
	#SYS_·u£
 
__NR_·u£


	)

836 
	#SYS_³rf_ev’t_İ’
 
__NR_³rf_ev’t_İ’


	)

837 
	#SYS_³rsÚ®™y
 
__NR_³rsÚ®™y


	)

838 
	#SYS_pe
 
__NR_pe


	)

839 
	#SYS_pe2
 
__NR_pe2


	)

840 
	#SYS_pivÙ_roÙ
 
__NR_pivÙ_roÙ


	)

841 
	#SYS_pŞl
 
__NR_pŞl


	)

842 
	#SYS_µŞl
 
__NR_µŞl


	)

843 
	#SYS_´ùl
 
__NR_´ùl


	)

844 
	#SYS_´—d64
 
__NR_´—d64


	)

845 
	#SYS_´—dv
 
__NR_´—dv


	)

846 
	#SYS_´lim™64
 
__NR_´lim™64


	)

847 
	#SYS_´oûss_vm_»adv
 
__NR_´oûss_vm_»adv


	)

848 
	#SYS_´oûss_vm_wr™ev
 
__NR_´oûss_vm_wr™ev


	)

849 
	#SYS_p£Ëù6
 
__NR_p£Ëù6


	)

850 
	#SYS_±¿û
 
__NR_±¿û


	)

851 
	#SYS_pumsg
 
__NR_pumsg


	)

852 
	#SYS_pwr™e64
 
__NR_pwr™e64


	)

853 
	#SYS_pwr™ev
 
__NR_pwr™ev


	)

854 
	#SYS_quÙaùl
 
__NR_quÙaùl


	)

855 
	#SYS_»ad
 
__NR_»ad


	)

856 
	#SYS_»adah—d
 
__NR_»adah—d


	)

857 
	#SYS_»adlšk
 
__NR_»adlšk


	)

858 
	#SYS_»adlšk©
 
__NR_»adlšk©


	)

859 
	#SYS_»adv
 
__NR_»adv


	)

860 
	#SYS_»boÙ
 
__NR_»boÙ


	)

861 
	#SYS_»cväom
 
__NR_»cväom


	)

862 
	#SYS_»cvmmsg
 
__NR_»cvmmsg


	)

863 
	#SYS_»cvmsg
 
__NR_»cvmsg


	)

864 
	#SYS_»m­_fe_·ges
 
__NR_»m­_fe_·ges


	)

865 
	#SYS_»movex©Œ
 
__NR_»movex©Œ


	)

866 
	#SYS_»Çme
 
__NR_»Çme


	)

867 
	#SYS_»Çm—t
 
__NR_»Çm—t


	)

868 
	#SYS_»que¡_key
 
__NR_»que¡_key


	)

869 
	#SYS_»¡¬t_sysÿÎ
 
__NR_»¡¬t_sysÿÎ


	)

870 
	#SYS_rmdœ
 
__NR_rmdœ


	)

871 
	#SYS_¹_sigaùiÚ
 
__NR_¹_sigaùiÚ


	)

872 
	#SYS_¹_sig³ndšg
 
__NR_¹_sig³ndšg


	)

873 
	#SYS_¹_sig´ocmask
 
__NR_¹_sig´ocmask


	)

874 
	#SYS_¹_sigqueuešfo
 
__NR_¹_sigqueuešfo


	)

875 
	#SYS_¹_sig»tuº
 
__NR_¹_sig»tuº


	)

876 
	#SYS_¹_sigsu¥’d
 
__NR_¹_sigsu¥’d


	)

877 
	#SYS_¹_sigtimedwa™
 
__NR_¹_sigtimedwa™


	)

878 
	#SYS_¹_tgsigqueuešfo
 
__NR_¹_tgsigqueuešfo


	)

879 
	#SYS_sched_g‘_´iÜ™y_max
 
__NR_sched_g‘_´iÜ™y_max


	)

880 
	#SYS_sched_g‘_´iÜ™y_mš
 
__NR_sched_g‘_´iÜ™y_mš


	)

881 
	#SYS_sched_g‘affš™y
 
__NR_sched_g‘affš™y


	)

882 
	#SYS_sched_g‘·¿m
 
__NR_sched_g‘·¿m


	)

883 
	#SYS_sched_g‘scheduËr
 
__NR_sched_g‘scheduËr


	)

884 
	#SYS_sched_¼_g‘_š‹rv®
 
__NR_sched_¼_g‘_š‹rv®


	)

885 
	#SYS_sched_£ffš™y
 
__NR_sched_£ffš™y


	)

886 
	#SYS_sched_£¬am
 
__NR_sched_£¬am


	)

887 
	#SYS_sched_£tscheduËr
 
__NR_sched_£tscheduËr


	)

888 
	#SYS_sched_y›ld
 
__NR_sched_y›ld


	)

889 
	#SYS_£cur™y
 
__NR_£cur™y


	)

890 
	#SYS_£Ëù
 
__NR_£Ëù


	)

891 
	#SYS_£mùl
 
__NR_£mùl


	)

892 
	#SYS_£mg‘
 
__NR_£mg‘


	)

893 
	#SYS_£mİ
 
__NR_£mİ


	)

894 
	#SYS_£mtimedİ
 
__NR_£mtimedİ


	)

895 
	#SYS_£ndfe
 
__NR_£ndfe


	)

896 
	#SYS_£ndmmsg
 
__NR_£ndmmsg


	)

897 
	#SYS_£ndmsg
 
__NR_£ndmsg


	)

898 
	#SYS_£ndto
 
__NR_£ndto


	)

899 
	#SYS_£t_mempŞicy
 
__NR_£t_mempŞicy


	)

900 
	#SYS_£t_robu¡_li¡
 
__NR_£t_robu¡_li¡


	)

901 
	#SYS_£t_tid_add»ss
 
__NR_£t_tid_add»ss


	)

902 
	#SYS_£tdomašÇme
 
__NR_£tdomašÇme


	)

903 
	#SYS_£tfsgid
 
__NR_£tfsgid


	)

904 
	#SYS_£tfsuid
 
__NR_£tfsuid


	)

905 
	#SYS_£tgid
 
__NR_£tgid


	)

906 
	#SYS_£tgroups
 
__NR_£tgroups


	)

907 
	#SYS_£tho¡Çme
 
__NR_£tho¡Çme


	)

908 
	#SYS_£t™im”
 
__NR_£t™im”


	)

909 
	#SYS_£Šs
 
__NR_£Šs


	)

910 
	#SYS_£gid
 
__NR_£gid


	)

911 
	#SYS_£riÜ™y
 
__NR_£riÜ™y


	)

912 
	#SYS_£Œegid
 
__NR_£Œegid


	)

913 
	#SYS_£Œesgid
 
__NR_£Œesgid


	)

914 
	#SYS_£Œesuid
 
__NR_£Œesuid


	)

915 
	#SYS_£Œeuid
 
__NR_£Œeuid


	)

916 
	#SYS_£Œlim™
 
__NR_£Œlim™


	)

917 
	#SYS_£tsid
 
__NR_£tsid


	)

918 
	#SYS_£tsockİt
 
__NR_£tsockİt


	)

919 
	#SYS_£‰imeofday
 
__NR_£‰imeofday


	)

920 
	#SYS_£tuid
 
__NR_£tuid


	)

921 
	#SYS_£tx©Œ
 
__NR_£tx©Œ


	)

922 
	#SYS_shm©
 
__NR_shm©


	)

923 
	#SYS_shmùl
 
__NR_shmùl


	)

924 
	#SYS_shmdt
 
__NR_shmdt


	)

925 
	#SYS_shmg‘
 
__NR_shmg‘


	)

926 
	#SYS_shutdown
 
__NR_shutdown


	)

927 
	#SYS_sig®t¡ack
 
__NR_sig®t¡ack


	)

928 
	#SYS_sigÇlfd
 
__NR_sigÇlfd


	)

929 
	#SYS_sigÇlfd4
 
__NR_sigÇlfd4


	)

930 
	#SYS_sock‘
 
__NR_sock‘


	)

931 
	#SYS_sock‘·œ
 
__NR_sock‘·œ


	)

932 
	#SYS_¥liû
 
__NR_¥liû


	)

933 
	#SYS_¡©
 
__NR_¡©


	)

934 
	#SYS_¡©fs
 
__NR_¡©fs


	)

935 
	#SYS_sw­off
 
__NR_sw­off


	)

936 
	#SYS_sw­Ú
 
__NR_sw­Ú


	)

937 
	#SYS_symlšk
 
__NR_symlšk


	)

938 
	#SYS_symlšk©
 
__NR_symlšk©


	)

939 
	#SYS_sync
 
__NR_sync


	)

940 
	#SYS_sync_fe_¿nge
 
__NR_sync_fe_¿nge


	)

941 
	#SYS_syncfs
 
__NR_syncfs


	)

942 
	#SYS_sysfs
 
__NR_sysfs


	)

943 
	#SYS_sysšfo
 
__NR_sysšfo


	)

944 
	#SYS_sy¦og
 
__NR_sy¦og


	)

945 
	#SYS_‹e
 
__NR_‹e


	)

946 
	#SYS_tgkl
 
__NR_tgkl


	)

947 
	#SYS_time
 
__NR_time


	)

948 
	#SYS_tim”_ü—‹
 
__NR_tim”_ü—‹


	)

949 
	#SYS_tim”_d–‘e
 
__NR_tim”_d–‘e


	)

950 
	#SYS_tim”_g‘ov”run
 
__NR_tim”_g‘ov”run


	)

951 
	#SYS_tim”_g‘time
 
__NR_tim”_g‘time


	)

952 
	#SYS_tim”_£‰ime
 
__NR_tim”_£‰ime


	)

953 
	#SYS_tim”fd_ü—‹
 
__NR_tim”fd_ü—‹


	)

954 
	#SYS_tim”fd_g‘time
 
__NR_tim”fd_g‘time


	)

955 
	#SYS_tim”fd_£‰ime
 
__NR_tim”fd_£‰ime


	)

956 
	#SYS_times
 
__NR_times


	)

957 
	#SYS_tkl
 
__NR_tkl


	)

958 
	#SYS_Œunÿ‹
 
__NR_Œunÿ‹


	)

959 
	#SYS_tuxÿÎ
 
__NR_tuxÿÎ


	)

960 
	#SYS_umask
 
__NR_umask


	)

961 
	#SYS_umouÁ2
 
__NR_umouÁ2


	)

962 
	#SYS_uÇme
 
__NR_uÇme


	)

963 
	#SYS_uÆšk
 
__NR_uÆšk


	)

964 
	#SYS_uÆšk©
 
__NR_uÆšk©


	)

965 
	#SYS_unsh¬e
 
__NR_unsh¬e


	)

966 
	#SYS_u¡©
 
__NR_u¡©


	)

967 
	#SYS_utime
 
__NR_utime


	)

968 
	#SYS_utim’§t
 
__NR_utim’§t


	)

969 
	#SYS_utimes
 
__NR_utimes


	)

970 
	#SYS_vfÜk
 
__NR_vfÜk


	)

971 
	#SYS_vhªgup
 
__NR_vhªgup


	)

972 
	#SYS_vm¥liû
 
__NR_vm¥liû


	)

973 
	#SYS_wa™4
 
__NR_wa™4


	)

974 
	#SYS_wa™id
 
__NR_wa™id


	)

975 
	#SYS_wr™e
 
__NR_wr™e


	)

976 
	#SYS_wr™ev
 
__NR_wr™ev


	)

	@/usr/include/bits/typesizes.h

19 #iâdeà
_BITS_TYPES_H


23 #iâdef 
_BITS_TYPESIZES_H


24 
	#_BITS_TYPESIZES_H
 1

	)

30 #ià
defšed
 
__x86_64__
 && defšed 
__ILP32__


31 
	#__SYSCALL_SLONG_TYPE
 
__SQUAD_TYPE


	)

32 
	#__SYSCALL_ULONG_TYPE
 
__UQUAD_TYPE


	)

34 
	#__SYSCALL_SLONG_TYPE
 
__SLONGWORD_TYPE


	)

35 
	#__SYSCALL_ULONG_TYPE
 
__ULONGWORD_TYPE


	)

38 
	#__DEV_T_TYPE
 
__UQUAD_TYPE


	)

39 
	#__UID_T_TYPE
 
__U32_TYPE


	)

40 
	#__GID_T_TYPE
 
__U32_TYPE


	)

41 
	#__INO_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

42 
	#__INO64_T_TYPE
 
__UQUAD_TYPE


	)

43 
	#__MODE_T_TYPE
 
__U32_TYPE


	)

44 #ifdeà
__x86_64__


45 
	#__NLINK_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

46 
	#__FSWORD_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

48 
	#__NLINK_T_TYPE
 
__UWORD_TYPE


	)

49 
	#__FSWORD_T_TYPE
 
__SWORD_TYPE


	)

51 
	#__OFF_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

52 
	#__OFF64_T_TYPE
 
__SQUAD_TYPE


	)

53 
	#__PID_T_TYPE
 
__S32_TYPE


	)

54 
	#__RLIM_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

55 
	#__RLIM64_T_TYPE
 
__UQUAD_TYPE


	)

56 
	#__BLKCNT_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

57 
	#__BLKCNT64_T_TYPE
 
__SQUAD_TYPE


	)

58 
	#__FSBLKCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

59 
	#__FSBLKCNT64_T_TYPE
 
__UQUAD_TYPE


	)

60 
	#__FSFILCNT_T_TYPE
 
__SYSCALL_ULONG_TYPE


	)

61 
	#__FSFILCNT64_T_TYPE
 
__UQUAD_TYPE


	)

62 
	#__ID_T_TYPE
 
__U32_TYPE


	)

63 
	#__CLOCK_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

64 
	#__TIME_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

65 
	#__USECONDS_T_TYPE
 
__U32_TYPE


	)

66 
	#__SUSECONDS_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

67 
	#__DADDR_T_TYPE
 
__S32_TYPE


	)

68 
	#__KEY_T_TYPE
 
__S32_TYPE


	)

69 
	#__CLOCKID_T_TYPE
 
__S32_TYPE


	)

70 
	#__TIMER_T_TYPE
 *

	)

71 
	#__BLKSIZE_T_TYPE
 
__SYSCALL_SLONG_TYPE


	)

72 
	#__FSID_T_TYPE
 sŒuù { 
__v®
[2]; }

	)

73 
	#__SSIZE_T_TYPE
 
__SWORD_TYPE


	)

75 #ifdeà
__x86_64__


79 
	#__OFF_T_MATCHES_OFF64_T
 1

	)

82 
	#__INO_T_MATCHES_INO64_T
 1

	)

86 
	#__FD_SETSIZE
 1024

	)

	@/usr/include/gnu/stubs.h

6 #ià!
defšed
 
__x86_64__


7 
	~<gnu/¡ubs-32.h
>

9 #ià
defšed
 
__x86_64__
 && defšed 
__LP64__


10 
	~<gnu/¡ubs-64.h
>

12 #ià
defšed
 
__x86_64__
 && defšed 
__ILP32__


13 
	~<gnu/¡ubs-x32.h
>

	@/usr/include/stdc-predef.h

18 #iâdef 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

30 
	~<b™s/´edefs.h
>

34 
	#__STDC_ISO_10646__
 201103L

	)

37 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/sys/cdefs.h

19 #iâdef 
_SYS_CDEFS_H


20 
	#_SYS_CDEFS_H
 1

	)

23 #iâdeà
_FEATURES_H


24 
	~<ã©u»s.h
>

30 #ià
defšed
 
__GNUC__
 && !defšed 
__STDC__


35 #undeà
__P


36 #undeà
__PMT


38 #ifdeà
__GNUC__


42 #ià
__GNUC_PREREQ
 (4, 6è&& !
defšed
 
_LIBC


43 
	#__LEAF
 , 
__Ëaf__


	)

44 
	#__LEAF_ATTR
 
	`__©Œibu‹__
 ((
__Ëaf__
))

	)

46 
	#__LEAF


	)

47 
	#__LEAF_ATTR


	)

55 #ià!
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (3, 3)

56 
	#__THROW
 
	`__©Œibu‹__
 ((
__nÙhrow__
 
__LEAF
))

	)

57 
	#__THROWNL
 
	`__©Œibu‹__
 ((
__nÙhrow__
))

	)

58 
	#__NTH
(
fù
è
	`__©Œibu‹__
 ((
__nÙhrow__
 
__LEAF
)è
	)
fct

60 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (2,8)

61 
	#__THROW
 
	`throw
 ()

	)

62 
	#__THROWNL
 
	`throw
 ()

	)

63 
	#__NTH
(
fù
è
__LEAF_ATTR
 fù 
	`throw
 ()

	)

65 
	#__THROW


	)

66 
	#__THROWNL


	)

67 
	#__NTH
(
fù
è
	)
fct

73 
	#__šlše


	)

75 
	#__THROW


	)

76 
	#__THROWNL


	)

77 
	#__NTH
(
fù
è
	)
fct

83 
	#__P
(
¬gs
è
	)
args

84 
	#__PMT
(
¬gs
è
	)
args

89 
	#__CONCAT
(
x
,
y
èx ## 
	)
y

90 
	#__STRING
(
x
è#x

	)

93 
	#__±r_t
 *

	)

94 
	#__lÚg_doubË_t
 

	)

98 #ifdef 
__ılu¥lus


99 
	#__BEGIN_DECLS
 "C" {

	)

100 
	#__END_DECLS
 }

	)

102 
	#__BEGIN_DECLS


	)

103 
	#__END_DECLS


	)

112 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES


113 
	#__BEGIN_NAMESPACE_STD
 
Çme¥aû
 
¡d
 {

	)

114 
	#__END_NAMESPACE_STD
 }

	)

115 
	#__USING_NAMESPACE_STD
(
Çme
è
usšg
 
¡d
::Çme;

	)

116 
	#__BEGIN_NAMESPACE_C99
 
Çme¥aû
 
__c99
 {

	)

117 
	#__END_NAMESPACE_C99
 }

	)

118 
	#__USING_NAMESPACE_C99
(
Çme
è
usšg
 
__c99
::Çme;

	)

123 
	#__BEGIN_NAMESPACE_STD


	)

124 
	#__END_NAMESPACE_STD


	)

125 
	#__USING_NAMESPACE_STD
(
Çme
)

	)

126 
	#__BEGIN_NAMESPACE_C99


	)

127 
	#__END_NAMESPACE_C99


	)

128 
	#__USING_NAMESPACE_C99
(
Çme
)

	)

133 #iâdeà
__BOUNDED_POINTERS__


134 
	#__bounded


	)

135 
	#__unbounded


	)

136 
	#__±rv®ue


	)

141 
	#__bos
(
±r
è
	`__butš_objeù_size
 (±r, 
__USE_FORTIFY_LEVEL
 > 1)

	)

142 
	#__bos0
(
±r
è
	`__butš_objeù_size
 (±r, 0)

	)

143 
	#__fÜtify_funùiÚ
 
__ex‹º_®ways_šlše
 
__©Œibu‹_¬tificŸl__


	)

145 #ià
__GNUC_PREREQ
 (4,3)

146 
	#__w¬ndeş
(
Çme
, 
msg
) \

147 
	`Çme
 (è
	`__©Œibu‹__
((
	`__w¬nšg__
 (
msg
)))

	)

148 
	#__w¬Ç‰r
(
msg
è
	`__©Œibu‹__
((
	`__w¬nšg__
 (msg)))

	)

149 
	#__”rÜdeş
(
Çme
, 
msg
) \

150 
	`Çme
 (è
	`__©Œibu‹__
((
	`__”rÜ__
 (
msg
)))

	)

152 
	#__w¬ndeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

153 
	#__w¬Ç‰r
(
msg
)

	)

154 
	#__”rÜdeş
(
Çme
, 
msg
è
	`Çme
 ()

	)

158 #ià
__GNUC_PREREQ
 (2,97)

160 
	#__æex¬r
 []

	)

162 #ifdeà
__GNUC__


163 
	#__æex¬r
 [0]

	)

165 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

166 
	#__æex¬r
 []

	)

169 
	#__æex¬r
 [1]

	)

185 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

187 
	#__REDIRECT
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

188 #ifdeà
__ılu¥lus


189 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

190 
Çme
 
´Ùo
 
__THROW
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

191 
	#__REDIRECT_NTHNL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

192 
Çme
 
´Ùo
 
__THROWNL
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs))

	)

194 
	#__REDIRECT_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
) \

195 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROW


	)

196 
	#__REDIRECT_NTHNL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

197 
Çme
 
´Ùo
 
	`__asm__
 (
	`__ASMNAME
 (#®Ÿs)è
__THROWNL


	)

199 
	#__ASMNAME
(
úame
è
	`__ASMNAME2
 (
__USER_LABEL_PREFIX__
, cÇme)

	)

200 
	#__ASMNAME2
(
´efix
, 
úame
è
	`__STRING
 (´efixè
	)
cname

213 #ià!
defšed
 
__GNUC__
 || __GNUC__ < 2

214 
	#__©Œibu‹__
(
xyz
è

	)

220 #ià
__GNUC_PREREQ
 (2,96)

221 
	#__©Œibu‹_m®loc__
 
	`__©Œibu‹__
 ((
__m®loc__
))

	)

223 
	#__©Œibu‹_m®loc__


	)

229 #ià
__GNUC_PREREQ
 (2,96)

230 
	#__©Œibu‹_pu»__
 
	`__©Œibu‹__
 ((
__pu»__
))

	)

232 
	#__©Œibu‹_pu»__


	)

236 #ià
__GNUC_PREREQ
 (2,5)

237 
	#__©Œibu‹_cÚ¡__
 
	`__©Œibu‹__
 ((
__cÚ¡__
))

	)

239 
	#__©Œibu‹_cÚ¡__


	)

245 #ià
__GNUC_PREREQ
 (3,1)

246 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__u£d__
))

	)

247 
	#__©Œibu‹_nošlše__
 
	`__©Œibu‹__
 ((
__nošlše__
))

	)

249 
	#__©Œibu‹_u£d__
 
	`__©Œibu‹__
 ((
__unu£d__
))

	)

250 
	#__©Œibu‹_nošlše__


	)

254 #ià
__GNUC_PREREQ
 (3,2)

255 
	#__©Œibu‹_d•»ÿ‹d__
 
	`__©Œibu‹__
 ((
__d•»ÿ‹d__
))

	)

257 
	#__©Œibu‹_d•»ÿ‹d__


	)

266 #ià
__GNUC_PREREQ
 (2,8)

267 
	#__©Œibu‹_fÜm©_¬g__
(
x
è
	`__©Œibu‹__
 ((
	`__fÜm©_¬g__
 (x)))

	)

269 
	#__©Œibu‹_fÜm©_¬g__
(
x
è

	)

276 #ià
__GNUC_PREREQ
 (2,97)

277 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
) \

278 
	`__©Œibu‹__
 ((
	`__fÜm©__
 (
__¡rfmÚ__
, 
a
, 
b
)))

	)

280 
	#__©Œibu‹_fÜm©_¡rfmÚ__
(
a
,
b
è

	)

285 #ià
__GNUC_PREREQ
 (3,3)

286 
	#__nÚnuÎ
(
·¿ms
è
	`__©Œibu‹__
 ((
__nÚnuÎ__
…¬ams))

	)

288 
	#__nÚnuÎ
(
·¿ms
)

	)

293 #ià
__GNUC_PREREQ
 (3,4)

294 
	#__©Œibu‹_w¬n_unu£d_»suÉ__
 \

295 
	`__©Œibu‹__
 ((
__w¬n_unu£d_»suÉ__
))

	)

296 #ià
__USE_FORTIFY_LEVEL
 > 0

297 
	#__wur
 
__©Œibu‹_w¬n_unu£d_»suÉ__


	)

300 
	#__©Œibu‹_w¬n_unu£d_»suÉ__


	)

302 #iâdeà
__wur


303 
	#__wur


	)

307 #ià
__GNUC_PREREQ
 (3,2)

308 
	#__®ways_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__®ways_šlše__
))

	)

310 
	#__®ways_šlše
 
__šlše


	)

315 #ià
__GNUC_PREREQ
 (4,3)

316 
	#__©Œibu‹_¬tificŸl__
 
	`__©Œibu‹__
 ((
__¬tificŸl__
))

	)

318 
	#__©Œibu‹_¬tificŸl__


	)

323 #ià(!
defšed
 
__ılu¥lus
 || 
__GNUC_PREREQ
 (4,3)è&& defšed 
__GNUC__


324 #ià
defšed
 
__GNUC_STDC_INLINE__
 || defšed 
__ılu¥lus


325 
	#__ex‹º_šlše
 
__šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

326 
	#__ex‹º_®ways_šlše
 \

327 
__®ways_šlše
 
	`__©Œibu‹__
 ((
__gnu_šlše__
))

	)

329 
	#__ex‹º_šlše
 
__šlše


	)

330 
	#__ex‹º_®ways_šlše
 
__®ways_šlše


	)

332 #–ià
defšed
 
__GNUC__


333 
	#__ex‹º_šlše
 
__šlše


	)

334 
	#__ex‹º_®ways_šlše
 \

335 
__®ways_šlše


	)

337 
	#__ex‹º_šlše


	)

338 
	#__ex‹º_®ways_šlše


	)

343 #ià
__GNUC_PREREQ
 (4,3)

344 
	#__va_¬g_·ck
(è
	`__butš_va_¬g_·ck
 ()

	)

345 
	#__va_¬g_·ck_Ën
(è
	`__butš_va_¬g_·ck_Ën
 ()

	)

352 #ià!
__GNUC_PREREQ
 (2,8)

353 
	#__ex‹nsiÚ__


	)

357 #ià!
__GNUC_PREREQ
 (2,92)

358 
	#__»¡riù


	)

364 #ià
__GNUC_PREREQ
 (3,1è&& !
defšed
 
__GNUG__


365 
	#__»¡riù_¬r
 
__»¡riù


	)

367 #ifdeà
__GNUC__


368 
	#__»¡riù_¬r


	)

370 #ià
defšed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

371 
	#__»¡riù_¬r
 
»¡riù


	)

374 
	#__»¡riù_¬r


	)

379 #ià
__GNUC__
 >= 3

380 
	#__glibc_uÆik–y
(
cÚd
è
	`__butš_ex³ù
((cÚd), 0)

	)

382 
	#__glibc_uÆik–y
(
cÚd
è(cÚd)

	)

385 
	~<b™s/wÜdsize.h
>

387 #ià
defšed
 
__LONG_DOUBLE_MATH_OPTIONAL
 && defšed 
__NO_LONG_DOUBLE_MATH


388 
	#__LDBL_COMPAT
 1

	)

389 #ifdeà
__REDIRECT


390 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

391 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
) \

392 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

393 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT_NTH
 (Çme,…rÙo,‡lŸs)

	)

394 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
) \

395 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##Çme)

	)

396 
	#__LDBL_REDIR1_DECL
(
Çme
, 
®Ÿs
) \

397 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 (#®Ÿs));

	)

398 
	#__LDBL_REDIR_DECL
(
Çme
) \

399 
	`__ty³of
 (
Çme
èÇm
	`__asm
 (
	`__ASMNAME
 ("__Ædbl_" #Çme));

	)

400 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

401 
	`__LDBL_REDIR1
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

402 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

403 
	`__LDBL_REDIR1_NTH
 (
Çme
, 
´Ùo
, 
__Ædbl_
##
®Ÿs
)

	)

406 #ià!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT


407 
	#__LDBL_REDIR1
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm
	)
proto

408 
	#__LDBL_REDIR
(
Çme
, 
´Ùo
èÇm
	)
proto

409 
	#__LDBL_REDIR1_NTH
(
Çme
, 
´Ùo
, 
®Ÿs
èÇm´ÙØ
__THROW


	)

410 
	#__LDBL_REDIR_NTH
(
Çme
, 
´Ùo
èÇm´ÙØ
__THROW


	)

411 
	#__LDBL_REDIR_DECL
(
Çme
)

	)

412 #ifdeà
__REDIRECT


413 
	#__REDIRECT_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
è
	`__REDIRECT
 (Çme,…rÙo,‡lŸs)

	)

414 
	#__REDIRECT_NTH_LDBL
(
Çme
, 
´Ùo
, 
®Ÿs
) \

415 
	`__REDIRECT_NTH
 (
Çme
, 
´Ùo
, 
®Ÿs
)

	)

	@/usr/include/sys/select.h

21 #iâdeà
_SYS_SELECT_H


22 
	#_SYS_SELECT_H
 1

	)

24 
	~<ã©u»s.h
>

27 
	~<b™s/ty³s.h
>

30 
	~<b™s/£Ëù.h
>

33 
	~<b™s/sig£t.h
>

35 #iâdeà
__sig£t_t_defšed


36 
	#__sig£t_t_defšed


	)

37 
__sig£t_t
 
	tsig£t_t
;

41 
	#__Ãed_time_t


	)

42 
	#__Ãed_time¥ec


	)

43 
	~<time.h
>

44 
	#__Ãed_timev®


	)

45 
	~<b™s/time.h
>

47 #iâdeà
__su£cÚds_t_defšed


48 
__su£cÚds_t
 
	tsu£cÚds_t
;

49 
	#__su£cÚds_t_defšed


	)

54 
	t__fd_mask
;

57 #undeà
__NFDBITS


59 
	#__NFDBITS
 (8 * (è (
__fd_mask
))

	)

60 
	#__FD_ELT
(
d
è((dè/ 
__NFDBITS
)

	)

61 
	#__FD_MASK
(
d
è((
__fd_mask
è1 << ((dè% 
__NFDBITS
))

	)

68 #ifdeà
__USE_XOPEN


69 
__fd_mask
 
	mfds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

70 
	#__FDS_BITS
(
£t
è((£t)->
fds_b™s
)

	)

72 
__fd_mask
 
	m__fds_b™s
[
__FD_SETSIZE
 / 
__NFDBITS
];

73 
	#__FDS_BITS
(
£t
è((£t)->
__fds_b™s
)

	)

75 } 
	tfd_£t
;

78 
	#FD_SETSIZE
 
__FD_SETSIZE


	)

80 #ifdeà
__USE_MISC


82 
__fd_mask
 
	tfd_mask
;

85 
	#NFDBITS
 
__NFDBITS


	)

90 
	#FD_SET
(
fd
, 
fd£
è
	`__FD_SET
 (fd, fd£)

	)

91 
	#FD_CLR
(
fd
, 
fd£
è
	`__FD_CLR
 (fd, fd£)

	)

92 
	#FD_ISSET
(
fd
, 
fd£
è
	`__FD_ISSET
 (fd, fd£)

	)

93 
	#FD_ZERO
(
fd£
è
	`__FD_ZERO
 (fd£)

	)

96 
__BEGIN_DECLS


106 
£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

107 
fd_£t
 *
__»¡riù
 
__wr™efds
,

108 
fd_£t
 *
__»¡riù
 
__exû±fds
,

109 
timev®
 *
__»¡riù
 
__timeout
);

111 #ifdeà
__USE_XOPEN2K


118 
p£Ëù
 (
__nfds
, 
fd_£t
 *
__»¡riù
 
__»adfds
,

119 
fd_£t
 *
__»¡riù
 
__wr™efds
,

120 
fd_£t
 *
__»¡riù
 
__exû±fds
,

121 cÚ¡ 
time¥ec
 *
__»¡riù
 
__timeout
,

122 cÚ¡ 
__sig£t_t
 *
__»¡riù
 
__sigmask
);

127 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__GNUC__


128 
	~<b™s/£Ëù2.h
>

131 
	g__END_DECLS


	@/usr/include/sys/sysmacros.h

20 #iâdeà
_SYS_SYSMACROS_H


21 
	#_SYS_SYSMACROS_H
 1

	)

23 
	~<ã©u»s.h
>

28 #ifdeà
__GLIBC_HAVE_LONG_LONG


29 
__BEGIN_DECLS


31 
__ex‹nsiÚ__


32 
	$gnu_dev_majÜ
 (
__dev
)

33 
__THROW
 
__©Œibu‹_cÚ¡__
;

34 
__ex‹nsiÚ__


35 
	$gnu_dev_mšÜ
 (
__dev
)

36 
__THROW
 
__©Œibu‹_cÚ¡__
;

37 
__ex‹nsiÚ__


38 
	$gnu_dev_makedev
 (
__majÜ
,

39 
__mšÜ
)

40 
__THROW
 
__©Œibu‹_cÚ¡__
;

42 #ià
defšed
 
__GNUC__
 && __GNUC__ >ğ2 && defšed 
__USE_EXTERN_INLINES


43 
__ex‹nsiÚ__
 
__ex‹º_šlše
 
__©Œibu‹_cÚ¡__
 

44 
	`__NTH
 (
	$gnu_dev_majÜ
 (
__dev
))

46  ((
__dev
 >> 8) & 0xfff) | (() (__dev >> 32) & ~0xfff);

47 
	}
}

49 
__ex‹nsiÚ__
 
__ex‹º_šlše
 
__©Œibu‹_cÚ¡__
 

50 
__NTH
 (
	$gnu_dev_mšÜ
 (
__dev
))

52  (
__dev
 & 0xff) | (() (__dev >> 12) & ~0xff);

53 
	}
}

55 
__ex‹nsiÚ__
 
__ex‹º_šlše
 
__©Œibu‹_cÚ¡__
 

56 
__NTH
 (
	$gnu_dev_makedev
 (
__majÜ
, 
__mšÜ
))

58  ((
__mšÜ
 & 0xffè| ((
__majÜ
 & 0xfff) << 8)

59 | (((è(
__mšÜ
 & ~0xff)) << 12)

60 | (((è(
__majÜ
 & ~0xfff)) << 32));

61 
	}
}

63 
	g__END_DECLS


66 
	#majÜ
(
dev
è
	`gnu_dev_majÜ
 (dev)

	)

67 
	#mšÜ
(
dev
è
	`gnu_dev_mšÜ
 (dev)

	)

68 
	#makedev
(
maj
, 
mš
è
	`gnu_dev_makedev
 (maj, mš)

	)

	@/usr/include/time.h

22 #iâdef 
_TIME_H


24 #ià(! 
defšed
 
__Ãed_time_t
 && !defšed 
__Ãed_şock_t
 && \

25 ! 
defšed
 
	g__Ãed_time¥ec
)

26 
	#_TIME_H
 1

	)

27 
	~<ã©u»s.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__Ãed_size_t


	)

36 
	#__Ãed_NULL


	)

37 
	~<¡ddef.h
>

41 
	~<b™s/time.h
>

44 #ià!
defšed
 
__STRICT_ANSI__
 && !defšed 
__USE_XOPEN2K


45 #iâdeà
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #ià!
defšed
 
__şock_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_şock_t
)

53 
	#__şock_t_defšed
 1

	)

55 
	~<b™s/ty³s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__şock_t
 
	tşock_t
;

60 
	g__END_NAMESPACE_STD


61 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


62 
	$__USING_NAMESPACE_STD
(
şock_t
)

66 #undeà
__Ãed_şock_t


68 #ià!
defšed
 
__time_t_defšed
 && (defšed 
_TIME_H
 || defšed 
__Ãed_time_t
)

69 
	#__time_t_defšed
 1

	)

71 
	~<b™s/ty³s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC
 || defšed 
__USE_SVID


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #undeà
__Ãed_time_t


84 #ià!
defšed
 
__şockid_t_defšed
 && \

85 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_şockid_t
)

86 
	#__şockid_t_defšed
 1

	)

88 
	~<b™s/ty³s.h
>

91 
__şockid_t
 
	tşockid_t
;

94 #undeà
__şockid_time_t


96 #ià!
defšed
 
__tim”_t_defšed
 && \

97 ((
defšed
 
_TIME_H
 && defšed 
__USE_POSIX199309
è|| defšed 
__Ãed_tim”_t
)

98 
	#__tim”_t_defšed
 1

	)

100 
	~<b™s/ty³s.h
>

103 
__tim”_t
 
	ttim”_t
;

106 #undeà
__Ãed_tim”_t


109 #ià(!
defšed
 
__time¥ec_defšed
 \

110 && ((
defšed
 
_TIME_H
 \

111 && (
defšed
 
__USE_POSIX199309
 || defšed 
__USE_MISC
 \

112 || 
defšed
 
__USE_ISOC11
)) \

113 || 
defšed
 
__Ãed_time¥ec
))

114 
	#__time¥ec_defšed
 1

	)

116 
	~<b™s/ty³s.h
>

120 
	stime¥ec


122 
__time_t
 
tv_£c
;

123 
__sysÿÎ_¦Úg_t
 
tv_n£c
;

127 #undeà
__Ãed_time¥ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mš
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_mÚ
;

140 
tm_y—r
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd¡
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 cÚ¡ *
tm_zÚe
;

149 
__tm_gmtoff
;

150 cÚ¡ *
__tm_zÚe
;

153 
__END_NAMESPACE_STD


154 #ià
defšed
 
__USE_XOPEN
 || defšed 
__USE_POSIX
 || defšed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifdeà
__USE_POSIX199309


161 
	s™im”¥ec


163 
time¥ec
 
™_š‹rv®
;

164 
time¥ec
 
™_v®ue
;

168 
sigev’t
;

172 #ifdeà
__USE_XOPEN2K


173 #iâdeà
__pid_t_defšed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_defšed


	)

180 #ifdeà
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
şock_t
 
	$şock
 (è
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__tim”
è
__THROW
;

195 
	$difáime
 (
time_t
 
__time1
,ime_ˆ
__time0
)

196 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

199 
time_t
 
	$mktime
 (
tm
 *
__
è
__THROW
;

205 
size_t
 
	$¡ráime
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

206 cÚ¡ *
__»¡riù
 
__fÜm©
,

207 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifdeà
__USE_XOPEN


213 *
	$¡½time
 (cÚ¡ *
__»¡riù
 
__s
,

214 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
)

215 
__THROW
;

218 #ifdeà
__USE_XOPEN2K8


221 
	~<xloÿË.h
>

223 
size_t
 
	$¡ráime_l
 (*
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

224 cÚ¡ *
__»¡riù
 
__fÜm©
,

225 cÚ¡ 
tm
 *
__»¡riù
 
__
,

226 
__loÿË_t
 
__loc
è
__THROW
;

229 #ifdeà
__USE_GNU


230 *
	$¡½time_l
 (cÚ¡ *
__»¡riù
 
__s
,

231 cÚ¡ *
__»¡riù
 
__fmt
, 
tm
 *
__
,

232 
__loÿË_t
 
__loc
è
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

243 
tm
 *
	$loÿÉime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

244 
__END_NAMESPACE_STD


246 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


249 
tm
 *
	$gmtime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

250 
tm
 *
__»¡riù
 
__
è
__THROW
;

254 
tm
 *
	$loÿÉime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

255 
tm
 *
__»¡riù
 
__
è
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$asùime
 (cÚ¡ 
tm
 *
__
è
__THROW
;

264 *
	$ùime
 (cÚ¡ 
time_t
 *
__tim”
è
__THROW
;

265 
__END_NAMESPACE_STD


267 #ià
defšed
 
__USE_POSIX
 || defšed 
__USE_MISC


272 *
	$asùime_r
 (cÚ¡ 
tm
 *
__»¡riù
 
__
,

273 *
__»¡riù
 
__buf
è
__THROW
;

276 *
	$ùime_r
 (cÚ¡ 
time_t
 *
__»¡riù
 
__tim”
,

277 *
__»¡riù
 
__buf
è
__THROW
;

282 *
__tzÇme
[2];

283 
__daylight
;

284 
__timezÚe
;

287 #ifdef 
__USE_POSIX


289 *
tzÇme
[2];

293 
	$tz£t
 (è
__THROW
;

296 #ià
defšed
 
__USE_SVID
 || defšed 
__USE_XOPEN


297 
daylight
;

298 
timezÚe
;

301 #ifdeà
__USE_SVID


304 
	$¡ime
 (cÚ¡ 
time_t
 *
__wh’
è
__THROW
;

310 
	#__i¦—p
(
y—r
) \

311 ((
y—r
è% 4 =ğ0 && ((y—rè% 100 !ğ0 || (y—rè% 400 =ğ0))

	)

314 #ifdeà
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__
è
__THROW
;

322 
time_t
 
	$tim–oÿl
 (
tm
 *
__
è
__THROW
;

325 
	$dysize
 (
__y—r
è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

329 #ifdeà
__USE_POSIX199309


334 
	`Çno¦“p
 (cÚ¡ 
time¥ec
 *
__»que¡ed_time
,

335 
time¥ec
 *
__»maššg
);

339 
	$şock_g‘»s
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__»s
è
__THROW
;

342 
	$şock_g‘time
 (
şockid_t
 
__şock_id
, 
time¥ec
 *
__
è
__THROW
;

345 
	$şock_£‰ime
 (
şockid_t
 
__şock_id
, cÚ¡ 
time¥ec
 *
__
)

346 
__THROW
;

348 #ifdeà
__USE_XOPEN2K


353 
	`şock_Çno¦“p
 (
şockid_t
 
__şock_id
, 
__æags
,

354 cÚ¡ 
time¥ec
 *
__»q
,

355 
time¥ec
 *
__»m
);

358 
	$şock_g‘ıuşockid
 (
pid_t
 
__pid
, 
şockid_t
 *
__şock_id
è
__THROW
;

363 
	$tim”_ü—‹
 (
şockid_t
 
__şock_id
,

364 
sigev’t
 *
__»¡riù
 
__evp
,

365 
tim”_t
 *
__»¡riù
 
__tim”id
è
__THROW
;

368 
	$tim”_d–‘e
 (
tim”_t
 
__tim”id
è
__THROW
;

371 
	$tim”_£‰ime
 (
tim”_t
 
__tim”id
, 
__æags
,

372 cÚ¡ 
™im”¥ec
 *
__»¡riù
 
__v®ue
,

373 
™im”¥ec
 *
__»¡riù
 
__ov®ue
è
__THROW
;

376 
	$tim”_g‘time
 (
tim”_t
 
__tim”id
, 
™im”¥ec
 *
__v®ue
)

377 
__THROW
;

380 
	$tim”_g‘ov”run
 (
tim”_t
 
__tim”id
è
__THROW
;

384 #ifdeà
__USE_ISOC11


386 
	$time¥ec_g‘
 (
time¥ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__nÚnuÎ
 ((1));

391 #ifdeà
__USE_XOPEN_EXTENDED


403 
g‘d©e_”r
;

412 
tm
 *
	`g‘d©e
 (cÚ¡ *
__¡ršg
);

415 #ifdeà
__USE_GNU


426 
	`g‘d©e_r
 (cÚ¡ *
__»¡riù
 
__¡ršg
,

427 
tm
 *
__»¡riù
 
__»sbuå
);

430 
__END_DECLS


	@/usr/include/asm/unistd_32.h

1 #iâdeà
_ASM_X86_UNISTD_32_H


2 
	#_ASM_X86_UNISTD_32_H
 1

	)

4 
	#__NR_»¡¬t_sysÿÎ
 0

	)

5 
	#__NR_ex™
 1

	)

6 
	#__NR_fÜk
 2

	)

7 
	#__NR_»ad
 3

	)

8 
	#__NR_wr™e
 4

	)

9 
	#__NR_İ’
 5

	)

10 
	#__NR_şo£
 6

	)

11 
	#__NR_wa™pid
 7

	)

12 
	#__NR_ü—t
 8

	)

13 
	#__NR_lšk
 9

	)

14 
	#__NR_uÆšk
 10

	)

15 
	#__NR_execve
 11

	)

16 
	#__NR_chdœ
 12

	)

17 
	#__NR_time
 13

	)

18 
	#__NR_mknod
 14

	)

19 
	#__NR_chmod
 15

	)

20 
	#__NR_lchown
 16

	)

21 
	#__NR_b»ak
 17

	)

22 
	#__NR_Şd¡©
 18

	)

23 
	#__NR_l£ek
 19

	)

24 
	#__NR_g‘pid
 20

	)

25 
	#__NR_mouÁ
 21

	)

26 
	#__NR_umouÁ
 22

	)

27 
	#__NR_£tuid
 23

	)

28 
	#__NR_g‘uid
 24

	)

29 
	#__NR_¡ime
 25

	)

30 
	#__NR_±¿û
 26

	)

31 
	#__NR_®¬m
 27

	)

32 
	#__NR_Şdf¡©
 28

	)

33 
	#__NR_·u£
 29

	)

34 
	#__NR_utime
 30

	)

35 
	#__NR_¡ty
 31

	)

36 
	#__NR_g‰y
 32

	)

37 
	#__NR_acûss
 33

	)

38 
	#__NR_niû
 34

	)

39 
	#__NR_áime
 35

	)

40 
	#__NR_sync
 36

	)

41 
	#__NR_kl
 37

	)

42 
	#__NR_»Çme
 38

	)

43 
	#__NR_mkdœ
 39

	)

44 
	#__NR_rmdœ
 40

	)

45 
	#__NR_dup
 41

	)

46 
	#__NR_pe
 42

	)

47 
	#__NR_times
 43

	)

48 
	#__NR_´of
 44

	)

49 
	#__NR_brk
 45

	)

50 
	#__NR_£tgid
 46

	)

51 
	#__NR_g‘gid
 47

	)

52 
	#__NR_sigÇl
 48

	)

53 
	#__NR_g‘euid
 49

	)

54 
	#__NR_g‘egid
 50

	)

55 
	#__NR_acù
 51

	)

56 
	#__NR_umouÁ2
 52

	)

57 
	#__NR_lock
 53

	)

58 
	#__NR_ioùl
 54

	)

59 
	#__NR_fú
 55

	)

60 
	#__NR_mpx
 56

	)

61 
	#__NR_£gid
 57

	)

62 
	#__NR_ulim™
 58

	)

63 
	#__NR_ŞdŞduÇme
 59

	)

64 
	#__NR_umask
 60

	)

65 
	#__NR_chroÙ
 61

	)

66 
	#__NR_u¡©
 62

	)

67 
	#__NR_dup2
 63

	)

68 
	#__NR_g‘µid
 64

	)

69 
	#__NR_g‘pg½
 65

	)

70 
	#__NR_£tsid
 66

	)

71 
	#__NR_sigaùiÚ
 67

	)

72 
	#__NR_sg‘mask
 68

	)

73 
	#__NR_s£tmask
 69

	)

74 
	#__NR_£Œeuid
 70

	)

75 
	#__NR_£Œegid
 71

	)

76 
	#__NR_sigsu¥’d
 72

	)

77 
	#__NR_sig³ndšg
 73

	)

78 
	#__NR_£tho¡Çme
 74

	)

79 
	#__NR_£Œlim™
 75

	)

80 
	#__NR_g‘¾im™
 76

	)

81 
	#__NR_g‘ru§ge
 77

	)

82 
	#__NR_g‘timeofday
 78

	)

83 
	#__NR_£‰imeofday
 79

	)

84 
	#__NR_g‘groups
 80

	)

85 
	#__NR_£tgroups
 81

	)

86 
	#__NR_£Ëù
 82

	)

87 
	#__NR_symlšk
 83

	)

88 
	#__NR_Şdl¡©
 84

	)

89 
	#__NR_»adlšk
 85

	)

90 
	#__NR_u£lib
 86

	)

91 
	#__NR_sw­Ú
 87

	)

92 
	#__NR_»boÙ
 88

	)

93 
	#__NR_»addœ
 89

	)

94 
	#__NR_mm­
 90

	)

95 
	#__NR_munm­
 91

	)

96 
	#__NR_Œunÿ‹
 92

	)

97 
	#__NR_árunÿ‹
 93

	)

98 
	#__NR_fchmod
 94

	)

99 
	#__NR_fchown
 95

	)

100 
	#__NR_g‘´iÜ™y
 96

	)

101 
	#__NR_£riÜ™y
 97

	)

102 
	#__NR_´of
 98

	)

103 
	#__NR_¡©fs
 99

	)

104 
	#__NR_f¡©fs
 100

	)

105 
	#__NR_iİ”m
 101

	)

106 
	#__NR_sock‘ÿÎ
 102

	)

107 
	#__NR_sy¦og
 103

	)

108 
	#__NR_£t™im”
 104

	)

109 
	#__NR_g‘™im”
 105

	)

110 
	#__NR_¡©
 106

	)

111 
	#__NR_l¡©
 107

	)

112 
	#__NR_f¡©
 108

	)

113 
	#__NR_ŞduÇme
 109

	)

114 
	#__NR_iİl
 110

	)

115 
	#__NR_vhªgup
 111

	)

116 
	#__NR_idË
 112

	)

117 
	#__NR_vm86Şd
 113

	)

118 
	#__NR_wa™4
 114

	)

119 
	#__NR_sw­off
 115

	)

120 
	#__NR_sysšfo
 116

	)

121 
	#__NR_c
 117

	)

122 
	#__NR_fsync
 118

	)

123 
	#__NR_sig»tuº
 119

	)

124 
	#__NR_şÚe
 120

	)

125 
	#__NR_£tdomašÇme
 121

	)

126 
	#__NR_uÇme
 122

	)

127 
	#__NR_modify_ldt
 123

	)

128 
	#__NR_adjtimex
 124

	)

129 
	#__NR_m´Ùeù
 125

	)

130 
	#__NR_sig´ocmask
 126

	)

131 
	#__NR_ü—‹_moduË
 127

	)

132 
	#__NR_š™_moduË
 128

	)

133 
	#__NR_d–‘e_moduË
 129

	)

134 
	#__NR_g‘_k”Ãl_syms
 130

	)

135 
	#__NR_quÙaùl
 131

	)

136 
	#__NR_g‘pgid
 132

	)

137 
	#__NR_fchdœ
 133

	)

138 
	#__NR_bdæush
 134

	)

139 
	#__NR_sysfs
 135

	)

140 
	#__NR_³rsÚ®™y
 136

	)

141 
	#__NR_afs_sysÿÎ
 137

	)

142 
	#__NR_£tfsuid
 138

	)

143 
	#__NR_£tfsgid
 139

	)

144 
	#__NR__Î£ek
 140

	)

145 
	#__NR_g‘d’ts
 141

	)

146 
	#__NR__Ãw£Ëù
 142

	)

147 
	#__NR_æock
 143

	)

148 
	#__NR_msync
 144

	)

149 
	#__NR_»adv
 145

	)

150 
	#__NR_wr™ev
 146

	)

151 
	#__NR_g‘sid
 147

	)

152 
	#__NR_fd©async
 148

	)

153 
	#__NR__sysùl
 149

	)

154 
	#__NR_mlock
 150

	)

155 
	#__NR_muÆock
 151

	)

156 
	#__NR_mlock®l
 152

	)

157 
	#__NR_muÆock®l
 153

	)

158 
	#__NR_sched_£¬am
 154

	)

159 
	#__NR_sched_g‘·¿m
 155

	)

160 
	#__NR_sched_£tscheduËr
 156

	)

161 
	#__NR_sched_g‘scheduËr
 157

	)

162 
	#__NR_sched_y›ld
 158

	)

163 
	#__NR_sched_g‘_´iÜ™y_max
 159

	)

164 
	#__NR_sched_g‘_´iÜ™y_mš
 160

	)

165 
	#__NR_sched_¼_g‘_š‹rv®
 161

	)

166 
	#__NR_Çno¦“p
 162

	)

167 
	#__NR_m»m­
 163

	)

168 
	#__NR_£Œesuid
 164

	)

169 
	#__NR_g‘»suid
 165

	)

170 
	#__NR_vm86
 166

	)

171 
	#__NR_qu”y_moduË
 167

	)

172 
	#__NR_pŞl
 168

	)

173 
	#__NR_nfs£rvùl
 169

	)

174 
	#__NR_£Œesgid
 170

	)

175 
	#__NR_g‘»sgid
 171

	)

176 
	#__NR_´ùl
 172

	)

177 
	#__NR_¹_sig»tuº
 173

	)

178 
	#__NR_¹_sigaùiÚ
 174

	)

179 
	#__NR_¹_sig´ocmask
 175

	)

180 
	#__NR_¹_sig³ndšg
 176

	)

181 
	#__NR_¹_sigtimedwa™
 177

	)

182 
	#__NR_¹_sigqueuešfo
 178

	)

183 
	#__NR_¹_sigsu¥’d
 179

	)

184 
	#__NR_´—d64
 180

	)

185 
	#__NR_pwr™e64
 181

	)

186 
	#__NR_chown
 182

	)

187 
	#__NR_g‘cwd
 183

	)

188 
	#__NR_ÿpg‘
 184

	)

189 
	#__NR_ÿp£t
 185

	)

190 
	#__NR_sig®t¡ack
 186

	)

191 
	#__NR_£ndfe
 187

	)

192 
	#__NR_g‘pmsg
 188

	)

193 
	#__NR_pumsg
 189

	)

194 
	#__NR_vfÜk
 190

	)

195 
	#__NR_ug‘¾im™
 191

	)

196 
	#__NR_mm­2
 192

	)

197 
	#__NR_Œunÿ‹64
 193

	)

198 
	#__NR_árunÿ‹64
 194

	)

199 
	#__NR_¡©64
 195

	)

200 
	#__NR_l¡©64
 196

	)

201 
	#__NR_f¡©64
 197

	)

202 
	#__NR_lchown32
 198

	)

203 
	#__NR_g‘uid32
 199

	)

204 
	#__NR_g‘gid32
 200

	)

205 
	#__NR_g‘euid32
 201

	)

206 
	#__NR_g‘egid32
 202

	)

207 
	#__NR_£Œeuid32
 203

	)

208 
	#__NR_£Œegid32
 204

	)

209 
	#__NR_g‘groups32
 205

	)

210 
	#__NR_£tgroups32
 206

	)

211 
	#__NR_fchown32
 207

	)

212 
	#__NR_£Œesuid32
 208

	)

213 
	#__NR_g‘»suid32
 209

	)

214 
	#__NR_£Œesgid32
 210

	)

215 
	#__NR_g‘»sgid32
 211

	)

216 
	#__NR_chown32
 212

	)

217 
	#__NR_£tuid32
 213

	)

218 
	#__NR_£tgid32
 214

	)

219 
	#__NR_£tfsuid32
 215

	)

220 
	#__NR_£tfsgid32
 216

	)

221 
	#__NR_pivÙ_roÙ
 217

	)

222 
	#__NR_mšcÜe
 218

	)

223 
	#__NR_madvi£
 219

	)

224 
	#__NR_g‘d’ts64
 220

	)

225 
	#__NR_fú64
 221

	)

226 
	#__NR_g‘tid
 224

	)

227 
	#__NR_»adah—d
 225

	)

228 
	#__NR_£tx©Œ
 226

	)

229 
	#__NR_l£tx©Œ
 227

	)

230 
	#__NR_f£tx©Œ
 228

	)

231 
	#__NR_g‘x©Œ
 229

	)

232 
	#__NR_lg‘x©Œ
 230

	)

233 
	#__NR_fg‘x©Œ
 231

	)

234 
	#__NR_li¡x©Œ
 232

	)

235 
	#__NR_Îi¡x©Œ
 233

	)

236 
	#__NR_æi¡x©Œ
 234

	)

237 
	#__NR_»movex©Œ
 235

	)

238 
	#__NR_Ìemovex©Œ
 236

	)

239 
	#__NR_äemovex©Œ
 237

	)

240 
	#__NR_tkl
 238

	)

241 
	#__NR_£ndfe64
 239

	)

242 
	#__NR_fu‹x
 240

	)

243 
	#__NR_sched_£ffš™y
 241

	)

244 
	#__NR_sched_g‘affš™y
 242

	)

245 
	#__NR_£t_th»ad_¬—
 243

	)

246 
	#__NR_g‘_th»ad_¬—
 244

	)

247 
	#__NR_io_£tup
 245

	)

248 
	#__NR_io_de¡roy
 246

	)

249 
	#__NR_io_g‘ev’ts
 247

	)

250 
	#__NR_io_subm™
 248

	)

251 
	#__NR_io_ÿnûl
 249

	)

252 
	#__NR_çdvi£64
 250

	)

253 
	#__NR_ex™_group
 252

	)

254 
	#__NR_lookup_dcook›
 253

	)

255 
	#__NR_•Şl_ü—‹
 254

	)

256 
	#__NR_•Şl_ùl
 255

	)

257 
	#__NR_•Şl_wa™
 256

	)

258 
	#__NR_»m­_fe_·ges
 257

	)

259 
	#__NR_£t_tid_add»ss
 258

	)

260 
	#__NR_tim”_ü—‹
 259

	)

261 
	#__NR_tim”_£‰ime
 260

	)

262 
	#__NR_tim”_g‘time
 261

	)

263 
	#__NR_tim”_g‘ov”run
 262

	)

264 
	#__NR_tim”_d–‘e
 263

	)

265 
	#__NR_şock_£‰ime
 264

	)

266 
	#__NR_şock_g‘time
 265

	)

267 
	#__NR_şock_g‘»s
 266

	)

268 
	#__NR_şock_Çno¦“p
 267

	)

269 
	#__NR_¡©fs64
 268

	)

270 
	#__NR_f¡©fs64
 269

	)

271 
	#__NR_tgkl
 270

	)

272 
	#__NR_utimes
 271

	)

273 
	#__NR_çdvi£64_64
 272

	)

274 
	#__NR_v£rv”
 273

	)

275 
	#__NR_mbšd
 274

	)

276 
	#__NR_g‘_mempŞicy
 275

	)

277 
	#__NR_£t_mempŞicy
 276

	)

278 
	#__NR_mq_İ’
 277

	)

279 
	#__NR_mq_uÆšk
 278

	)

280 
	#__NR_mq_timed£nd
 279

	)

281 
	#__NR_mq_timed»ûive
 280

	)

282 
	#__NR_mq_nÙify
 281

	)

283 
	#__NR_mq_g‘£‰r
 282

	)

284 
	#__NR_kexec_lßd
 283

	)

285 
	#__NR_wa™id
 284

	)

286 
	#__NR_add_key
 286

	)

287 
	#__NR_»que¡_key
 287

	)

288 
	#__NR_keyùl
 288

	)

289 
	#__NR_iİrio_£t
 289

	)

290 
	#__NR_iİrio_g‘
 290

	)

291 
	#__NR_šÙify_š™
 291

	)

292 
	#__NR_šÙify_add_w©ch
 292

	)

293 
	#__NR_šÙify_rm_w©ch
 293

	)

294 
	#__NR_mig¿‹_·ges
 294

	)

295 
	#__NR_İ’©
 295

	)

296 
	#__NR_mkdœ©
 296

	)

297 
	#__NR_mknod©
 297

	)

298 
	#__NR_fchowÇt
 298

	)

299 
	#__NR_futime§t
 299

	)

300 
	#__NR_f¡©©64
 300

	)

301 
	#__NR_uÆšk©
 301

	)

302 
	#__NR_»Çm—t
 302

	)

303 
	#__NR_lšk©
 303

	)

304 
	#__NR_symlšk©
 304

	)

305 
	#__NR_»adlšk©
 305

	)

306 
	#__NR_fchmod©
 306

	)

307 
	#__NR_çcûs§t
 307

	)

308 
	#__NR_p£Ëù6
 308

	)

309 
	#__NR_µŞl
 309

	)

310 
	#__NR_unsh¬e
 310

	)

311 
	#__NR_£t_robu¡_li¡
 311

	)

312 
	#__NR_g‘_robu¡_li¡
 312

	)

313 
	#__NR_¥liû
 313

	)

314 
	#__NR_sync_fe_¿nge
 314

	)

315 
	#__NR_‹e
 315

	)

316 
	#__NR_vm¥liû
 316

	)

317 
	#__NR_move_·ges
 317

	)

318 
	#__NR_g‘ıu
 318

	)

319 
	#__NR_•Şl_pwa™
 319

	)

320 
	#__NR_utim’§t
 320

	)

321 
	#__NR_sigÇlfd
 321

	)

322 
	#__NR_tim”fd_ü—‹
 322

	)

323 
	#__NR_ev’tfd
 323

	)

324 
	#__NR_çÎoÿ‹
 324

	)

325 
	#__NR_tim”fd_£‰ime
 325

	)

326 
	#__NR_tim”fd_g‘time
 326

	)

327 
	#__NR_sigÇlfd4
 327

	)

328 
	#__NR_ev’tfd2
 328

	)

329 
	#__NR_•Şl_ü—‹1
 329

	)

330 
	#__NR_dup3
 330

	)

331 
	#__NR_pe2
 331

	)

332 
	#__NR_šÙify_š™1
 332

	)

333 
	#__NR_´—dv
 333

	)

334 
	#__NR_pwr™ev
 334

	)

335 
	#__NR_¹_tgsigqueuešfo
 335

	)

336 
	#__NR_³rf_ev’t_İ’
 336

	)

337 
	#__NR_»cvmmsg
 337

	)

338 
	#__NR_çnÙify_š™
 338

	)

339 
	#__NR_çnÙify_m¬k
 339

	)

340 
	#__NR_´lim™64
 340

	)

341 
	#__NR_Çme_to_hªdË_©
 341

	)

342 
	#__NR_İ’_by_hªdË_©
 342

	)

343 
	#__NR_şock_adjtime
 343

	)

344 
	#__NR_syncfs
 344

	)

345 
	#__NR_£ndmmsg
 345

	)

346 
	#__NR_£Šs
 346

	)

347 
	#__NR_´oûss_vm_»adv
 347

	)

348 
	#__NR_´oûss_vm_wr™ev
 348

	)

349 
	#__NR_kcmp
 349

	)

350 
	#__NR_fš™_moduË
 350

	)

	@/usr/include/asm/unistd_64.h

1 #iâdeà
_ASM_X86_UNISTD_64_H


2 
	#_ASM_X86_UNISTD_64_H
 1

	)

4 
	#__NR_»ad
 0

	)

5 
	#__NR_wr™e
 1

	)

6 
	#__NR_İ’
 2

	)

7 
	#__NR_şo£
 3

	)

8 
	#__NR_¡©
 4

	)

9 
	#__NR_f¡©
 5

	)

10 
	#__NR_l¡©
 6

	)

11 
	#__NR_pŞl
 7

	)

12 
	#__NR_l£ek
 8

	)

13 
	#__NR_mm­
 9

	)

14 
	#__NR_m´Ùeù
 10

	)

15 
	#__NR_munm­
 11

	)

16 
	#__NR_brk
 12

	)

17 
	#__NR_¹_sigaùiÚ
 13

	)

18 
	#__NR_¹_sig´ocmask
 14

	)

19 
	#__NR_¹_sig»tuº
 15

	)

20 
	#__NR_ioùl
 16

	)

21 
	#__NR_´—d64
 17

	)

22 
	#__NR_pwr™e64
 18

	)

23 
	#__NR_»adv
 19

	)

24 
	#__NR_wr™ev
 20

	)

25 
	#__NR_acûss
 21

	)

26 
	#__NR_pe
 22

	)

27 
	#__NR_£Ëù
 23

	)

28 
	#__NR_sched_y›ld
 24

	)

29 
	#__NR_m»m­
 25

	)

30 
	#__NR_msync
 26

	)

31 
	#__NR_mšcÜe
 27

	)

32 
	#__NR_madvi£
 28

	)

33 
	#__NR_shmg‘
 29

	)

34 
	#__NR_shm©
 30

	)

35 
	#__NR_shmùl
 31

	)

36 
	#__NR_dup
 32

	)

37 
	#__NR_dup2
 33

	)

38 
	#__NR_·u£
 34

	)

39 
	#__NR_Çno¦“p
 35

	)

40 
	#__NR_g‘™im”
 36

	)

41 
	#__NR_®¬m
 37

	)

42 
	#__NR_£t™im”
 38

	)

43 
	#__NR_g‘pid
 39

	)

44 
	#__NR_£ndfe
 40

	)

45 
	#__NR_sock‘
 41

	)

46 
	#__NR_cÚÃù
 42

	)

47 
	#__NR_acû±
 43

	)

48 
	#__NR_£ndto
 44

	)

49 
	#__NR_»cväom
 45

	)

50 
	#__NR_£ndmsg
 46

	)

51 
	#__NR_»cvmsg
 47

	)

52 
	#__NR_shutdown
 48

	)

53 
	#__NR_bšd
 49

	)

54 
	#__NR_li¡’
 50

	)

55 
	#__NR_g‘sockÇme
 51

	)

56 
	#__NR_g‘³”Çme
 52

	)

57 
	#__NR_sock‘·œ
 53

	)

58 
	#__NR_£tsockİt
 54

	)

59 
	#__NR_g‘sockİt
 55

	)

60 
	#__NR_şÚe
 56

	)

61 
	#__NR_fÜk
 57

	)

62 
	#__NR_vfÜk
 58

	)

63 
	#__NR_execve
 59

	)

64 
	#__NR_ex™
 60

	)

65 
	#__NR_wa™4
 61

	)

66 
	#__NR_kl
 62

	)

67 
	#__NR_uÇme
 63

	)

68 
	#__NR_£mg‘
 64

	)

69 
	#__NR_£mİ
 65

	)

70 
	#__NR_£mùl
 66

	)

71 
	#__NR_shmdt
 67

	)

72 
	#__NR_msgg‘
 68

	)

73 
	#__NR_msg¢d
 69

	)

74 
	#__NR_msgrcv
 70

	)

75 
	#__NR_msgùl
 71

	)

76 
	#__NR_fú
 72

	)

77 
	#__NR_æock
 73

	)

78 
	#__NR_fsync
 74

	)

79 
	#__NR_fd©async
 75

	)

80 
	#__NR_Œunÿ‹
 76

	)

81 
	#__NR_árunÿ‹
 77

	)

82 
	#__NR_g‘d’ts
 78

	)

83 
	#__NR_g‘cwd
 79

	)

84 
	#__NR_chdœ
 80

	)

85 
	#__NR_fchdœ
 81

	)

86 
	#__NR_»Çme
 82

	)

87 
	#__NR_mkdœ
 83

	)

88 
	#__NR_rmdœ
 84

	)

89 
	#__NR_ü—t
 85

	)

90 
	#__NR_lšk
 86

	)

91 
	#__NR_uÆšk
 87

	)

92 
	#__NR_symlšk
 88

	)

93 
	#__NR_»adlšk
 89

	)

94 
	#__NR_chmod
 90

	)

95 
	#__NR_fchmod
 91

	)

96 
	#__NR_chown
 92

	)

97 
	#__NR_fchown
 93

	)

98 
	#__NR_lchown
 94

	)

99 
	#__NR_umask
 95

	)

100 
	#__NR_g‘timeofday
 96

	)

101 
	#__NR_g‘¾im™
 97

	)

102 
	#__NR_g‘ru§ge
 98

	)

103 
	#__NR_sysšfo
 99

	)

104 
	#__NR_times
 100

	)

105 
	#__NR_±¿û
 101

	)

106 
	#__NR_g‘uid
 102

	)

107 
	#__NR_sy¦og
 103

	)

108 
	#__NR_g‘gid
 104

	)

109 
	#__NR_£tuid
 105

	)

110 
	#__NR_£tgid
 106

	)

111 
	#__NR_g‘euid
 107

	)

112 
	#__NR_g‘egid
 108

	)

113 
	#__NR_£gid
 109

	)

114 
	#__NR_g‘µid
 110

	)

115 
	#__NR_g‘pg½
 111

	)

116 
	#__NR_£tsid
 112

	)

117 
	#__NR_£Œeuid
 113

	)

118 
	#__NR_£Œegid
 114

	)

119 
	#__NR_g‘groups
 115

	)

120 
	#__NR_£tgroups
 116

	)

121 
	#__NR_£Œesuid
 117

	)

122 
	#__NR_g‘»suid
 118

	)

123 
	#__NR_£Œesgid
 119

	)

124 
	#__NR_g‘»sgid
 120

	)

125 
	#__NR_g‘pgid
 121

	)

126 
	#__NR_£tfsuid
 122

	)

127 
	#__NR_£tfsgid
 123

	)

128 
	#__NR_g‘sid
 124

	)

129 
	#__NR_ÿpg‘
 125

	)

130 
	#__NR_ÿp£t
 126

	)

131 
	#__NR_¹_sig³ndšg
 127

	)

132 
	#__NR_¹_sigtimedwa™
 128

	)

133 
	#__NR_¹_sigqueuešfo
 129

	)

134 
	#__NR_¹_sigsu¥’d
 130

	)

135 
	#__NR_sig®t¡ack
 131

	)

136 
	#__NR_utime
 132

	)

137 
	#__NR_mknod
 133

	)

138 
	#__NR_u£lib
 134

	)

139 
	#__NR_³rsÚ®™y
 135

	)

140 
	#__NR_u¡©
 136

	)

141 
	#__NR_¡©fs
 137

	)

142 
	#__NR_f¡©fs
 138

	)

143 
	#__NR_sysfs
 139

	)

144 
	#__NR_g‘´iÜ™y
 140

	)

145 
	#__NR_£riÜ™y
 141

	)

146 
	#__NR_sched_£¬am
 142

	)

147 
	#__NR_sched_g‘·¿m
 143

	)

148 
	#__NR_sched_£tscheduËr
 144

	)

149 
	#__NR_sched_g‘scheduËr
 145

	)

150 
	#__NR_sched_g‘_´iÜ™y_max
 146

	)

151 
	#__NR_sched_g‘_´iÜ™y_mš
 147

	)

152 
	#__NR_sched_¼_g‘_š‹rv®
 148

	)

153 
	#__NR_mlock
 149

	)

154 
	#__NR_muÆock
 150

	)

155 
	#__NR_mlock®l
 151

	)

156 
	#__NR_muÆock®l
 152

	)

157 
	#__NR_vhªgup
 153

	)

158 
	#__NR_modify_ldt
 154

	)

159 
	#__NR_pivÙ_roÙ
 155

	)

160 
	#__NR__sysùl
 156

	)

161 
	#__NR_´ùl
 157

	)

162 
	#__NR_¬ch_´ùl
 158

	)

163 
	#__NR_adjtimex
 159

	)

164 
	#__NR_£Œlim™
 160

	)

165 
	#__NR_chroÙ
 161

	)

166 
	#__NR_sync
 162

	)

167 
	#__NR_acù
 163

	)

168 
	#__NR_£‰imeofday
 164

	)

169 
	#__NR_mouÁ
 165

	)

170 
	#__NR_umouÁ2
 166

	)

171 
	#__NR_sw­Ú
 167

	)

172 
	#__NR_sw­off
 168

	)

173 
	#__NR_»boÙ
 169

	)

174 
	#__NR_£tho¡Çme
 170

	)

175 
	#__NR_£tdomašÇme
 171

	)

176 
	#__NR_iİl
 172

	)

177 
	#__NR_iİ”m
 173

	)

178 
	#__NR_ü—‹_moduË
 174

	)

179 
	#__NR_š™_moduË
 175

	)

180 
	#__NR_d–‘e_moduË
 176

	)

181 
	#__NR_g‘_k”Ãl_syms
 177

	)

182 
	#__NR_qu”y_moduË
 178

	)

183 
	#__NR_quÙaùl
 179

	)

184 
	#__NR_nfs£rvùl
 180

	)

185 
	#__NR_g‘pmsg
 181

	)

186 
	#__NR_pumsg
 182

	)

187 
	#__NR_afs_sysÿÎ
 183

	)

188 
	#__NR_tuxÿÎ
 184

	)

189 
	#__NR_£cur™y
 185

	)

190 
	#__NR_g‘tid
 186

	)

191 
	#__NR_»adah—d
 187

	)

192 
	#__NR_£tx©Œ
 188

	)

193 
	#__NR_l£tx©Œ
 189

	)

194 
	#__NR_f£tx©Œ
 190

	)

195 
	#__NR_g‘x©Œ
 191

	)

196 
	#__NR_lg‘x©Œ
 192

	)

197 
	#__NR_fg‘x©Œ
 193

	)

198 
	#__NR_li¡x©Œ
 194

	)

199 
	#__NR_Îi¡x©Œ
 195

	)

200 
	#__NR_æi¡x©Œ
 196

	)

201 
	#__NR_»movex©Œ
 197

	)

202 
	#__NR_Ìemovex©Œ
 198

	)

203 
	#__NR_äemovex©Œ
 199

	)

204 
	#__NR_tkl
 200

	)

205 
	#__NR_time
 201

	)

206 
	#__NR_fu‹x
 202

	)

207 
	#__NR_sched_£ffš™y
 203

	)

208 
	#__NR_sched_g‘affš™y
 204

	)

209 
	#__NR_£t_th»ad_¬—
 205

	)

210 
	#__NR_io_£tup
 206

	)

211 
	#__NR_io_de¡roy
 207

	)

212 
	#__NR_io_g‘ev’ts
 208

	)

213 
	#__NR_io_subm™
 209

	)

214 
	#__NR_io_ÿnûl
 210

	)

215 
	#__NR_g‘_th»ad_¬—
 211

	)

216 
	#__NR_lookup_dcook›
 212

	)

217 
	#__NR_•Şl_ü—‹
 213

	)

218 
	#__NR_•Şl_ùl_Şd
 214

	)

219 
	#__NR_•Şl_wa™_Şd
 215

	)

220 
	#__NR_»m­_fe_·ges
 216

	)

221 
	#__NR_g‘d’ts64
 217

	)

222 
	#__NR_£t_tid_add»ss
 218

	)

223 
	#__NR_»¡¬t_sysÿÎ
 219

	)

224 
	#__NR_£mtimedİ
 220

	)

225 
	#__NR_çdvi£64
 221

	)

226 
	#__NR_tim”_ü—‹
 222

	)

227 
	#__NR_tim”_£‰ime
 223

	)

228 
	#__NR_tim”_g‘time
 224

	)

229 
	#__NR_tim”_g‘ov”run
 225

	)

230 
	#__NR_tim”_d–‘e
 226

	)

231 
	#__NR_şock_£‰ime
 227

	)

232 
	#__NR_şock_g‘time
 228

	)

233 
	#__NR_şock_g‘»s
 229

	)

234 
	#__NR_şock_Çno¦“p
 230

	)

235 
	#__NR_ex™_group
 231

	)

236 
	#__NR_•Şl_wa™
 232

	)

237 
	#__NR_•Şl_ùl
 233

	)

238 
	#__NR_tgkl
 234

	)

239 
	#__NR_utimes
 235

	)

240 
	#__NR_v£rv”
 236

	)

241 
	#__NR_mbšd
 237

	)

242 
	#__NR_£t_mempŞicy
 238

	)

243 
	#__NR_g‘_mempŞicy
 239

	)

244 
	#__NR_mq_İ’
 240

	)

245 
	#__NR_mq_uÆšk
 241

	)

246 
	#__NR_mq_timed£nd
 242

	)

247 
	#__NR_mq_timed»ûive
 243

	)

248 
	#__NR_mq_nÙify
 244

	)

249 
	#__NR_mq_g‘£‰r
 245

	)

250 
	#__NR_kexec_lßd
 246

	)

251 
	#__NR_wa™id
 247

	)

252 
	#__NR_add_key
 248

	)

253 
	#__NR_»que¡_key
 249

	)

254 
	#__NR_keyùl
 250

	)

255 
	#__NR_iİrio_£t
 251

	)

256 
	#__NR_iİrio_g‘
 252

	)

257 
	#__NR_šÙify_š™
 253

	)

258 
	#__NR_šÙify_add_w©ch
 254

	)

259 
	#__NR_šÙify_rm_w©ch
 255

	)

260 
	#__NR_mig¿‹_·ges
 256

	)

261 
	#__NR_İ’©
 257

	)

262 
	#__NR_mkdœ©
 258

	)

263 
	#__NR_mknod©
 259

	)

264 
	#__NR_fchowÇt
 260

	)

265 
	#__NR_futime§t
 261

	)

266 
	#__NR_Ãwf¡©©
 262

	)

267 
	#__NR_uÆšk©
 263

	)

268 
	#__NR_»Çm—t
 264

	)

269 
	#__NR_lšk©
 265

	)

270 
	#__NR_symlšk©
 266

	)

271 
	#__NR_»adlšk©
 267

	)

272 
	#__NR_fchmod©
 268

	)

273 
	#__NR_çcûs§t
 269

	)

274 
	#__NR_p£Ëù6
 270

	)

275 
	#__NR_µŞl
 271

	)

276 
	#__NR_unsh¬e
 272

	)

277 
	#__NR_£t_robu¡_li¡
 273

	)

278 
	#__NR_g‘_robu¡_li¡
 274

	)

279 
	#__NR_¥liû
 275

	)

280 
	#__NR_‹e
 276

	)

281 
	#__NR_sync_fe_¿nge
 277

	)

282 
	#__NR_vm¥liû
 278

	)

283 
	#__NR_move_·ges
 279

	)

284 
	#__NR_utim’§t
 280

	)

285 
	#__NR_•Şl_pwa™
 281

	)

286 
	#__NR_sigÇlfd
 282

	)

287 
	#__NR_tim”fd_ü—‹
 283

	)

288 
	#__NR_ev’tfd
 284

	)

289 
	#__NR_çÎoÿ‹
 285

	)

290 
	#__NR_tim”fd_£‰ime
 286

	)

291 
	#__NR_tim”fd_g‘time
 287

	)

292 
	#__NR_acû±4
 288

	)

293 
	#__NR_sigÇlfd4
 289

	)

294 
	#__NR_ev’tfd2
 290

	)

295 
	#__NR_•Şl_ü—‹1
 291

	)

296 
	#__NR_dup3
 292

	)

297 
	#__NR_pe2
 293

	)

298 
	#__NR_šÙify_š™1
 294

	)

299 
	#__NR_´—dv
 295

	)

300 
	#__NR_pwr™ev
 296

	)

301 
	#__NR_¹_tgsigqueuešfo
 297

	)

302 
	#__NR_³rf_ev’t_İ’
 298

	)

303 
	#__NR_»cvmmsg
 299

	)

304 
	#__NR_çnÙify_š™
 300

	)

305 
	#__NR_çnÙify_m¬k
 301

	)

306 
	#__NR_´lim™64
 302

	)

307 
	#__NR_Çme_to_hªdË_©
 303

	)

308 
	#__NR_İ’_by_hªdË_©
 304

	)

309 
	#__NR_şock_adjtime
 305

	)

310 
	#__NR_syncfs
 306

	)

311 
	#__NR_£ndmmsg
 307

	)

312 
	#__NR_£Šs
 308

	)

313 
	#__NR_g‘ıu
 309

	)

314 
	#__NR_´oûss_vm_»adv
 310

	)

315 
	#__NR_´oûss_vm_wr™ev
 311

	)

316 
	#__NR_kcmp
 312

	)

317 
	#__NR_fš™_moduË
 313

	)

	@/usr/include/asm/unistd_x32.h

1 #iâdeà
_ASM_X86_UNISTD_X32_H


2 
	#_ASM_X86_UNISTD_X32_H
 1

	)

4 
	#__NR_»ad
 (
__X32_SYSCALL_BIT
 + 0)

	)

5 
	#__NR_wr™e
 (
__X32_SYSCALL_BIT
 + 1)

	)

6 
	#__NR_İ’
 (
__X32_SYSCALL_BIT
 + 2)

	)

7 
	#__NR_şo£
 (
__X32_SYSCALL_BIT
 + 3)

	)

8 
	#__NR_¡©
 (
__X32_SYSCALL_BIT
 + 4)

	)

9 
	#__NR_f¡©
 (
__X32_SYSCALL_BIT
 + 5)

	)

10 
	#__NR_l¡©
 (
__X32_SYSCALL_BIT
 + 6)

	)

11 
	#__NR_pŞl
 (
__X32_SYSCALL_BIT
 + 7)

	)

12 
	#__NR_l£ek
 (
__X32_SYSCALL_BIT
 + 8)

	)

13 
	#__NR_mm­
 (
__X32_SYSCALL_BIT
 + 9)

	)

14 
	#__NR_m´Ùeù
 (
__X32_SYSCALL_BIT
 + 10)

	)

15 
	#__NR_munm­
 (
__X32_SYSCALL_BIT
 + 11)

	)

16 
	#__NR_brk
 (
__X32_SYSCALL_BIT
 + 12)

	)

17 
	#__NR_¹_sig´ocmask
 (
__X32_SYSCALL_BIT
 + 14)

	)

18 
	#__NR_´—d64
 (
__X32_SYSCALL_BIT
 + 17)

	)

19 
	#__NR_pwr™e64
 (
__X32_SYSCALL_BIT
 + 18)

	)

20 
	#__NR_acûss
 (
__X32_SYSCALL_BIT
 + 21)

	)

21 
	#__NR_pe
 (
__X32_SYSCALL_BIT
 + 22)

	)

22 
	#__NR_£Ëù
 (
__X32_SYSCALL_BIT
 + 23)

	)

23 
	#__NR_sched_y›ld
 (
__X32_SYSCALL_BIT
 + 24)

	)

24 
	#__NR_m»m­
 (
__X32_SYSCALL_BIT
 + 25)

	)

25 
	#__NR_msync
 (
__X32_SYSCALL_BIT
 + 26)

	)

26 
	#__NR_mšcÜe
 (
__X32_SYSCALL_BIT
 + 27)

	)

27 
	#__NR_madvi£
 (
__X32_SYSCALL_BIT
 + 28)

	)

28 
	#__NR_shmg‘
 (
__X32_SYSCALL_BIT
 + 29)

	)

29 
	#__NR_shm©
 (
__X32_SYSCALL_BIT
 + 30)

	)

30 
	#__NR_shmùl
 (
__X32_SYSCALL_BIT
 + 31)

	)

31 
	#__NR_dup
 (
__X32_SYSCALL_BIT
 + 32)

	)

32 
	#__NR_dup2
 (
__X32_SYSCALL_BIT
 + 33)

	)

33 
	#__NR_·u£
 (
__X32_SYSCALL_BIT
 + 34)

	)

34 
	#__NR_Çno¦“p
 (
__X32_SYSCALL_BIT
 + 35)

	)

35 
	#__NR_g‘™im”
 (
__X32_SYSCALL_BIT
 + 36)

	)

36 
	#__NR_®¬m
 (
__X32_SYSCALL_BIT
 + 37)

	)

37 
	#__NR_£t™im”
 (
__X32_SYSCALL_BIT
 + 38)

	)

38 
	#__NR_g‘pid
 (
__X32_SYSCALL_BIT
 + 39)

	)

39 
	#__NR_£ndfe
 (
__X32_SYSCALL_BIT
 + 40)

	)

40 
	#__NR_sock‘
 (
__X32_SYSCALL_BIT
 + 41)

	)

41 
	#__NR_cÚÃù
 (
__X32_SYSCALL_BIT
 + 42)

	)

42 
	#__NR_acû±
 (
__X32_SYSCALL_BIT
 + 43)

	)

43 
	#__NR_£ndto
 (
__X32_SYSCALL_BIT
 + 44)

	)

44 
	#__NR_shutdown
 (
__X32_SYSCALL_BIT
 + 48)

	)

45 
	#__NR_bšd
 (
__X32_SYSCALL_BIT
 + 49)

	)

46 
	#__NR_li¡’
 (
__X32_SYSCALL_BIT
 + 50)

	)

47 
	#__NR_g‘sockÇme
 (
__X32_SYSCALL_BIT
 + 51)

	)

48 
	#__NR_g‘³”Çme
 (
__X32_SYSCALL_BIT
 + 52)

	)

49 
	#__NR_sock‘·œ
 (
__X32_SYSCALL_BIT
 + 53)

	)

50 
	#__NR_şÚe
 (
__X32_SYSCALL_BIT
 + 56)

	)

51 
	#__NR_fÜk
 (
__X32_SYSCALL_BIT
 + 57)

	)

52 
	#__NR_vfÜk
 (
__X32_SYSCALL_BIT
 + 58)

	)

53 
	#__NR_ex™
 (
__X32_SYSCALL_BIT
 + 60)

	)

54 
	#__NR_wa™4
 (
__X32_SYSCALL_BIT
 + 61)

	)

55 
	#__NR_kl
 (
__X32_SYSCALL_BIT
 + 62)

	)

56 
	#__NR_uÇme
 (
__X32_SYSCALL_BIT
 + 63)

	)

57 
	#__NR_£mg‘
 (
__X32_SYSCALL_BIT
 + 64)

	)

58 
	#__NR_£mİ
 (
__X32_SYSCALL_BIT
 + 65)

	)

59 
	#__NR_£mùl
 (
__X32_SYSCALL_BIT
 + 66)

	)

60 
	#__NR_shmdt
 (
__X32_SYSCALL_BIT
 + 67)

	)

61 
	#__NR_msgg‘
 (
__X32_SYSCALL_BIT
 + 68)

	)

62 
	#__NR_msg¢d
 (
__X32_SYSCALL_BIT
 + 69)

	)

63 
	#__NR_msgrcv
 (
__X32_SYSCALL_BIT
 + 70)

	)

64 
	#__NR_msgùl
 (
__X32_SYSCALL_BIT
 + 71)

	)

65 
	#__NR_fú
 (
__X32_SYSCALL_BIT
 + 72)

	)

66 
	#__NR_æock
 (
__X32_SYSCALL_BIT
 + 73)

	)

67 
	#__NR_fsync
 (
__X32_SYSCALL_BIT
 + 74)

	)

68 
	#__NR_fd©async
 (
__X32_SYSCALL_BIT
 + 75)

	)

69 
	#__NR_Œunÿ‹
 (
__X32_SYSCALL_BIT
 + 76)

	)

70 
	#__NR_árunÿ‹
 (
__X32_SYSCALL_BIT
 + 77)

	)

71 
	#__NR_g‘d’ts
 (
__X32_SYSCALL_BIT
 + 78)

	)

72 
	#__NR_g‘cwd
 (
__X32_SYSCALL_BIT
 + 79)

	)

73 
	#__NR_chdœ
 (
__X32_SYSCALL_BIT
 + 80)

	)

74 
	#__NR_fchdœ
 (
__X32_SYSCALL_BIT
 + 81)

	)

75 
	#__NR_»Çme
 (
__X32_SYSCALL_BIT
 + 82)

	)

76 
	#__NR_mkdœ
 (
__X32_SYSCALL_BIT
 + 83)

	)

77 
	#__NR_rmdœ
 (
__X32_SYSCALL_BIT
 + 84)

	)

78 
	#__NR_ü—t
 (
__X32_SYSCALL_BIT
 + 85)

	)

79 
	#__NR_lšk
 (
__X32_SYSCALL_BIT
 + 86)

	)

80 
	#__NR_uÆšk
 (
__X32_SYSCALL_BIT
 + 87)

	)

81 
	#__NR_symlšk
 (
__X32_SYSCALL_BIT
 + 88)

	)

82 
	#__NR_»adlšk
 (
__X32_SYSCALL_BIT
 + 89)

	)

83 
	#__NR_chmod
 (
__X32_SYSCALL_BIT
 + 90)

	)

84 
	#__NR_fchmod
 (
__X32_SYSCALL_BIT
 + 91)

	)

85 
	#__NR_chown
 (
__X32_SYSCALL_BIT
 + 92)

	)

86 
	#__NR_fchown
 (
__X32_SYSCALL_BIT
 + 93)

	)

87 
	#__NR_lchown
 (
__X32_SYSCALL_BIT
 + 94)

	)

88 
	#__NR_umask
 (
__X32_SYSCALL_BIT
 + 95)

	)

89 
	#__NR_g‘timeofday
 (
__X32_SYSCALL_BIT
 + 96)

	)

90 
	#__NR_g‘¾im™
 (
__X32_SYSCALL_BIT
 + 97)

	)

91 
	#__NR_g‘ru§ge
 (
__X32_SYSCALL_BIT
 + 98)

	)

92 
	#__NR_sysšfo
 (
__X32_SYSCALL_BIT
 + 99)

	)

93 
	#__NR_times
 (
__X32_SYSCALL_BIT
 + 100)

	)

94 
	#__NR_g‘uid
 (
__X32_SYSCALL_BIT
 + 102)

	)

95 
	#__NR_sy¦og
 (
__X32_SYSCALL_BIT
 + 103)

	)

96 
	#__NR_g‘gid
 (
__X32_SYSCALL_BIT
 + 104)

	)

97 
	#__NR_£tuid
 (
__X32_SYSCALL_BIT
 + 105)

	)

98 
	#__NR_£tgid
 (
__X32_SYSCALL_BIT
 + 106)

	)

99 
	#__NR_g‘euid
 (
__X32_SYSCALL_BIT
 + 107)

	)

100 
	#__NR_g‘egid
 (
__X32_SYSCALL_BIT
 + 108)

	)

101 
	#__NR_£gid
 (
__X32_SYSCALL_BIT
 + 109)

	)

102 
	#__NR_g‘µid
 (
__X32_SYSCALL_BIT
 + 110)

	)

103 
	#__NR_g‘pg½
 (
__X32_SYSCALL_BIT
 + 111)

	)

104 
	#__NR_£tsid
 (
__X32_SYSCALL_BIT
 + 112)

	)

105 
	#__NR_£Œeuid
 (
__X32_SYSCALL_BIT
 + 113)

	)

106 
	#__NR_£Œegid
 (
__X32_SYSCALL_BIT
 + 114)

	)

107 
	#__NR_g‘groups
 (
__X32_SYSCALL_BIT
 + 115)

	)

108 
	#__NR_£tgroups
 (
__X32_SYSCALL_BIT
 + 116)

	)

109 
	#__NR_£Œesuid
 (
__X32_SYSCALL_BIT
 + 117)

	)

110 
	#__NR_g‘»suid
 (
__X32_SYSCALL_BIT
 + 118)

	)

111 
	#__NR_£Œesgid
 (
__X32_SYSCALL_BIT
 + 119)

	)

112 
	#__NR_g‘»sgid
 (
__X32_SYSCALL_BIT
 + 120)

	)

113 
	#__NR_g‘pgid
 (
__X32_SYSCALL_BIT
 + 121)

	)

114 
	#__NR_£tfsuid
 (
__X32_SYSCALL_BIT
 + 122)

	)

115 
	#__NR_£tfsgid
 (
__X32_SYSCALL_BIT
 + 123)

	)

116 
	#__NR_g‘sid
 (
__X32_SYSCALL_BIT
 + 124)

	)

117 
	#__NR_ÿpg‘
 (
__X32_SYSCALL_BIT
 + 125)

	)

118 
	#__NR_ÿp£t
 (
__X32_SYSCALL_BIT
 + 126)

	)

119 
	#__NR_¹_sigsu¥’d
 (
__X32_SYSCALL_BIT
 + 130)

	)

120 
	#__NR_utime
 (
__X32_SYSCALL_BIT
 + 132)

	)

121 
	#__NR_mknod
 (
__X32_SYSCALL_BIT
 + 133)

	)

122 
	#__NR_³rsÚ®™y
 (
__X32_SYSCALL_BIT
 + 135)

	)

123 
	#__NR_u¡©
 (
__X32_SYSCALL_BIT
 + 136)

	)

124 
	#__NR_¡©fs
 (
__X32_SYSCALL_BIT
 + 137)

	)

125 
	#__NR_f¡©fs
 (
__X32_SYSCALL_BIT
 + 138)

	)

126 
	#__NR_sysfs
 (
__X32_SYSCALL_BIT
 + 139)

	)

127 
	#__NR_g‘´iÜ™y
 (
__X32_SYSCALL_BIT
 + 140)

	)

128 
	#__NR_£riÜ™y
 (
__X32_SYSCALL_BIT
 + 141)

	)

129 
	#__NR_sched_£¬am
 (
__X32_SYSCALL_BIT
 + 142)

	)

130 
	#__NR_sched_g‘·¿m
 (
__X32_SYSCALL_BIT
 + 143)

	)

131 
	#__NR_sched_£tscheduËr
 (
__X32_SYSCALL_BIT
 + 144)

	)

132 
	#__NR_sched_g‘scheduËr
 (
__X32_SYSCALL_BIT
 + 145)

	)

133 
	#__NR_sched_g‘_´iÜ™y_max
 (
__X32_SYSCALL_BIT
 + 146)

	)

134 
	#__NR_sched_g‘_´iÜ™y_mš
 (
__X32_SYSCALL_BIT
 + 147)

	)

135 
	#__NR_sched_¼_g‘_š‹rv®
 (
__X32_SYSCALL_BIT
 + 148)

	)

136 
	#__NR_mlock
 (
__X32_SYSCALL_BIT
 + 149)

	)

137 
	#__NR_muÆock
 (
__X32_SYSCALL_BIT
 + 150)

	)

138 
	#__NR_mlock®l
 (
__X32_SYSCALL_BIT
 + 151)

	)

139 
	#__NR_muÆock®l
 (
__X32_SYSCALL_BIT
 + 152)

	)

140 
	#__NR_vhªgup
 (
__X32_SYSCALL_BIT
 + 153)

	)

141 
	#__NR_modify_ldt
 (
__X32_SYSCALL_BIT
 + 154)

	)

142 
	#__NR_pivÙ_roÙ
 (
__X32_SYSCALL_BIT
 + 155)

	)

143 
	#__NR_´ùl
 (
__X32_SYSCALL_BIT
 + 157)

	)

144 
	#__NR_¬ch_´ùl
 (
__X32_SYSCALL_BIT
 + 158)

	)

145 
	#__NR_adjtimex
 (
__X32_SYSCALL_BIT
 + 159)

	)

146 
	#__NR_£Œlim™
 (
__X32_SYSCALL_BIT
 + 160)

	)

147 
	#__NR_chroÙ
 (
__X32_SYSCALL_BIT
 + 161)

	)

148 
	#__NR_sync
 (
__X32_SYSCALL_BIT
 + 162)

	)

149 
	#__NR_acù
 (
__X32_SYSCALL_BIT
 + 163)

	)

150 
	#__NR_£‰imeofday
 (
__X32_SYSCALL_BIT
 + 164)

	)

151 
	#__NR_mouÁ
 (
__X32_SYSCALL_BIT
 + 165)

	)

152 
	#__NR_umouÁ2
 (
__X32_SYSCALL_BIT
 + 166)

	)

153 
	#__NR_sw­Ú
 (
__X32_SYSCALL_BIT
 + 167)

	)

154 
	#__NR_sw­off
 (
__X32_SYSCALL_BIT
 + 168)

	)

155 
	#__NR_»boÙ
 (
__X32_SYSCALL_BIT
 + 169)

	)

156 
	#__NR_£tho¡Çme
 (
__X32_SYSCALL_BIT
 + 170)

	)

157 
	#__NR_£tdomašÇme
 (
__X32_SYSCALL_BIT
 + 171)

	)

158 
	#__NR_iİl
 (
__X32_SYSCALL_BIT
 + 172)

	)

159 
	#__NR_iİ”m
 (
__X32_SYSCALL_BIT
 + 173)

	)

160 
	#__NR_š™_moduË
 (
__X32_SYSCALL_BIT
 + 175)

	)

161 
	#__NR_d–‘e_moduË
 (
__X32_SYSCALL_BIT
 + 176)

	)

162 
	#__NR_quÙaùl
 (
__X32_SYSCALL_BIT
 + 179)

	)

163 
	#__NR_g‘pmsg
 (
__X32_SYSCALL_BIT
 + 181)

	)

164 
	#__NR_pumsg
 (
__X32_SYSCALL_BIT
 + 182)

	)

165 
	#__NR_afs_sysÿÎ
 (
__X32_SYSCALL_BIT
 + 183)

	)

166 
	#__NR_tuxÿÎ
 (
__X32_SYSCALL_BIT
 + 184)

	)

167 
	#__NR_£cur™y
 (
__X32_SYSCALL_BIT
 + 185)

	)

168 
	#__NR_g‘tid
 (
__X32_SYSCALL_BIT
 + 186)

	)

169 
	#__NR_»adah—d
 (
__X32_SYSCALL_BIT
 + 187)

	)

170 
	#__NR_£tx©Œ
 (
__X32_SYSCALL_BIT
 + 188)

	)

171 
	#__NR_l£tx©Œ
 (
__X32_SYSCALL_BIT
 + 189)

	)

172 
	#__NR_f£tx©Œ
 (
__X32_SYSCALL_BIT
 + 190)

	)

173 
	#__NR_g‘x©Œ
 (
__X32_SYSCALL_BIT
 + 191)

	)

174 
	#__NR_lg‘x©Œ
 (
__X32_SYSCALL_BIT
 + 192)

	)

175 
	#__NR_fg‘x©Œ
 (
__X32_SYSCALL_BIT
 + 193)

	)

176 
	#__NR_li¡x©Œ
 (
__X32_SYSCALL_BIT
 + 194)

	)

177 
	#__NR_Îi¡x©Œ
 (
__X32_SYSCALL_BIT
 + 195)

	)

178 
	#__NR_æi¡x©Œ
 (
__X32_SYSCALL_BIT
 + 196)

	)

179 
	#__NR_»movex©Œ
 (
__X32_SYSCALL_BIT
 + 197)

	)

180 
	#__NR_Ìemovex©Œ
 (
__X32_SYSCALL_BIT
 + 198)

	)

181 
	#__NR_äemovex©Œ
 (
__X32_SYSCALL_BIT
 + 199)

	)

182 
	#__NR_tkl
 (
__X32_SYSCALL_BIT
 + 200)

	)

183 
	#__NR_time
 (
__X32_SYSCALL_BIT
 + 201)

	)

184 
	#__NR_fu‹x
 (
__X32_SYSCALL_BIT
 + 202)

	)

185 
	#__NR_sched_£ffš™y
 (
__X32_SYSCALL_BIT
 + 203)

	)

186 
	#__NR_sched_g‘affš™y
 (
__X32_SYSCALL_BIT
 + 204)

	)

187 
	#__NR_io_£tup
 (
__X32_SYSCALL_BIT
 + 206)

	)

188 
	#__NR_io_de¡roy
 (
__X32_SYSCALL_BIT
 + 207)

	)

189 
	#__NR_io_g‘ev’ts
 (
__X32_SYSCALL_BIT
 + 208)

	)

190 
	#__NR_io_subm™
 (
__X32_SYSCALL_BIT
 + 209)

	)

191 
	#__NR_io_ÿnûl
 (
__X32_SYSCALL_BIT
 + 210)

	)

192 
	#__NR_lookup_dcook›
 (
__X32_SYSCALL_BIT
 + 212)

	)

193 
	#__NR_•Şl_ü—‹
 (
__X32_SYSCALL_BIT
 + 213)

	)

194 
	#__NR_»m­_fe_·ges
 (
__X32_SYSCALL_BIT
 + 216)

	)

195 
	#__NR_g‘d’ts64
 (
__X32_SYSCALL_BIT
 + 217)

	)

196 
	#__NR_£t_tid_add»ss
 (
__X32_SYSCALL_BIT
 + 218)

	)

197 
	#__NR_»¡¬t_sysÿÎ
 (
__X32_SYSCALL_BIT
 + 219)

	)

198 
	#__NR_£mtimedİ
 (
__X32_SYSCALL_BIT
 + 220)

	)

199 
	#__NR_çdvi£64
 (
__X32_SYSCALL_BIT
 + 221)

	)

200 
	#__NR_tim”_£‰ime
 (
__X32_SYSCALL_BIT
 + 223)

	)

201 
	#__NR_tim”_g‘time
 (
__X32_SYSCALL_BIT
 + 224)

	)

202 
	#__NR_tim”_g‘ov”run
 (
__X32_SYSCALL_BIT
 + 225)

	)

203 
	#__NR_tim”_d–‘e
 (
__X32_SYSCALL_BIT
 + 226)

	)

204 
	#__NR_şock_£‰ime
 (
__X32_SYSCALL_BIT
 + 227)

	)

205 
	#__NR_şock_g‘time
 (
__X32_SYSCALL_BIT
 + 228)

	)

206 
	#__NR_şock_g‘»s
 (
__X32_SYSCALL_BIT
 + 229)

	)

207 
	#__NR_şock_Çno¦“p
 (
__X32_SYSCALL_BIT
 + 230)

	)

208 
	#__NR_ex™_group
 (
__X32_SYSCALL_BIT
 + 231)

	)

209 
	#__NR_•Şl_wa™
 (
__X32_SYSCALL_BIT
 + 232)

	)

210 
	#__NR_•Şl_ùl
 (
__X32_SYSCALL_BIT
 + 233)

	)

211 
	#__NR_tgkl
 (
__X32_SYSCALL_BIT
 + 234)

	)

212 
	#__NR_utimes
 (
__X32_SYSCALL_BIT
 + 235)

	)

213 
	#__NR_mbšd
 (
__X32_SYSCALL_BIT
 + 237)

	)

214 
	#__NR_£t_mempŞicy
 (
__X32_SYSCALL_BIT
 + 238)

	)

215 
	#__NR_g‘_mempŞicy
 (
__X32_SYSCALL_BIT
 + 239)

	)

216 
	#__NR_mq_İ’
 (
__X32_SYSCALL_BIT
 + 240)

	)

217 
	#__NR_mq_uÆšk
 (
__X32_SYSCALL_BIT
 + 241)

	)

218 
	#__NR_mq_timed£nd
 (
__X32_SYSCALL_BIT
 + 242)

	)

219 
	#__NR_mq_timed»ûive
 (
__X32_SYSCALL_BIT
 + 243)

	)

220 
	#__NR_mq_g‘£‰r
 (
__X32_SYSCALL_BIT
 + 245)

	)

221 
	#__NR_add_key
 (
__X32_SYSCALL_BIT
 + 248)

	)

222 
	#__NR_»que¡_key
 (
__X32_SYSCALL_BIT
 + 249)

	)

223 
	#__NR_keyùl
 (
__X32_SYSCALL_BIT
 + 250)

	)

224 
	#__NR_iİrio_£t
 (
__X32_SYSCALL_BIT
 + 251)

	)

225 
	#__NR_iİrio_g‘
 (
__X32_SYSCALL_BIT
 + 252)

	)

226 
	#__NR_šÙify_š™
 (
__X32_SYSCALL_BIT
 + 253)

	)

227 
	#__NR_šÙify_add_w©ch
 (
__X32_SYSCALL_BIT
 + 254)

	)

228 
	#__NR_šÙify_rm_w©ch
 (
__X32_SYSCALL_BIT
 + 255)

	)

229 
	#__NR_mig¿‹_·ges
 (
__X32_SYSCALL_BIT
 + 256)

	)

230 
	#__NR_İ’©
 (
__X32_SYSCALL_BIT
 + 257)

	)

231 
	#__NR_mkdœ©
 (
__X32_SYSCALL_BIT
 + 258)

	)

232 
	#__NR_mknod©
 (
__X32_SYSCALL_BIT
 + 259)

	)

233 
	#__NR_fchowÇt
 (
__X32_SYSCALL_BIT
 + 260)

	)

234 
	#__NR_futime§t
 (
__X32_SYSCALL_BIT
 + 261)

	)

235 
	#__NR_Ãwf¡©©
 (
__X32_SYSCALL_BIT
 + 262)

	)

236 
	#__NR_uÆšk©
 (
__X32_SYSCALL_BIT
 + 263)

	)

237 
	#__NR_»Çm—t
 (
__X32_SYSCALL_BIT
 + 264)

	)

238 
	#__NR_lšk©
 (
__X32_SYSCALL_BIT
 + 265)

	)

239 
	#__NR_symlšk©
 (
__X32_SYSCALL_BIT
 + 266)

	)

240 
	#__NR_»adlšk©
 (
__X32_SYSCALL_BIT
 + 267)

	)

241 
	#__NR_fchmod©
 (
__X32_SYSCALL_BIT
 + 268)

	)

242 
	#__NR_çcûs§t
 (
__X32_SYSCALL_BIT
 + 269)

	)

243 
	#__NR_p£Ëù6
 (
__X32_SYSCALL_BIT
 + 270)

	)

244 
	#__NR_µŞl
 (
__X32_SYSCALL_BIT
 + 271)

	)

245 
	#__NR_unsh¬e
 (
__X32_SYSCALL_BIT
 + 272)

	)

246 
	#__NR_¥liû
 (
__X32_SYSCALL_BIT
 + 275)

	)

247 
	#__NR_‹e
 (
__X32_SYSCALL_BIT
 + 276)

	)

248 
	#__NR_sync_fe_¿nge
 (
__X32_SYSCALL_BIT
 + 277)

	)

249 
	#__NR_utim’§t
 (
__X32_SYSCALL_BIT
 + 280)

	)

250 
	#__NR_•Şl_pwa™
 (
__X32_SYSCALL_BIT
 + 281)

	)

251 
	#__NR_sigÇlfd
 (
__X32_SYSCALL_BIT
 + 282)

	)

252 
	#__NR_tim”fd_ü—‹
 (
__X32_SYSCALL_BIT
 + 283)

	)

253 
	#__NR_ev’tfd
 (
__X32_SYSCALL_BIT
 + 284)

	)

254 
	#__NR_çÎoÿ‹
 (
__X32_SYSCALL_BIT
 + 285)

	)

255 
	#__NR_tim”fd_£‰ime
 (
__X32_SYSCALL_BIT
 + 286)

	)

256 
	#__NR_tim”fd_g‘time
 (
__X32_SYSCALL_BIT
 + 287)

	)

257 
	#__NR_acû±4
 (
__X32_SYSCALL_BIT
 + 288)

	)

258 
	#__NR_sigÇlfd4
 (
__X32_SYSCALL_BIT
 + 289)

	)

259 
	#__NR_ev’tfd2
 (
__X32_SYSCALL_BIT
 + 290)

	)

260 
	#__NR_•Şl_ü—‹1
 (
__X32_SYSCALL_BIT
 + 291)

	)

261 
	#__NR_dup3
 (
__X32_SYSCALL_BIT
 + 292)

	)

262 
	#__NR_pe2
 (
__X32_SYSCALL_BIT
 + 293)

	)

263 
	#__NR_šÙify_š™1
 (
__X32_SYSCALL_BIT
 + 294)

	)

264 
	#__NR_³rf_ev’t_İ’
 (
__X32_SYSCALL_BIT
 + 298)

	)

265 
	#__NR_çnÙify_š™
 (
__X32_SYSCALL_BIT
 + 300)

	)

266 
	#__NR_çnÙify_m¬k
 (
__X32_SYSCALL_BIT
 + 301)

	)

267 
	#__NR_´lim™64
 (
__X32_SYSCALL_BIT
 + 302)

	)

268 
	#__NR_Çme_to_hªdË_©
 (
__X32_SYSCALL_BIT
 + 303)

	)

269 
	#__NR_İ’_by_hªdË_©
 (
__X32_SYSCALL_BIT
 + 304)

	)

270 
	#__NR_şock_adjtime
 (
__X32_SYSCALL_BIT
 + 305)

	)

271 
	#__NR_syncfs
 (
__X32_SYSCALL_BIT
 + 306)

	)

272 
	#__NR_£Šs
 (
__X32_SYSCALL_BIT
 + 308)

	)

273 
	#__NR_g‘ıu
 (
__X32_SYSCALL_BIT
 + 309)

	)

274 
	#__NR_kcmp
 (
__X32_SYSCALL_BIT
 + 312)

	)

275 
	#__NR_fš™_moduË
 (
__X32_SYSCALL_BIT
 + 313)

	)

276 
	#__NR_¹_sigaùiÚ
 (
__X32_SYSCALL_BIT
 + 512)

	)

277 
	#__NR_¹_sig»tuº
 (
__X32_SYSCALL_BIT
 + 513)

	)

278 
	#__NR_ioùl
 (
__X32_SYSCALL_BIT
 + 514)

	)

279 
	#__NR_»adv
 (
__X32_SYSCALL_BIT
 + 515)

	)

280 
	#__NR_wr™ev
 (
__X32_SYSCALL_BIT
 + 516)

	)

281 
	#__NR_»cväom
 (
__X32_SYSCALL_BIT
 + 517)

	)

282 
	#__NR_£ndmsg
 (
__X32_SYSCALL_BIT
 + 518)

	)

283 
	#__NR_»cvmsg
 (
__X32_SYSCALL_BIT
 + 519)

	)

284 
	#__NR_execve
 (
__X32_SYSCALL_BIT
 + 520)

	)

285 
	#__NR_±¿û
 (
__X32_SYSCALL_BIT
 + 521)

	)

286 
	#__NR_¹_sig³ndšg
 (
__X32_SYSCALL_BIT
 + 522)

	)

287 
	#__NR_¹_sigtimedwa™
 (
__X32_SYSCALL_BIT
 + 523)

	)

288 
	#__NR_¹_sigqueuešfo
 (
__X32_SYSCALL_BIT
 + 524)

	)

289 
	#__NR_sig®t¡ack
 (
__X32_SYSCALL_BIT
 + 525)

	)

290 
	#__NR_tim”_ü—‹
 (
__X32_SYSCALL_BIT
 + 526)

	)

291 
	#__NR_mq_nÙify
 (
__X32_SYSCALL_BIT
 + 527)

	)

292 
	#__NR_kexec_lßd
 (
__X32_SYSCALL_BIT
 + 528)

	)

293 
	#__NR_wa™id
 (
__X32_SYSCALL_BIT
 + 529)

	)

294 
	#__NR_£t_robu¡_li¡
 (
__X32_SYSCALL_BIT
 + 530)

	)

295 
	#__NR_g‘_robu¡_li¡
 (
__X32_SYSCALL_BIT
 + 531)

	)

296 
	#__NR_vm¥liû
 (
__X32_SYSCALL_BIT
 + 532)

	)

297 
	#__NR_move_·ges
 (
__X32_SYSCALL_BIT
 + 533)

	)

298 
	#__NR_´—dv
 (
__X32_SYSCALL_BIT
 + 534)

	)

299 
	#__NR_pwr™ev
 (
__X32_SYSCALL_BIT
 + 535)

	)

300 
	#__NR_¹_tgsigqueuešfo
 (
__X32_SYSCALL_BIT
 + 536)

	)

301 
	#__NR_»cvmmsg
 (
__X32_SYSCALL_BIT
 + 537)

	)

302 
	#__NR_£ndmmsg
 (
__X32_SYSCALL_BIT
 + 538)

	)

303 
	#__NR_´oûss_vm_»adv
 (
__X32_SYSCALL_BIT
 + 539)

	)

304 
	#__NR_´oûss_vm_wr™ev
 (
__X32_SYSCALL_BIT
 + 540)

	)

305 
	#__NR_£tsockİt
 (
__X32_SYSCALL_BIT
 + 541)

	)

306 
	#__NR_g‘sockİt
 (
__X32_SYSCALL_BIT
 + 542)

	)

	@/usr/include/bits/libc-lock.h

19 #iâdeà
_BITS_LIBC_LOCK_H


20 
	#_BITS_LIBC_LOCK_H
 1

	)

22 
	~<±h»ad.h
>

23 
	#__Ãed_NULL


	)

24 
	~<¡ddef.h
>

27 #ifdeà
_LIBC


28 
	~<lowËv–lock.h
>

29 
	~<s.h
>

30 
	~<±h»ad-funùiÚs.h
>

31 
	~<”ºo.h
>

32 
	~<gnu/İtiÚ-groups.h
>

36 #ià
defšed
 
_LIBC
 || defšed 
_IO_MTSAFE_IO


37 #ià(
defšed
 
NOT_IN_libc
 && !defšed 
IS_IN_lib±h»ad
è|| !defšed 
_LIBC


38 ¡ruù { 
±h»ad_mu‹x_t
 
	mmu‹x
; } 
	t__libc_lock_»cursive_t
;

40 ¡ruù { 
	mlock
; 
	mút
; *
	mowÃr
; } 
	t__libc_lock_»cursive_t
;

43 
__libc_lock_»cursive_İaque__
 
	t__libc_lock_»cursive_t
;

53 
	#__libc_lock_defše_»cursive
(
CLASS
,
NAME
) \

54 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

58 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

59 #ià
LLL_LOCK_INITIALIZER
 == 0

60 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

61 
CLASS
 
__libc_lock_»cursive_t
 
NAME
;

	)

63 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

64 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

66 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

67 { 
LLL_LOCK_INITIALIZER
, 0, 
NULL
 }

	)

69 
	#__libc_lock_defše_š™Ÿlized_»cursive
(
CLASS
,
NAME
) \

70 
CLASS
 
__libc_lock_»cursive_t
 
NAME
 = 
_LIBC_LOCK_RECURSIVE_INITIALIZER
;

	)

71 
	#_LIBC_LOCK_RECURSIVE_INITIALIZER
 \

72 {
PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
}

	)

76 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

77 
	#__libc_lock_š™_»cursive
(
NAME
) \

78 ((
NAME
èğ(
__libc_lock_»cursive_t
è
_LIBC_LOCK_RECURSIVE_INITIALIZER
, 0)

	)

80 
	#__libc_lock_š™_»cursive
(
NAME
) \

82 ià(
__±h»ad_mu‹x_š™
 !ğ
NULL
) \

84 
±h»ad_mu‹x©Œ_t
 
__©Œ
; \

85 
	`__±h»ad_mu‹x©Œ_š™
 (&
__©Œ
); \

86 
	`__±h»ad_mu‹x©Œ_£‰y³
 (&
__©Œ
, 
PTHREAD_MUTEX_RECURSIVE_NP
); \

87 
	`__±h»ad_mu‹x_š™
 (&(
NAME
).
mu‹x
, &
__©Œ
); \

88 
	`__±h»ad_mu‹x©Œ_de¡roy
 (&
__©Œ
); \

90 } 0)

	)

94 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

95 
	#__libc_lock_fši_»cursive
(
NAME
è((è0)

	)

97 
	#__libc_lock_fši_»cursive
(
NAME
) \

98 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_de¡roy
, (&(
NAME
)), 0)

	)

102 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

103 #ià
__OPTION_EGLIBC_BIG_MACROS
 != 1

107 
__libc_lock_lock_»cursive_â
 (
__libc_lock_»cursive_t
 *);

108 
libc_hidd’_´Ùo
 (
__libc_lock_lock_»cursive_â
);

110 #ià
__OPTION_EGLIBC_BIG_MACROS


111 
	#__libc_lock_lock_»cursive
(
NAME
) \

113 *
£lf
 = 
THREAD_SELF
; \

114 ià((
NAME
).
owÃr
 !ğ
£lf
) \

116 
	`Îl_lock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

117 (
NAME
).
owÃr
 = 
£lf
; \

119 ++(
NAME
).
út
; \

120 } 0)

	)

122 
	#__libc_lock_lock_»cursive
(
NAME
) \

123 
	`__libc_lock_lock_»cursive_â
 (&(
NAME
))

	)

126 
	#__libc_lock_lock_»cursive
(
NAME
) \

127 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_lock
, (&(
NAME
).
mu‹x
), 0)

	)

131 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

132 #ià
__OPTION_EGLIBC_BIG_MACROS
 != 1

136 
__libc_lock_Œylock_»cursive_â
 (
__libc_lock_»cursive_t
 *);

137 
libc_hidd’_´Ùo
 (
__libc_lock_Œylock_»cursive_â
);

139 #ià
__OPTION_EGLIBC_BIG_MACROS


140 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

142 
»suÉ
 = 0; \

143 *
£lf
 = 
THREAD_SELF
; \

144 ià((
NAME
).
owÃr
 !ğ
£lf
) \

146 ià(
	`Îl_Œylock
 ((
NAME
).
lock
) == 0) \

148 (
NAME
).
owÃr
 = 
£lf
; \

149 (
NAME
).
út
 = 1; \

152 
»suÉ
 = 
EBUSY
; \

155 ++(
NAME
).
út
; \

156 
»suÉ
; \

157 })

	)

159 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

160 
	`__libc_lock_Œylock_»cursive_â
 (&(
NAME
))

	)

163 
	#__libc_lock_Œylock_»cursive
(
NAME
) \

164 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_Œylock
, (&(
NAME
)), 0)

	)

168 #ià
defšed
 
_LIBC
 && (!defšed 
NOT_IN_libc
 || defšed 
IS_IN_lib±h»ad
)

169 #ià
__OPTION_EGLIBC_BIG_MACROS
 != 1

173 
__libc_lock_uÆock_»cursive_â
 (
__libc_lock_»cursive_t
 *);

174 
libc_hidd’_´Ùo
 (
__libc_lock_uÆock_»cursive_â
);

176 #ià
__OPTION_EGLIBC_BIG_MACROS


178 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

180 ià(--(
NAME
).
út
 == 0) \

182 (
NAME
).
owÃr
 = 
NULL
; \

183 
	`Îl_uÆock
 ((
NAME
).
lock
, 
LLL_PRIVATE
); \

185 } 0)

	)

187 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

188 
	`__libc_lock_uÆock_»cursive_â
 (&(
NAME
))

	)

191 
	#__libc_lock_uÆock_»cursive
(
NAME
) \

192 
	`__libc_maybe_ÿÎ
 (
__±h»ad_mu‹x_uÆock
, (&(
NAME
)), 0)

	)

199 
_±h»ad_ş—nup_push_deãr
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

200 (*
routše
è(*), *
¬g
);

201 
	`_±h»ad_ş—nup_pİ_»¡Üe
 (
_±h»ad_ş—nup_bufãr
 *
bufãr
,

202 
execu‹
);

205 
	#__libc_ş—nup_»giÚ_¡¬t
(
DOIT
, 
FCT
, 
ARG
) \

206 { 
_±h»ad_ş—nup_bufãr
 
_bufãr
; \

207 
_ava
; \

208 ià(
DOIT
) { \

209 
_ava
 = 
	`PTFAVAIL
 (
_±h»ad_ş—nup_push_deãr
); \

210 ià(
_ava
) { \

211 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_push_deãr
, (&
_bufãr
, 
FCT
, \

212 
ARG
)); \

214 
_bufãr
.
__routše
 = (
FCT
); \

215 
_bufãr
.
__¬g
 = (
ARG
); \

218 
_ava
 = 0; \

219 }

	)

222 
	#__libc_ş—nup_»giÚ_’d
(
DOIT
) \

223 ià(
_ava
) { \

224 
	`__libc_±f_ÿÎ_®ways
 (
_±h»ad_ş—nup_pİ_»¡Üe
, (&
_bufãr
, 
DOIT
));\

225 } ià(
DOIT
) \

226 
_bufãr
.
	`__routše
 (_bufãr.
__¬g
); \

227 
	}

	)
}

232 #ifdeà
_LIBC


233 
	~"libc-lockP.h
"

	@/usr/include/bits/predefs.h

19 #iâdeà
_PREDEFS_H


20 
	#_PREDEFS_H


	)

22 #iâdeà
_STDC_PREDEF_H


27 
	#__STDC_IEC_559__
 1

	)

28 
	#__STDC_IEC_559_COMPLEX__
 1

	)

	@/usr/include/bits/select.h

18 #iâdeà
_SYS_SELECT_H


22 
	~<b™s/wÜdsize.h
>

25 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

27 #ià
__WORDSIZE
 == 64

28 
	#__FD_ZERO_STOS
 "¡osq"

	)

30 
	#__FD_ZERO_STOS
 "¡o¦"

	)

33 
	#__FD_ZERO
(
fd¥
) \

35 
__d0
, 
__d1
; \

36 
__asm__
 
	`__vŞ©e__
 ("şd;„•; " 
__FD_ZERO_STOS
 \

37 : "=c" (
__d0
), "=D" (
__d1
) \

38 : "a" (0), "0" ( (
fd_£t
) \

39 /  (
__fd_mask
)), \

40 "1" (&
	`__FDS_BITS
 (
fd¥
)[0]) \

42 } 0)

	)

48 
	#__FD_ZERO
(
£t
) \

50 
__i
; \

51 
fd_£t
 *
__¬r
 = (
£t
); \

52 
__i
 = 0; __˜<  (
fd_£t
è/  (
__fd_mask
); ++__i) \

53 
	`__FDS_BITS
 (
__¬r
)[
__i
] = 0; \

54 } 0)

	)

58 
	#__FD_SET
(
d
, 
£t
) \

59 ((è(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] |ğ
	`__FD_MASK
 (d)))

	)

60 
	#__FD_CLR
(
d
, 
£t
) \

61 ((è(
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] &ğ~
	`__FD_MASK
 (d)))

	)

62 
	#__FD_ISSET
(
d
, 
£t
) \

63 ((
	`__FDS_BITS
 (
£t
)[
	`__FD_ELT
 (
d
)] & 
	`__FD_MASK
 (d)è!ğ0)

	)

	@/usr/include/bits/select2.h

19 #iâdeà
_SYS_SELECT_H


24 
__fd–t_chk
 (
__d
);

25 
	$__fd–t_w¬n
 (
__d
)

26 
	`__w¬Ç‰r
 ("bit outside of fd_set selected");

27 #undeà
__FD_ELT


28 
	#__FD_ELT
(
d
) \

29 
__ex‹nsiÚ__
 \

30 ({ 
__d
 = (
d
); \

31 (
	`__butš_cÚ¡ªt_p
 (
__d
) \

32 ? (0 <ğ
__d
 && __d < 
__FD_SETSIZE
 \

33 ? (
__d
 / 
__NFDBITS
) \

34 : 
	`__fd–t_w¬n
 (
__d
)) \

35 : 
	`__fd–t_chk
 (
__d
)); 
	}
})

	)

	@/usr/include/bits/sigset.h

20 #iâdef 
_SIGSET_H_ty³s


21 
	#_SIGSET_H_ty³s
 1

	)

23 
	t__sig_©omic_t
;

27 
	#_SIGSET_NWORDS
 (1024 / (8 *  ()))

	)

30 
	m__v®
[
_SIGSET_NWORDS
];

31 } 
	t__sig£t_t
;

42 #ià!
defšed
 
_SIGSET_H_âs
 && defšed 
_SIGNAL_H


43 
	#_SIGSET_H_âs
 1

	)

45 #iâdeà
_EXTERN_INLINE


46 
	#_EXTERN_INLINE
 
__ex‹º_šlše


	)

50 
	#__sigmask
(
sig
) \

51 (((è1è<< (((
sig
è- 1è% (8 *  ())))

	)

54 
	#__sigwÜd
(
sig
è(((sigè- 1è/ (8 *  ()))

	)

56 #ià
defšed
 
__GNUC__
 && __GNUC__ >= 2

57 
	#__sigem±y£t
(
£t
) \

58 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

59 
sig£t_t
 *
__£t
 = (
£t
); \

60 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = 0; \

61 0; }))

	)

62 
	#__sigfl£t
(
£t
) \

63 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

64 
sig£t_t
 *
__£t
 = (
£t
); \

65 --
__út
 >ğ0è
__£t
->
__v®
[__cnt] = ~0UL; \

66 0; }))

	)

68 #ifdeà
__USE_GNU


72 
	#__sigi£m±y£t
(
£t
) \

73 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

74 cÚ¡ 
sig£t_t
 *
__£t
 = (
£t
); \

75 
__»t
 = 
__£t
->
__v®
[--
__út
]; \

76 !
__»t
 && --
__út
 >= 0) \

77 
__»t
 = 
__£t
->
__v®
[
__út
]; \

78 
__»t
 =ğ0; }))

	)

79 
	#__sigªd£t
(
de¡
, 
Ëá
, 
right
) \

80 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

81 
sig£t_t
 *
__de¡
 = (
de¡
); \

82 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

83 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

84 --
__út
 >= 0) \

85 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

86 & 
__right
->
__v®
[
__út
]); \

87 0; }))

	)

88 
	#__sigÜ£t
(
de¡
, 
Ëá
, 
right
) \

89 (
	`__ex‹nsiÚ__
 ({ 
__út
 = 
_SIGSET_NWORDS
; \

90 
sig£t_t
 *
__de¡
 = (
de¡
); \

91 cÚ¡ 
sig£t_t
 *
__Ëá
 = (
Ëá
); \

92 cÚ¡ 
sig£t_t
 *
__right
 = (
right
); \

93 --
__út
 >= 0) \

94 
__de¡
->
__v®
[
__út
] = (
__Ëá
->__val[__cnt] \

95 | 
__right
->
__v®
[
__út
]); \

96 0; }))

	)

103 
__sigismemb”
 (cÚ¡ 
__sig£t_t
 *, );

104 
__sigadd£t
 (
__sig£t_t
 *, );

105 
__sigd–£t
 (
__sig£t_t
 *, );

107 #ifdeà
__USE_EXTERN_INLINES


108 
	#__SIGSETFN
(
NAME
, 
BODY
, 
CONST
) \

109 
_EXTERN_INLINE
 \

110 
	`NAME
 (
CONST
 
__sig£t_t
 *
__£t
, 
__sig
) \

112 
__mask
 = 
	`__sigmask
 (
__sig
); \

113 
__wÜd
 = 
	`__sigwÜd
 (
__sig
); \

114  
BODY
; \

115 }

	)

117 
__SIGSETFN
 (
__sigismemb”
, (
__£t
->
__v®
[
__wÜd
] & 
__mask
) ? 1 : 0, const)

118 
__SIGSETFN
 (
__sigadd£t
, ((
__£t
->
__v®
[
__wÜd
] |ğ
__mask
), 0), )

119 
__SIGSETFN
 (
__sigd–£t
, ((
__£t
->
__v®
[
__wÜd
] &ğ~
__mask
), 0), )

121 #undeà
__SIGSETFN


	@/usr/include/bits/time.h

23 #ià
defšed
 
__Ãed_timev®
 || defšed 
__USE_GNU


24 #iâdeà
_STRUCT_TIMEVAL


25 
	#_STRUCT_TIMEVAL
 1

	)

26 
	~<b™s/ty³s.h
>

30 
	stimev®


32 
__time_t
 
	mtv_£c
;

33 
__su£cÚds_t
 
	mtv_u£c
;

38 #iâdeà
__Ãed_timev®


39 #iâdeà
_BITS_TIME_H


40 
	#_BITS_TIME_H
 1

	)

48 
	#CLOCKS_PER_SEC
 1000000l

	)

50 #ià(!
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_POSIX
) \

51 && !
defšed
 
	g__USE_XOPEN2K


54 
	~<b™s/ty³s.h
>

55 
__syscÚf
 ();

56 
	#CLK_TCK
 ((
__şock_t
è
	`__syscÚf
 (2)è

	)

59 #ifdeà
__USE_POSIX199309


61 
	#CLOCK_REALTIME
 0

	)

63 
	#CLOCK_MONOTONIC
 1

	)

65 
	#CLOCK_PROCESS_CPUTIME_ID
 2

	)

67 
	#CLOCK_THREAD_CPUTIME_ID
 3

	)

69 
	#CLOCK_MONOTONIC_RAW
 4

	)

71 
	#CLOCK_REALTIME_COARSE
 5

	)

73 
	#CLOCK_MONOTONIC_COARSE
 6

	)

75 
	#CLOCK_BOOTTIME
 7

	)

77 
	#CLOCK_REALTIME_ALARM
 8

	)

79 
	#CLOCK_BOOTTIME_ALARM
 9

	)

82 
	#TIMER_ABSTIME
 1

	)

85 #ifdeà
__USE_GNU


86 
	~<b™s/timex.h
>

88 
__BEGIN_DECLS


91 
	$şock_adjtime
 (
__şockid_t
 
__şock_id
, 
timex
 *
__utx
è
__THROW
;

93 
__END_DECLS


99 #undeà
__Ãed_timev®


	@/usr/include/gconv.h

22 #iâdeà
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<ã©u»s.h
>

26 
	#__Ãed_mb¡©e_t


	)

27 
	#__Ãed_wšt_t


	)

28 
	~<wch¬.h
>

29 
	#__Ãed_size_t


	)

30 
	#__Ãed_wch¬_t


	)

31 
	~<¡ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¬_t
è0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004

64 
	g__gcÚv_¡•
;

65 
	g__gcÚv_¡•_d©a
;

66 
	g__gcÚv_lßded_objeù
;

67 
	g__gcÚv_Œªs_d©a
;

71 (*
	t__gcÚv_fù
è(
	t__gcÚv_¡•
 *, 
	t__gcÚv_¡•_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wšt_t
 (*
	t__gcÚv_btowc_fù
è(
	t__gcÚv_¡•
 *, );

79 (*
	t__gcÚv_š™_fù
è(
	t__gcÚv_¡•
 *);

80 (*
	t__gcÚv_’d_fù
è(
	t__gcÚv_¡•
 *);

84 (*
	t__gcÚv_Œªs_fù
è(
	t__gcÚv_¡•
 *,

85 
	t__gcÚv_¡•_d©a
 *, *,

89 
	tsize_t
 *);

92 (*
	t__gcÚv_Œªs_cÚ‹xt_fù
) (*, const *,

97 (*
	t__gcÚv_Œªs_qu”y_fù
) (const *, const ***,

98 
	tsize_t
 *);

101 (*
	t__gcÚv_Œªs_š™_fù
) (**, const *);

102 (*
	t__gcÚv_Œªs_’d_fù
) (*);

104 
	s__gcÚv_Œªs_d©a


107 
__gcÚv_Œªs_fù
 
__Œªs_fù
;

108 
__gcÚv_Œªs_cÚ‹xt_fù
 
__Œªs_cÚ‹xt_fù
;

109 
__gcÚv_Œªs_’d_fù
 
__Œªs_’d_fù
;

110 *
__d©a
;

111 
__gcÚv_Œªs_d©a
 *
__Ãxt
;

116 
	s__gcÚv_¡•


118 
__gcÚv_lßded_objeù
 *
__shlib_hªdË
;

119 cÚ¡ *
__modÇme
;

121 
__couÁ”
;

123 *
__äom_Çme
;

124 *
__to_Çme
;

126 
__gcÚv_fù
 
__fù
;

127 
__gcÚv_btowc_fù
 
__btowc_fù
;

128 
__gcÚv_š™_fù
 
__š™_fù
;

129 
__gcÚv_’d_fù
 
__’d_fù
;

133 
__mš_Ãeded_äom
;

134 
__max_Ãeded_äom
;

135 
__mš_Ãeded_to
;

136 
__max_Ãeded_to
;

139 
__¡©eful
;

141 *
__d©a
;

146 
	s__gcÚv_¡•_d©a


148 *
__outbuf
;

149 *
__outbuãnd
;

153 
__æags
;

157 
__švoÿtiÚ_couÁ”
;

161 
__š‹º®_u£
;

163 
__mb¡©e_t
 *
__¡©•
;

164 
__mb¡©e_t
 
__¡©e
;

168 
__gcÚv_Œªs_d©a
 *
__Œªs
;

173 
	s__gcÚv_šfo


175 
size_t
 
__n¡•s
;

176 
__gcÚv_¡•
 *
__¡•s
;

177 
__ex‹nsiÚ__
 
__gcÚv_¡•_d©a
 
__d©a
 
__æex¬r
;

178 } *
	t__gcÚv_t
;

	@/usr/include/gnu/stubs-32.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_chæags


	)

11 
	#__¡ub_ç‰ach


	)

12 
	#__¡ub_fchæags


	)

13 
	#__¡ub_fd‘ach


	)

14 
	#__¡ub_g‰y


	)

15 
	#__¡ub_lchmod


	)

16 
	#__¡ub_»voke


	)

17 
	#__¡ub_£ogš


	)

18 
	#__¡ub_sig»tuº


	)

19 
	#__¡ub_s¡k


	)

20 
	#__¡ub_¡ty


	)

	@/usr/include/gnu/stubs-64.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_bdæush


	)

11 
	#__¡ub_chæags


	)

12 
	#__¡ub_ç‰ach


	)

13 
	#__¡ub_fchæags


	)

14 
	#__¡ub_fd‘ach


	)

15 
	#__¡ub_g‘msg


	)

16 
	#__¡ub_g‰y


	)

17 
	#__¡ub_lchmod


	)

18 
	#__¡ub_putmsg


	)

19 
	#__¡ub_»voke


	)

20 
	#__¡ub_£ogš


	)

21 
	#__¡ub_sig»tuº


	)

22 
	#__¡ub_s¡k


	)

23 
	#__¡ub_¡ty


	)

	@/usr/include/gnu/stubs-x32.h

6 #ifdeà
_LIBC


7 #”rÜ 
AµliÿtiÚs
 
may
 
nÙ
 
defše
 
the
 
maüo
 
_LIBC


10 
	#__¡ub_bdæush


	)

11 
	#__¡ub_chæags


	)

12 
	#__¡ub_ü—‹_moduË


	)

13 
	#__¡ub_ç‰ach


	)

14 
	#__¡ub_fchæags


	)

15 
	#__¡ub_fd‘ach


	)

16 
	#__¡ub_g‘_k”Ãl_syms


	)

17 
	#__¡ub_g‘msg


	)

18 
	#__¡ub_g‰y


	)

19 
	#__¡ub_lchmod


	)

20 
	#__¡ub_nfs£rvùl


	)

21 
	#__¡ub_putmsg


	)

22 
	#__¡ub_qu”y_moduË


	)

23 
	#__¡ub_»voke


	)

24 
	#__¡ub_£ogš


	)

25 
	#__¡ub_sig»tuº


	)

26 
	#__¡ub_s¡k


	)

27 
	#__¡ub_¡ty


	)

28 
	#__¡ub_u£lib


	)

	@/usr/include/linux/limits.h

1 #iâdeà
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/wchar.h

23 #iâdeà
_WCHAR_H


25 #ià!
defšed
 
__Ãed_mb¡©e_t
 && !defšed 
__Ãed_wšt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<ã©u»s.h
>

30 #ifdeà
_WCHAR_H


32 
	#__Ãed___FILE


	)

33 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


34 
	#__Ãed_FILE


	)

36 
	~<¡dio.h
>

38 
	#__Ãed___va_li¡


	)

39 
	~<¡d¬g.h
>

41 
	~<b™s/wch¬.h
>

44 
	#__Ãed_size_t


	)

45 
	#__Ãed_wch¬_t


	)

46 
	#__Ãed_NULL


	)

48 #ià
defšed
 
_WCHAR_H
 || defšed 
__Ãed_wšt_t
 || !defšed 
__WINT_TYPE__


49 #undeà
__Ãed_wšt_t


50 
	#__Ãed_wšt_t


	)

51 
	~<¡ddef.h
>

55 #iâdeà
_WINT_T


60 
	#_WINT_T


	)

61 
	twšt_t
;

65 #ià
defšed
 
__ılu¥lus
 && defšed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
defšed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twšt_t
;

69 
	g__END_NAMESPACE_STD


74 #ià
defšed
 
__ılu¥lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #ià(
defšed
 
_WCHAR_H
 || defšed 
__Ãed_mb¡©e_t
è&& !defšed 
____mb¡©e_t_defšed


80 
	#____mb¡©e_t_defšed
 1

	)

84 
	m__couÁ
;

87 #ifdeà
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wšt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__v®ue
;

94 } 
	t__mb¡©e_t
;

96 #undeà
__Ãed_mb¡©e_t


101 #ifdeà
_WCHAR_H


103 #iâdeà
__mb¡©e_t_defšed


104 
__BEGIN_NAMESPACE_C99


106 
__mb¡©e_t
 
	tmb¡©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb¡©e_t_defšed
 1

	)

111 #ifdeà
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb¡©e_t
)

115 #iâdeà
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #iâdeà
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #ià
defšed
 
__USE_XOPEN
 && !defšed 
__USE_UNIX98


128 
	~<wùy³.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¬_t
 *
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

148 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

150 
wch¬_t
 *
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

151 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

152 
__THROW
;

155 
wch¬_t
 *
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

156 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

158 
wch¬_t
 *
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

159 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

160 
__THROW
;

163 
	$wcscmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
)

164 
__THROW
 
__©Œibu‹_pu»__
;

166 
	$wc¢cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

167 
__THROW
 
__©Œibu‹_pu»__
;

168 
__END_NAMESPACE_STD


170 #ifdeà
__USE_XOPEN2K8


172 
	$wcsÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

175 
	$wc¢ÿ£cmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

176 
size_t
 
__n
è
__THROW
;

180 
	~<xloÿË.h
>

182 
	$wcsÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

183 
__loÿË_t
 
__loc
è
__THROW
;

185 
	$wc¢ÿ£cmp_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

186 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

189 
__BEGIN_NAMESPACE_STD


192 
	$wcscŞl
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
è
__THROW
;

196 
size_t
 
	$wcsxäm
 (
wch¬_t
 *
__»¡riù
 
__s1
,

197 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

198 
__END_NAMESPACE_STD


200 #ifdeà
__USE_XOPEN2K8


206 
	$wcscŞl_l
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

207 
__loÿË_t
 
__loc
è
__THROW
;

212 
size_t
 
	$wcsxäm_l
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

213 
size_t
 
__n
, 
__loÿË_t
 
__loc
è
__THROW
;

216 
wch¬_t
 *
	$wcsdup
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_m®loc__
;

219 
__BEGIN_NAMESPACE_STD


221 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


222 "C++" 
wch¬_t
 *
	$wcschr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

223 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

224 "C++" cÚ¡ 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

225 
__THROW
 
	`__asm
 ("wcschr"è
__©Œibu‹_pu»__
;

227 
wch¬_t
 *
	$wcschr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

228 
__THROW
 
__©Œibu‹_pu»__
;

231 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


232 "C++" 
wch¬_t
 *
	$wc¤chr
 (
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

233 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

234 "C++" cÚ¡ 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

235 
__THROW
 
	`__asm
 ("wc¤chr"è
__©Œibu‹_pu»__
;

237 
wch¬_t
 *
	$wc¤chr
 (cÚ¡ 
wch¬_t
 *
__wcs
, wch¬_ˆ
__wc
)

238 
__THROW
 
__©Œibu‹_pu»__
;

240 
__END_NAMESPACE_STD


242 #ifdeà
__USE_GNU


245 
wch¬_t
 *
	$wcschºul
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__wc
)

246 
__THROW
 
__©Œibu‹_pu»__
;

249 
__BEGIN_NAMESPACE_STD


252 
size_t
 
	$wcsc¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__»jeù
)

253 
__THROW
 
__©Œibu‹_pu»__
;

256 
size_t
 
	$wcs¥n
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

257 
__THROW
 
__©Œibu‹_pu»__
;

259 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


260 "C++" 
wch¬_t
 *
	$wc¥brk
 (
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

261 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

262 "C++" cÚ¡ 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
,

263 cÚ¡ 
wch¬_t
 *
__acû±
)

264 
__THROW
 
	`__asm
 ("wc¥brk"è
__©Œibu‹_pu»__
;

266 
wch¬_t
 *
	$wc¥brk
 (cÚ¡ 
wch¬_t
 *
__wcs
, cÚ¡ wch¬_ˆ*
__acû±
)

267 
__THROW
 
__©Œibu‹_pu»__
;

270 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


271 "C++" 
wch¬_t
 *
	$wcs¡r
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

272 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

273 "C++" cÚ¡ 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

274 cÚ¡ 
wch¬_t
 *
__ÃedË
)

275 
__THROW
 
	`__asm
 ("wcs¡r"è
__©Œibu‹_pu»__
;

277 
wch¬_t
 *
	$wcs¡r
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

278 
__THROW
 
__©Œibu‹_pu»__
;

282 
wch¬_t
 *
	$wc¡ok
 (
wch¬_t
 *
__»¡riù
 
__s
,

283 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__d–im
,

284 
wch¬_t
 **
__»¡riù
 
__±r
è
__THROW
;

287 
size_t
 
	$wc¦’
 (cÚ¡ 
wch¬_t
 *
__s
è
__THROW
 
__©Œibu‹_pu»__
;

288 
__END_NAMESPACE_STD


290 #ifdeà
__USE_XOPEN


292 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


293 "C++" 
wch¬_t
 *
	$wcswcs
 (
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

294 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

295 "C++" cÚ¡ 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
,

296 cÚ¡ 
wch¬_t
 *
__ÃedË
)

297 
__THROW
 
	`__asm
 ("wcswcs"è
__©Œibu‹_pu»__
;

299 
wch¬_t
 *
	$wcswcs
 (cÚ¡ 
wch¬_t
 *
__hay¡ack
, cÚ¡ wch¬_ˆ*
__ÃedË
)

300 
__THROW
 
__©Œibu‹_pu»__
;

304 #ifdeà
__USE_XOPEN2K8


306 
size_t
 
	$wc¢Ën
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__maxËn
)

307 
__THROW
 
__©Œibu‹_pu»__
;

311 
__BEGIN_NAMESPACE_STD


313 #ifdeà
__CORRECT_ISO_CPP_WCHAR_H_PROTO


314 "C++" 
wch¬_t
 *
	$wmemchr
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

316 "C++" cÚ¡ 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
,

317 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"è
__©Œibu‹_pu»__
;

320 
wch¬_t
 *
	$wmemchr
 (cÚ¡ 
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
)

321 
__THROW
 
__©Œibu‹_pu»__
;

325 
	$wmemcmp
 (cÚ¡ 
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

326 
__THROW
 
__©Œibu‹_pu»__
;

329 
wch¬_t
 *
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

330 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
è
__THROW
;

334 
wch¬_t
 *
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
)

335 
__THROW
;

338 
wch¬_t
 *
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
è
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifdeà
__USE_GNU


344 
wch¬_t
 *
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
,

345 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
)

346 
__THROW
;

350 
__BEGIN_NAMESPACE_STD


353 
wšt_t
 
	$btowc
 (
__c
è
__THROW
;

357 
	$wùob
 (
wšt_t
 
__c
è
__THROW
;

361 
	$mbsš™
 (cÚ¡ 
mb¡©e_t
 *
__ps
è
__THROW
 
__©Œibu‹_pu»__
;

365 
size_t
 
	$mb¹owc
 (
wch¬_t
 *
__»¡riù
 
__pwc
,

366 cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

367 
mb¡©e_t
 *
__»¡riù
 
__p
è
__THROW
;

370 
size_t
 
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wc
,

371 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

374 
size_t
 
	$__mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

375 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

376 
size_t
 
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

377 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

378 
__END_NAMESPACE_STD


380 #ifdeà
__USE_EXTERN_INLINES


386 
wšt_t
 
	$__btowc_®Ÿs
 (
__c
è
	`__asm
 ("btowc");

387 
__ex‹º_šlše
 
wšt_t


388 
	`__NTH
 (
	$btowc
 (
__c
))

389 {  (
	`__butš_cÚ¡ªt_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

390 ? (
wšt_t
è
__c
 : 
	`__btowc_®Ÿs
 (__c)); 
	}
}

392 
	$__wùob_®Ÿs
 (
wšt_t
 
__c
è
	`__asm
 ("wctob");

393 
__ex‹º_šlše
 

394 
	`__NTH
 (
	$wùob
 (
wšt_t
 
__wc
))

395 {  (
	`__butš_cÚ¡ªt_p
 (
__wc
è&& __wø>ğ
L
'\0' && __wc <= L'\x7f'

396 ? (è
__wc
 : 
	`__wùob_®Ÿs
 (__wc)); 
	}
}

398 
__ex‹º_šlše
 
size_t


399 
__NTH
 (
	$mb¾’
 (cÚ¡ *
__»¡riù
 
__s
, 
size_t
 
__n
,

400 
mb¡©e_t
 *
__»¡riù
 
__ps
))

401 {  (
__ps
 !ğ
NULL


402 ? 
	`mb¹owc
 (
NULL
, 
__s
, 
__n
, 
__ps
è: 
	`__mb¾’
 (__s, __n, NULL)); 
	}
}

405 
__BEGIN_NAMESPACE_STD


408 
size_t
 
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

409 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

410 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

414 
size_t
 
	$wc¤tombs
 (*
__»¡riù
 
__d¡
,

415 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
, 
size_t
 
__Ën
,

416 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

417 
__END_NAMESPACE_STD


420 #ifdef 
__USE_XOPEN2K8


423 
size_t
 
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

424 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

425 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

429 
size_t
 
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
,

430 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

431 
size_t
 
__nwc
, size_ˆ
__Ën
,

432 
mb¡©e_t
 *
__»¡riù
 
__ps
è
__THROW
;

437 #ifdeà
__USE_XOPEN


439 
	$wcwidth
 (
wch¬_t
 
__c
è
__THROW
;

443 
	$wcswidth
 (cÚ¡ 
wch¬_t
 *
__s
, 
size_t
 
__n
è
__THROW
;

447 
__BEGIN_NAMESPACE_STD


450 
	$wc¡od
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

451 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

452 
__END_NAMESPACE_STD


454 #ifdeà
__USE_ISOC99


455 
__BEGIN_NAMESPACE_C99


457 
	$wc¡of
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

458 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

459 
	$wc¡Şd
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

460 
wch¬_t
 **
__»¡riù
 
__’d±r
è
__THROW
;

461 
__END_NAMESPACE_C99


465 
__BEGIN_NAMESPACE_STD


468 
	$wc¡Ş
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

469 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
è
__THROW
;

473 
	$wc¡oul
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

474 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

475 
__THROW
;

476 
__END_NAMESPACE_STD


478 #ià
defšed
 
__USE_ISOC99
 || (defšed 
__GNUC__
 && defšed 
__USE_GNU
)

479 
__BEGIN_NAMESPACE_C99


482 
__ex‹nsiÚ__


483 
	$wc¡Şl
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

484 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

485 
__THROW
;

489 
__ex‹nsiÚ__


490 
	$wc¡ouÎ
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

491 
wch¬_t
 **
__»¡riù
 
__’d±r
,

492 
__ba£
è
__THROW
;

493 
__END_NAMESPACE_C99


496 #ià
defšed
 
__GNUC__
 && defšed 
__USE_GNU


499 
__ex‹nsiÚ__


500 
	$wc¡oq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

501 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
)

502 
__THROW
;

506 
__ex‹nsiÚ__


507 
	$wc¡ouq
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

508 
wch¬_t
 **
__»¡riù
 
__’d±r
,

509 
__ba£
è
__THROW
;

512 #ifdeà
__USE_GNU


526 
	~<xloÿË.h
>

530 
	$wc¡Ş_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

531 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__ba£
,

532 
__loÿË_t
 
__loc
è
__THROW
;

534 
	$wc¡oul_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

535 
wch¬_t
 **
__»¡riù
 
__’d±r
,

536 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

538 
__ex‹nsiÚ__


539 
	$wc¡Şl_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

540 
wch¬_t
 **
__»¡riù
 
__’d±r
,

541 
__ba£
, 
__loÿË_t
 
__loc
è
__THROW
;

543 
__ex‹nsiÚ__


544 
	$wc¡ouÎ_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

545 
wch¬_t
 **
__»¡riù
 
__’d±r
,

546 
__ba£
, 
__loÿË_t
 
__loc
)

547 
__THROW
;

549 
	$wc¡od_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

550 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

551 
__THROW
;

553 
	$wc¡of_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

554 
wch¬_t
 **
__»¡riù
 
__’d±r
, 
__loÿË_t
 
__loc
)

555 
__THROW
;

557 
	$wc¡Şd_l
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ÅŒ
,

558 
wch¬_t
 **
__»¡riù
 
__’d±r
,

559 
__loÿË_t
 
__loc
è
__THROW
;

563 #ifdeà
__USE_XOPEN2K8


566 
wch¬_t
 *
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

567 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
è
__THROW
;

571 
wch¬_t
 *
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

572 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
)

573 
__THROW
;

580 
__FILE
 *
	$İ’_wmem¡»am
 (
wch¬_t
 **
__buæoc
, 
size_t
 *
__siz–oc
è
__THROW
;

583 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


584 
__BEGIN_NAMESPACE_STD


587 
	$fwide
 (
__FILE
 *
__å
, 
__mode
è
__THROW
;

594 
	`fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

595 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

601 
	`w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

604 
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

605 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

606 
__THROW
 ;

612 
	`vfw´štf
 (
__FILE
 *
__»¡riù
 
__s
,

613 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

614 
__gnuc_va_li¡
 
__¬g
)

620 
	`vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

621 
__gnuc_va_li¡
 
__¬g
)

625 
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

626 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

627 
__gnuc_va_li¡
 
__¬g
)

628 
__THROW
 ;

635 
	`fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

636 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

642 
	`wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

645 
	$swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

646 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

647 
__THROW
 ;

649 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

650 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

651 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

652 #ifdeà
__REDIRECT


656 
	`__REDIRECT
 (
fwsÿnf
, (
__FILE
 *
__»¡riù
 
__¡»am
,

657 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

658 
__isoc99_fwsÿnf
)

660 
	`__REDIRECT
 (
wsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...),

661 
__isoc99_wsÿnf
)

663 
	`__REDIRECT_NTH
 (
swsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

664 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

665 ...), 
__isoc99_swsÿnf
)

668 
	`__isoc99_fwsÿnf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

669 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

670 
	`__isoc99_wsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

671 
	$__isoc99_swsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

672 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

673 
__THROW
;

674 
	#fwsÿnf
 
__isoc99_fwsÿnf


	)

675 
	#wsÿnf
 
__isoc99_wsÿnf


	)

676 
	#swsÿnf
 
__isoc99_swsÿnf


	)

680 
__END_NAMESPACE_STD


683 #ifdeà
__USE_ISOC99


684 
__BEGIN_NAMESPACE_C99


689 
	`vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

690 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

691 
__gnuc_va_li¡
 
__¬g
)

697 
	`vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

698 
__gnuc_va_li¡
 
__¬g
)

701 
	$vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

702 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

703 
__gnuc_va_li¡
 
__¬g
)

704 
__THROW
 ;

706 #ià!
defšed
 
__USE_GNU
 \

707 && (!
defšed
 
__LDBL_COMPAT
 || !defšed 
__REDIRECT
) \

708 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

709 #ifdeà
__REDIRECT


710 
	`__REDIRECT
 (
vfwsÿnf
, (
__FILE
 *
__»¡riù
 
__s
,

711 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

712 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vfwsÿnf
)

714 
	`__REDIRECT
 (
vwsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

715 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vwsÿnf
)

717 
	`__REDIRECT_NTH
 (
vswsÿnf
, (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

718 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

719 
__gnuc_va_li¡
 
__¬g
), 
__isoc99_vswsÿnf
)

722 
	`__isoc99_vfwsÿnf
 (
__FILE
 *
__»¡riù
 
__s
,

723 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

724 
__gnuc_va_li¡
 
__¬g
);

725 
	`__isoc99_vwsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

726 
__gnuc_va_li¡
 
__¬g
);

727 
	$__isoc99_vswsÿnf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s
,

728 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

729 
__gnuc_va_li¡
 
__¬g
è
__THROW
;

730 
	#vfwsÿnf
 
__isoc99_vfwsÿnf


	)

731 
	#vwsÿnf
 
__isoc99_vwsÿnf


	)

732 
	#vswsÿnf
 
__isoc99_vswsÿnf


	)

736 
__END_NAMESPACE_C99


740 
__BEGIN_NAMESPACE_STD


745 
wšt_t
 
	`fg‘wc
 (
__FILE
 *
__¡»am
);

746 
wšt_t
 
	`g‘wc
 (
__FILE
 *
__¡»am
);

752 
wšt_t
 
	`g‘wch¬
 ();

759 
wšt_t
 
	`åutwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

760 
wšt_t
 
	`putwc
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

766 
wšt_t
 
	`putwch¬
 (
wch¬_t
 
__wc
);

774 
wch¬_t
 *
	`fg‘ws
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

775 
__FILE
 *
__»¡riù
 
__¡»am
);

781 
	`åutws
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

782 
__FILE
 *
__»¡riù
 
__¡»am
);

789 
wšt_t
 
	`ung‘wc
 (wšt_ˆ
__wc
, 
__FILE
 *
__¡»am
);

790 
__END_NAMESPACE_STD


793 #ifdeà
__USE_GNU


801 
wšt_t
 
	`g‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

802 
wšt_t
 
	`g‘wch¬_uÆocked
 ();

810 
wšt_t
 
	`fg‘wc_uÆocked
 (
__FILE
 *
__¡»am
);

818 
wšt_t
 
	`åutwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

827 
wšt_t
 
	`putwc_uÆocked
 (
wch¬_t
 
__wc
, 
__FILE
 *
__¡»am
);

828 
wšt_t
 
	`putwch¬_uÆocked
 (
wch¬_t
 
__wc
);

837 
wch¬_t
 *
	`fg‘ws_uÆocked
 (wch¬_ˆ*
__»¡riù
 
__ws
, 
__n
,

838 
__FILE
 *
__»¡riù
 
__¡»am
);

846 
	`åutws_uÆocked
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__ws
,

847 
__FILE
 *
__»¡riù
 
__¡»am
);

851 
__BEGIN_NAMESPACE_C99


855 
size_t
 
	$wcsáime
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

856 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

857 cÚ¡ 
tm
 *
__»¡riù
 
__
è
__THROW
;

858 
__END_NAMESPACE_C99


860 #ifdeà
__USE_GNU


861 
	~<xloÿË.h
>

865 
size_t
 
	$wcsáime_l
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__maxsize
,

866 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

867 cÚ¡ 
tm
 *
__»¡riù
 
__
,

868 
__loÿË_t
 
__loc
è
__THROW
;

877 #ià
defšed
 
__USE_UNIX98
 && !defšed 
__USE_GNU


878 
	#__Ãed_iswxxx


	)

879 
	~<wùy³.h
>

883 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


884 
	~<b™s/wch¬2.h
>

887 #ifdeà
__LDBL_COMPAT


888 
	~<b™s/wch¬-ldbl.h
>

891 
__END_DECLS


899 #undeà
__Ãed_mb¡©e_t


900 #undeà
__Ãed_wšt_t


	@/usr/include/bits/timex.h

18 #iâdef 
_BITS_TIMEX_H


19 
	#_BITS_TIMEX_H
 1

	)

21 
	~<b™s/ty³s.h
>

25 
	stimex


27 
	mmodes
;

28 
__sysÿÎ_¦Úg_t
 
	moff£t
;

29 
__sysÿÎ_¦Úg_t
 
	mäeq
;

30 
__sysÿÎ_¦Úg_t
 
	mmax”rÜ
;

31 
__sysÿÎ_¦Úg_t
 
	me¡”rÜ
;

32 
	m¡©us
;

33 
__sysÿÎ_¦Úg_t
 
	mcÚ¡ªt
;

34 
__sysÿÎ_¦Úg_t
 
	m´ecisiÚ
;

35 
__sysÿÎ_¦Úg_t
 
	mtŞ”ªû
;

36 
timev®
 
	mtime
;

37 
__sysÿÎ_¦Úg_t
 
	mtick
;

38 
__sysÿÎ_¦Úg_t
 
	mµsäeq
;

39 
__sysÿÎ_¦Úg_t
 
	mj™‹r
;

40 
	mshiá
;

41 
__sysÿÎ_¦Úg_t
 
	m¡ab
;

42 
__sysÿÎ_¦Úg_t
 
	mj™út
;

43 
__sysÿÎ_¦Úg_t
 
	mÿlút
;

44 
__sysÿÎ_¦Úg_t
 
	m”rút
;

45 
__sysÿÎ_¦Úg_t
 
	m¡bút
;

47 
	mi
;

56 
	#ADJ_OFFSET
 0x0001

	)

57 
	#ADJ_FREQUENCY
 0x0002

	)

58 
	#ADJ_MAXERROR
 0x0004

	)

59 
	#ADJ_ESTERROR
 0x0008

	)

60 
	#ADJ_STATUS
 0x0010

	)

61 
	#ADJ_TIMECONST
 0x0020

	)

62 
	#ADJ_TAI
 0x0080

	)

63 
	#ADJ_MICRO
 0x1000

	)

64 
	#ADJ_NANO
 0x2000

	)

65 
	#ADJ_TICK
 0x4000

	)

66 
	#ADJ_OFFSET_SINGLESHOT
 0x8001

	)

67 
	#ADJ_OFFSET_SS_READ
 0xa001

	)

70 
	#MOD_OFFSET
 
ADJ_OFFSET


	)

71 
	#MOD_FREQUENCY
 
ADJ_FREQUENCY


	)

72 
	#MOD_MAXERROR
 
ADJ_MAXERROR


	)

73 
	#MOD_ESTERROR
 
ADJ_ESTERROR


	)

74 
	#MOD_STATUS
 
ADJ_STATUS


	)

75 
	#MOD_TIMECONST
 
ADJ_TIMECONST


	)

76 
	#MOD_CLKB
 
ADJ_TICK


	)

77 
	#MOD_CLKA
 
ADJ_OFFSET_SINGLESHOT


	)

78 
	#MOD_TAI
 
ADJ_TAI


	)

79 
	#MOD_MICRO
 
ADJ_MICRO


	)

80 
	#MOD_NANO
 
ADJ_NANO


	)

84 
	#STA_PLL
 0x0001

	)

85 
	#STA_PPSFREQ
 0x0002

	)

86 
	#STA_PPSTIME
 0x0004

	)

87 
	#STA_FLL
 0x0008

	)

89 
	#STA_INS
 0x0010

	)

90 
	#STA_DEL
 0x0020

	)

91 
	#STA_UNSYNC
 0x0040

	)

92 
	#STA_FREQHOLD
 0x0080

	)

94 
	#STA_PPSSIGNAL
 0x0100

	)

95 
	#STA_PPSJITTER
 0x0200

	)

96 
	#STA_PPSWANDER
 0x0400

	)

97 
	#STA_PPSERROR
 0x0800

	)

99 
	#STA_CLOCKERR
 0x1000

	)

100 
	#STA_NANO
 0x2000

	)

101 
	#STA_MODE
 0x4000

	)

102 
	#STA_CLK
 0x8000

	)

105 
	#STA_RONLY
 (
STA_PPSSIGNAL
 | 
STA_PPSJITTER
 | 
STA_PPSWANDER
 | \

106 
STA_PPSERROR
 | 
STA_CLOCKERR
 | 
STA_NANO
 | 
STA_MODE
 | 
STA_CLK
)

	)

	@/usr/include/bits/wchar-ldbl.h

19 #iâdeà
_WCHAR_H


23 #ià
defšed
 
__USE_ISOC95
 || defšed 
__USE_UNIX98


24 
__BEGIN_NAMESPACE_C99


25 
__LDBL_REDIR_DECL
 (
fw´štf
);

26 
__LDBL_REDIR_DECL
 (
w´štf
);

27 
__LDBL_REDIR_DECL
 (
sw´štf
);

28 
__LDBL_REDIR_DECL
 (
vfw´štf
);

29 
__LDBL_REDIR_DECL
 (
vw´štf
);

30 
__LDBL_REDIR_DECL
 (
vsw´štf
);

31 #ià
defšed
 
__USE_ISOC99
 && !defšed 
__USE_GNU
 \

32 && !
defšed
 
	g__REDIRECT
 \

33 && (
defšed
 
	g__STRICT_ANSI__
 || defšed 
	g__USE_XOPEN2K
)

34 
	$__LDBL_REDIR1_DECL
 (
fwsÿnf
, 
__Ædbl___isoc99_fwsÿnf
)

35 
	$__LDBL_REDIR1_DECL
 (
wsÿnf
, 
__Ædbl___isoc99_wsÿnf
)

36 
	$__LDBL_REDIR1_DECL
 (
swsÿnf
, 
__Ædbl___isoc99_swsÿnf
)

38 
	`__LDBL_REDIR_DECL
 (
fwsÿnf
);

39 
	`__LDBL_REDIR_DECL
 (
wsÿnf
);

40 
	`__LDBL_REDIR_DECL
 (
swsÿnf
);

42 
__END_NAMESPACE_C99


45 #ifdeà
__USE_ISOC99


46 
__BEGIN_NAMESPACE_C99


47 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd
, 
wc¡od
);

48 #ià!
defšed
 
__USE_GNU
 && !defšed 
__REDIRECT
 \

49 && (
defšed
 
__STRICT_ANSI__
 || defšed 
__USE_XOPEN2K
)

50 
	$__LDBL_REDIR1_DECL
 (
vfwsÿnf
, 
__Ædbl___isoc99_vfwsÿnf
)

51 
	$__LDBL_REDIR1_DECL
 (
vwsÿnf
, 
__Ædbl___isoc99_vwsÿnf
)

52 
	$__LDBL_REDIR1_DECL
 (
vswsÿnf
, 
__Ædbl___isoc99_vswsÿnf
)

54 
	`__LDBL_REDIR_DECL
 (
vfwsÿnf
);

55 
	`__LDBL_REDIR_DECL
 (
vwsÿnf
);

56 
	`__LDBL_REDIR_DECL
 (
vswsÿnf
);

58 
__END_NAMESPACE_C99


61 #ifdeà
__USE_GNU


62 
	`__LDBL_REDIR1_DECL
 (
wc¡Şd_l
, 
wc¡od_l
);

65 #ià
__USE_FORTIFY_LEVEL
 > 0 && 
defšed
 
__fÜtify_funùiÚ


66 
	$__LDBL_REDIR_DECL
 (
__sw´štf_chk
)

67 
	$__LDBL_REDIR_DECL
 (
__vsw´štf_chk
)

68 #ià
__USE_FORTIFY_LEVEL
 > 1

69 
	$__LDBL_REDIR_DECL
 (
__fw´štf_chk
)

70 
	$__LDBL_REDIR_DECL
 (
__w´štf_chk
)

71 
	$__LDBL_REDIR_DECL
 (
__vfw´štf_chk
)

72 
	$__LDBL_REDIR_DECL
 (
__vw´štf_chk
)

	@/usr/include/bits/wchar2.h

19 #iâdeà
_WCHAR_H


24 
wch¬_t
 *
	$__wmemıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

25 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

26 
size_t
 
__ns1
è
__THROW
;

27 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_®Ÿs
,

28 (
wch¬_t
 *
__»¡riù
 
__s1
,

29 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
),

30 
wmemıy
);

31 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemıy_chk_w¬n
,

32 (
wch¬_t
 *
__»¡riù
 
__s1
,

33 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

34 
size_t
 
__ns1
), 
__wmemıy_chk
)

35 
	`__w¬Ç‰r
 ("wmemcpy called with†ength biggerhan size of destination "

38 
__fÜtify_funùiÚ
 
wch¬_t
 *

39 
	`__NTH
 (
	$wmemıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, cÚ¡ wch¬_ˆ*__»¡riù 
__s2
,

40 
size_t
 
__n
))

42 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

44 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

45  
	`__wmemıy_chk
 (
__s1
, 
__s2
, 
__n
,

46 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

48 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

49  
	`__wmemıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

50 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

52  
	`__wmemıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

53 
	}
}

56 
wch¬_t
 *
	$__wmemmove_chk
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

57 
size_t
 
__n
, size_ˆ
__ns1
è
__THROW
;

58 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_®Ÿs
, (wch¬_ˆ*
__s1
,

59 cÚ¡ 
wch¬_t
 *
__s2
,

60 
size_t
 
__n
), 
wmemmove
);

61 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmemmove_chk_w¬n
,

62 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
,

63 
size_t
 
__n
, size_ˆ
__ns1
), 
__wmemmove_chk
)

64 
	`__w¬Ç‰r
 ("wmemmove called with†ength biggerhan size of destination "

67 
__fÜtify_funùiÚ
 
wch¬_t
 *

68 
	`__NTH
 (
	$wmemmove
 (
wch¬_t
 *
__s1
, cÚ¡ wch¬_ˆ*
__s2
, 
size_t
 
__n
))

70 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

72 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

73  
	`__wmemmove_chk
 (
__s1
, 
__s2
, 
__n
,

74 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

76 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

77  
	`__wmemmove_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

78 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

80  
	`__wmemmove_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

81 
	}
}

84 #ifdeà
__USE_GNU


85 
wch¬_t
 *
	$__wmempıy_chk
 (
wch¬_t
 *
__»¡riù
 
__s1
,

86 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

87 
size_t
 
__ns1
è
__THROW
;

88 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_®Ÿs
,

89 (
wch¬_t
 *
__»¡riù
 
__s1
,

90 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
,

91 
size_t
 
__n
), 
wmempıy
);

92 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmempıy_chk_w¬n
,

93 (
wch¬_t
 *
__»¡riù
 
__s1
,

94 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__s2
, 
size_t
 
__n
,

95 
size_t
 
__ns1
), 
__wmempıy_chk
)

96 
	`__w¬Ç‰r
 ("wmempcpy called with†ength biggerhan size of destination "

99 
__fÜtify_funùiÚ
 
wch¬_t
 *

100 
	`__NTH
 (
	$wmempıy
 (
wch¬_t
 *
__»¡riù
 
__s1
, cÚ¡ wch¬_ˆ*__»¡riù 
__s2
,

101 
size_t
 
__n
))

103 ià(
	`__bos0
 (
__s1
è!ğ(
size_t
) -1)

105 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

106  
	`__wmempıy_chk
 (
__s1
, 
__s2
, 
__n
,

107 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

109 ià(
__n
 > 
	`__bos0
 (
__s1
è/  (
wch¬_t
))

110  
	`__wmempıy_chk_w¬n
 (
__s1
, 
__s2
, 
__n
,

111 
	`__bos0
 (
__s1
è/  (
wch¬_t
));

113  
	`__wmempıy_®Ÿs
 (
__s1
, 
__s2
, 
__n
);

114 
	}
}

118 
wch¬_t
 *
	$__wmem£t_chk
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

119 
size_t
 
__ns
è
__THROW
;

120 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_®Ÿs
, (wch¬_ˆ*
__s
, wch¬_ˆ
__c
,

121 
size_t
 
__n
), 
wmem£t
);

122 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wmem£t_chk_w¬n
,

123 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
,

124 
size_t
 
__ns
), 
__wmem£t_chk
)

125 
	`__w¬Ç‰r
 ("wmemset called with†ength biggerhan size of destination "

128 
__fÜtify_funùiÚ
 
wch¬_t
 *

129 
	`__NTH
 (
	$wmem£t
 (
wch¬_t
 *
__s
, wch¬_ˆ
__c
, 
size_t
 
__n
))

131 ià(
	`__bos0
 (
__s
è!ğ(
size_t
) -1)

133 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

134  
	`__wmem£t_chk
 (
__s
, 
__c
, 
__n
, 
	`__bos0
 (__sè/  (
wch¬_t
));

136 ià(
__n
 > 
	`__bos0
 (
__s
è/  (
wch¬_t
))

137  
	`__wmem£t_chk_w¬n
 (
__s
, 
__c
, 
__n
,

138 
	`__bos0
 (
__s
è/  (
wch¬_t
));

140  
	`__wmem£t_®Ÿs
 (
__s
, 
__c
, 
__n
);

141 
	}
}

144 
wch¬_t
 *
	$__wcsıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

145 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

146 
size_t
 
__n
è
__THROW
;

147 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsıy_®Ÿs
,

148 (
wch¬_t
 *
__»¡riù
 
__de¡
,

149 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsıy
);

151 
__fÜtify_funùiÚ
 
wch¬_t
 *

152 
	`__NTH
 (
	$wcsıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
))

154 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

155  
	`__wcsıy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

156  
	`__wcsıy_®Ÿs
 (
__de¡
, 
__¤c
);

157 
	}
}

160 
wch¬_t
 *
	$__wııy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

161 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

162 
size_t
 
__de¡Ën
è
__THROW
;

163 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wııy_®Ÿs
,

164 (
wch¬_t
 *
__»¡riù
 
__de¡
,

165 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wııy
);

167 
__fÜtify_funùiÚ
 
wch¬_t
 *

168 
	`__NTH
 (
	$wııy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
))

170 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

171  
	`__wııy_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

172  
	`__wııy_®Ÿs
 (
__de¡
, 
__¤c
);

173 
	}
}

176 
wch¬_t
 *
	$__wc¢ıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

177 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

178 
size_t
 
__de¡Ën
è
__THROW
;

179 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_®Ÿs
,

180 (
wch¬_t
 *
__»¡riù
 
__de¡
,

181 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

182 
size_t
 
__n
), 
wc¢ıy
);

183 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ıy_chk_w¬n
,

184 (
wch¬_t
 *
__»¡riù
 
__de¡
,

185 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

186 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wc¢ıy_chk
)

187 
	`__w¬Ç‰r
 ("wcsncpy called with†ength biggerhan size of destination "

190 
__fÜtify_funùiÚ
 
wch¬_t
 *

191 
	`__NTH
 (
	$wc¢ıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
,

192 
size_t
 
__n
))

194 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

196 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

197  
	`__wc¢ıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

198 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

199 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

200  
	`__wc¢ıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

201 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

203  
	`__wc¢ıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

204 
	}
}

207 
wch¬_t
 *
	$__wınıy_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

208 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
, 
size_t
 
__n
,

209 
size_t
 
__de¡Ën
è
__THROW
;

210 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_®Ÿs
,

211 (
wch¬_t
 *
__»¡riù
 
__de¡
,

212 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

213 
size_t
 
__n
), 
wınıy
);

214 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wınıy_chk_w¬n
,

215 (
wch¬_t
 *
__»¡riù
 
__de¡
,

216 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

217 
size_t
 
__n
, size_ˆ
__de¡Ën
), 
__wınıy_chk
)

218 
	`__w¬Ç‰r
 ("wcpncpy called with†ength biggerhan size of destination "

221 
__fÜtify_funùiÚ
 
wch¬_t
 *

222 
	`__NTH
 (
	$wınıy
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
,

223 
size_t
 
__n
))

225 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

227 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
))

228  
	`__wınıy_chk
 (
__de¡
, 
__¤c
, 
__n
,

229 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

230 ià(
__n
 > 
	`__bos
 (
__de¡
è/  (
wch¬_t
))

231  
	`__wınıy_chk_w¬n
 (
__de¡
, 
__¤c
, 
__n
,

232 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

234  
	`__wınıy_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

235 
	}
}

238 
wch¬_t
 *
	$__wcsÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

239 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

240 
size_t
 
__de¡Ën
è
__THROW
;

241 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wcsÿt_®Ÿs
,

242 (
wch¬_t
 *
__»¡riù
 
__de¡
,

243 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
), 
wcsÿt
);

245 
__fÜtify_funùiÚ
 
wch¬_t
 *

246 
	`__NTH
 (
	$wcsÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
))

248 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

249  
	`__wcsÿt_chk
 (
__de¡
, 
__¤c
, 
	`__bos
 (__de¡è/  (
wch¬_t
));

250  
	`__wcsÿt_®Ÿs
 (
__de¡
, 
__¤c
);

251 
	}
}

254 
wch¬_t
 *
	$__wc¢ÿt_chk
 (
wch¬_t
 *
__»¡riù
 
__de¡
,

255 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

256 
size_t
 
__n
, size_ˆ
__de¡Ën
è
__THROW
;

257 
wch¬_t
 *
	`__REDIRECT_NTH
 (
__wc¢ÿt_®Ÿs
,

258 (
wch¬_t
 *
__»¡riù
 
__de¡
,

259 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__¤c
,

260 
size_t
 
__n
), 
wc¢ÿt
);

262 
__fÜtify_funùiÚ
 
wch¬_t
 *

263 
	`__NTH
 (
	$wc¢ÿt
 (
wch¬_t
 *
__»¡riù
 
__de¡
, cÚ¡ wch¬_ˆ*__»¡riù 
__¤c
,

264 
size_t
 
__n
))

266 ià(
	`__bos
 (
__de¡
è!ğ(
size_t
) -1)

267  
	`__wc¢ÿt_chk
 (
__de¡
, 
__¤c
, 
__n
,

268 
	`__bos
 (
__de¡
è/  (
wch¬_t
));

269  
	`__wc¢ÿt_®Ÿs
 (
__de¡
, 
__¤c
, 
__n
);

270 
	}
}

273 
	$__sw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

274 
__æag
, 
size_t
 
__s_Ën
,

275 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...)

276 
__THROW
 ;

278 
	`__REDIRECT_NTH_LDBL
 (
__sw´štf_®Ÿs
,

279 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

280 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, ...),

281 
sw´štf
);

283 #ifdeà
__va_¬g_·ck


284 
__fÜtify_funùiÚ
 

285 
	`__NTH
 (
	$sw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

286 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, ...))

288 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

289  
	`__sw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

290 
	`__bos
 (
__s
è/  (
wch¬_t
),

291 
__fmt
, 
	`__va_¬g_·ck
 ());

292  
	`__sw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
	`__va_¬g_·ck
 ());

293 
	}
}

294 #–ià!
defšed
 
__ılu¥lus


296 
	#sw´štf
(
s
, 
n
, ...) \

297 (
	`__bos
 (
s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1 \

298 ? 
	`__sw´štf_chk
 (
s
, 
n
, 
__USE_FORTIFY_LEVEL
 - 1, \

299 
	`__bos
 (
s
è/  (
wch¬_t
), 
__VA_ARGS__
) \

300 : 
	`sw´štf
 (
s
, 
n
, 
__VA_ARGS__
))

	)

303 
	$__vsw´štf_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

304 
__æag
, 
size_t
 
__s_Ën
,

305 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

306 
__gnuc_va_li¡
 
__¬g
)

307 
__THROW
 ;

309 
	`__REDIRECT_NTH_LDBL
 (
__vsw´štf_®Ÿs
,

310 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

311 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
,

312 
__gnuc_va_li¡
 
__­
), 
vsw´štf
);

314 
__fÜtify_funùiÚ
 

315 
	`__NTH
 (
	$vsw´štf
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__n
,

316 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
))

318 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 || 
__USE_FORTIFY_LEVEL
 > 1)

319  
	`__vsw´štf_chk
 (
__s
, 
__n
, 
__USE_FORTIFY_LEVEL
 - 1,

320 
	`__bos
 (
__s
è/  (
wch¬_t
), 
__fmt
, 
__­
);

321  
	`__vsw´štf_®Ÿs
 (
__s
, 
__n
, 
__fmt
, 
__­
);

322 
	}
}

325 #ià
__USE_FORTIFY_LEVEL
 > 1

327 
__fw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

328 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
, ...);

329 
__w´štf_chk
 (
__æag
, cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

331 
__vfw´štf_chk
 (
__FILE
 *
__»¡riù
 
__¡»am
, 
__æag
,

332 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

333 
__gnuc_va_li¡
 
__­
);

334 
__vw´štf_chk
 (
__æag
, cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fÜm©
,

335 
__gnuc_va_li¡
 
__­
);

337 #ifdeà
__va_¬g_·ck


338 
__fÜtify_funùiÚ
 

339 
	$w´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, ...)

341  
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
	`__va_¬g_·ck
 ());

342 
	}
}

344 
__fÜtify_funùiÚ
 

345 
	$fw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
, cÚ¡ 
wch¬_t
 *__»¡riù 
__fmt
, ...)

347  
	`__fw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
,

348 
	`__va_¬g_·ck
 ());

349 
	}
}

350 #–ià!
defšed
 
__ılu¥lus


351 
	#w´štf
(...) \

352 
	`__w´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

353 
	#fw´štf
(
¡»am
, ...) \

354 
	`__fw´štf_chk
 (
¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__VA_ARGS__
)

	)

357 
__fÜtify_funùiÚ
 

358 
	$vw´štf
 (cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

360  
	`__vw´štf_chk
 (
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

361 
	}
}

363 
__fÜtify_funùiÚ
 

364 
	$vfw´štf
 (
__FILE
 *
__»¡riù
 
__¡»am
,

365 cÚ¡ 
wch¬_t
 *
__»¡riù
 
__fmt
, 
__gnuc_va_li¡
 
__­
)

367  
	`__vfw´štf_chk
 (
__¡»am
, 
__USE_FORTIFY_LEVEL
 - 1, 
__fmt
, 
__­
);

368 
	}
}

372 
wch¬_t
 *
	$__fg‘ws_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

373 
__FILE
 *
__»¡riù
 
__¡»am
è
__wur
;

374 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_®Ÿs
,

375 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

376 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws
è
__wur
;

377 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_chk_w¬n
,

378 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

379 
__FILE
 *
__»¡riù
 
__¡»am
), 
__fg‘ws_chk
)

380 
__wur
 
	`__w¬Ç‰r
 ("fgetws called with bigger sizehan†ength "

383 
__fÜtify_funùiÚ
 
__wur
 
wch¬_t
 *

384 
	$fg‘ws
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

386 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

388 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

389  
	`__fg‘ws_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

390 
__n
, 
__¡»am
);

392 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

393  
	`__fg‘ws_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

394 
__n
, 
__¡»am
);

396  
	`__fg‘ws_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

397 
	}
}

399 #ifdeà
__USE_GNU


400 
wch¬_t
 *
	$__fg‘ws_uÆocked_chk
 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
,

401 
__n
, 
__FILE
 *
__»¡riù
 
__¡»am
)

402 
__wur
;

403 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_®Ÿs
,

404 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
,

405 
__FILE
 *
__»¡riù
 
__¡»am
), 
fg‘ws_uÆocked
)

406 
__wur
;

407 
wch¬_t
 *
	`__REDIRECT
 (
__fg‘ws_uÆocked_chk_w¬n
,

408 (
wch¬_t
 *
__»¡riù
 
__s
, 
size_t
 
__size
, 
__n
,

409 
__FILE
 *
__»¡riù
 
__¡»am
),

410 
__fg‘ws_uÆocked_chk
)

411 
__wur
 
	`__w¬Ç‰r
 ("fgetws_unlocked called with bigger sizehan†ength "

414 
__fÜtify_funùiÚ
 
__wur
 
wch¬_t
 *

415 
	$fg‘ws_uÆocked
 (
wch¬_t
 *
__»¡riù
 
__s
, 
__n
, 
__FILE
 *__»¡riù 
__¡»am
)

417 ià(
	`__bos
 (
__s
è!ğ(
size_t
) -1)

419 ià(!
	`__butš_cÚ¡ªt_p
 (
__n
) || __n <= 0)

420  
	`__fg‘ws_uÆocked_chk
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

421 
__n
, 
__¡»am
);

423 ià((
size_t
è
__n
 > 
	`__bos
 (
__s
è/  (
wch¬_t
))

424  
	`__fg‘ws_uÆocked_chk_w¬n
 (
__s
, 
	`__bos
 (__sè/  (
wch¬_t
),

425 
__n
, 
__¡»am
);

427  
	`__fg‘ws_uÆocked_®Ÿs
 (
__s
, 
__n
, 
__¡»am
);

428 
	}
}

432 
size_t
 
	$__wütomb_chk
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

433 
mb¡©e_t
 *
__»¡riù
 
__p
,

434 
size_t
 
__buæ’
è
__THROW
 
__wur
;

435 
size_t
 
	`__REDIRECT_NTH
 (
__wütomb_®Ÿs
,

436 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

437 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wütomb
è
__wur
;

439 
__fÜtify_funùiÚ
 
__wur
 
size_t


440 
	`__NTH
 (
	$wütomb
 (*
__»¡riù
 
__s
, 
wch¬_t
 
__wch¬
,

441 
mb¡©e_t
 *
__»¡riù
 
__ps
))

446 
	#__WCHAR_MB_LEN_MAX
 16

	)

447 #ià
defšed
 
MB_LEN_MAX
 && MB_LEN_MAX !ğ
__WCHAR_MB_LEN_MAX


450 ià(
	`__bos
 (
__s
è!ğ(
size_t
è-1 && 
__WCHAR_MB_LEN_MAX
 > __bos (__s))

451  
	`__wütomb_chk
 (
__s
, 
__wch¬
, 
__ps
, 
	`__bos
 (__s));

452  
	`__wütomb_®Ÿs
 (
__s
, 
__wch¬
, 
__ps
);

453 
	}
}

456 
size_t
 
	$__mb¤towcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

457 cÚ¡ **
__»¡riù
 
__¤c
,

458 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

459 
size_t
 
__d¡Ën
è
__THROW
;

460 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_®Ÿs
,

461 (
wch¬_t
 *
__»¡riù
 
__d¡
,

462 cÚ¡ **
__»¡riù
 
__¤c
,

463 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

464 
mb¤towcs
);

465 
size_t
 
	`__REDIRECT_NTH
 (
__mb¤towcs_chk_w¬n
,

466 (
wch¬_t
 *
__»¡riù
 
__d¡
,

467 cÚ¡ **
__»¡riù
 
__¤c
,

468 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

469 
size_t
 
__d¡Ën
), 
__mb¤towcs_chk
)

470 
	`__w¬Ç‰r
 ("mbsrtowcs called with dst buffer smallerhan†en "

473 
__fÜtify_funùiÚ
 
size_t


474 
	`__NTH
 (
	$mb¤towcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, cÚ¡ **__»¡riù 
__¤c
,

475 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

477 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

479 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

480  
	`__mb¤towcs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

481 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

483 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

484  
	`__mb¤towcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
,

485 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

487  
	`__mb¤towcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

488 
	}
}

491 
size_t
 
	$__wc¤tombs_chk
 (*
__»¡riù
 
__d¡
,

492 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

493 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

494 
size_t
 
__d¡Ën
è
__THROW
;

495 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_®Ÿs
,

496 (*
__»¡riù
 
__d¡
,

497 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

498 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

499 
wc¤tombs
);

500 
size_t
 
	`__REDIRECT_NTH
 (
__wc¤tombs_chk_w¬n
,

501 (*
__»¡riù
 
__d¡
,

502 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

503 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

504 
size_t
 
__d¡Ën
), 
__wc¤tombs_chk
)

505 
	`__w¬Ç‰r
 ("wcsrtombs called with dst buffer smallerhan†en");

507 
__fÜtify_funùiÚ
 
size_t


508 
	`__NTH
 (
	$wc¤tombs
 (*
__»¡riù
 
__d¡
, cÚ¡ 
wch¬_t
 **__»¡riù 
__¤c
,

509 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

511 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

513 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

514  
	`__wc¤tombs_chk
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

516 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

517  
	`__wc¤tombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
, 
	`__bos
 (__dst));

519  
	`__wc¤tombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__Ën
, 
__ps
);

520 
	}
}

523 #ifdeà
__USE_GNU


524 
size_t
 
	$__mb¢¹owcs_chk
 (
wch¬_t
 *
__»¡riù
 
__d¡
,

525 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

526 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

527 
size_t
 
__d¡Ën
è
__THROW
;

528 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_®Ÿs
,

529 (
wch¬_t
 *
__»¡riù
 
__d¡
,

530 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

531 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
),

532 
mb¢¹owcs
);

533 
size_t
 
	`__REDIRECT_NTH
 (
__mb¢¹owcs_chk_w¬n
,

534 (
wch¬_t
 *
__»¡riù
 
__d¡
,

535 cÚ¡ **
__»¡riù
 
__¤c
, 
size_t
 
__nmc
,

536 
size_t
 
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
,

537 
size_t
 
__d¡Ën
), 
__mb¢¹owcs_chk
)

538 
	`__w¬Ç‰r
 ("mbsnrtowcs called with dst buffer smallerhan†en "

541 
__fÜtify_funùiÚ
 
size_t


542 
	`__NTH
 (
	$mb¢¹owcs
 (
wch¬_t
 *
__»¡riù
 
__d¡
, cÚ¡ **__»¡riù 
__¤c
,

543 
size_t
 
__nmc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

545 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

547 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

548  
	`__mb¢¹owcs_chk
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

549 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

551 ià(
__Ën
 > 
	`__bos
 (
__d¡
è/  (
wch¬_t
))

552  
	`__mb¢¹owcs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
,

553 
	`__bos
 (
__d¡
è/  (
wch¬_t
));

555  
	`__mb¢¹owcs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nmc
, 
__Ën
, 
__ps
);

556 
	}
}

559 
size_t
 
	$__wc¢¹ombs_chk
 (*
__»¡riù
 
__d¡
,

560 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

561 
size_t
 
__nwc
, size_ˆ
__Ën
,

562 
mb¡©e_t
 *
__»¡riù
 
__ps
, 
size_t
 
__d¡Ën
)

563 
__THROW
;

564 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_®Ÿs
,

565 (*
__»¡riù
 
__d¡
,

566 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

567 
size_t
 
__nwc
, size_ˆ
__Ën
,

568 
mb¡©e_t
 *
__»¡riù
 
__ps
), 
wc¢¹ombs
);

569 
size_t
 
	`__REDIRECT_NTH
 (
__wc¢¹ombs_chk_w¬n
,

570 (*
__»¡riù
 
__d¡
,

571 cÚ¡ 
wch¬_t
 **
__»¡riù
 
__¤c
,

572 
size_t
 
__nwc
, size_ˆ
__Ën
,

573 
mb¡©e_t
 *
__»¡riù
 
__ps
,

574 
size_t
 
__d¡Ën
), 
__wc¢¹ombs_chk
)

575 
	`__w¬Ç‰r
 ("wcsnrtombs called with dst buffer smallerhan†en");

577 
__fÜtify_funùiÚ
 
size_t


578 
	`__NTH
 (
	$wc¢¹ombs
 (*
__»¡riù
 
__d¡
, cÚ¡ 
wch¬_t
 **__»¡riù 
__¤c
,

579 
size_t
 
__nwc
, size_ˆ
__Ën
, 
mb¡©e_t
 *
__»¡riù
 
__ps
))

581 ià(
	`__bos
 (
__d¡
è!ğ(
size_t
) -1)

583 ià(!
	`__butš_cÚ¡ªt_p
 (
__Ën
))

584  
	`__wc¢¹ombs_chk
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

585 
	`__bos
 (
__d¡
));

587 ià(
__Ën
 > 
	`__bos
 (
__d¡
))

588  
	`__wc¢¹ombs_chk_w¬n
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
,

589 
	`__bos
 (
__d¡
));

591  
	`__wc¢¹ombs_®Ÿs
 (
__d¡
, 
__¤c
, 
__nwc
, 
__Ën
, 
__ps
);

592 
	}
}

	@/usr/include/errno.h

22 #iâdef 
_ERRNO_H


26 #iâdef 
__Ãed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<ã©u»s.h
>

31 
	g__BEGIN_DECLS


35 
	~<b™s/”ºo.h
>

36 #undeà
__Ãed_Em©h


38 #ifdef 
_ERRNO_H


45 #iâdef 
”ºo


46 
”ºo
;

49 #ifdeà
__USE_GNU


54 *
´og¿m_švoÿtiÚ_Çme
, *
´og¿m_švoÿtiÚ_shÜt_Çme
;

58 
	g__END_DECLS


66 #ià
defšed
 
__USE_GNU
 || defšed 
__Ãed_”rÜ_t


67 #iâdeà
__”rÜ_t_defšed


68 
	t”rÜ_t
;

69 
	#__”rÜ_t_defšed
 1

	)

71 #undeà
__Ãed_”rÜ_t


	@/usr/include/gnu/option-groups.h

10 #iâdeà
__GNU_OPTION_GROUPS_H


11 
	#__GNU_OPTION_GROUPS_H


	)

13 
	#__OPTION_EGLIBC_ADVANCED_INET6
 1

	)

14 
	#__OPTION_EGLIBC_BACKTRACE
 1

	)

15 
	#__OPTION_EGLIBC_BIG_MACROS
 1

	)

16 
	#__OPTION_EGLIBC_BSD
 1

	)

17 
	#__OPTION_EGLIBC_CATGETS
 1

	)

18 
	#__OPTION_EGLIBC_CHARSETS
 1

	)

19 
	#__OPTION_EGLIBC_CRYPT
 1

	)

20 
	#__OPTION_EGLIBC_CRYPT_UFC
 1

	)

21 
	#__OPTION_EGLIBC_CXX_TESTS
 1

	)

22 
	#__OPTION_EGLIBC_DB_ALIASES
 1

	)

23 
	#__OPTION_EGLIBC_ENVZ
 1

	)

24 
	#__OPTION_EGLIBC_FCVT
 1

	)

25 
	#__OPTION_EGLIBC_FMTMSG
 1

	)

26 
	#__OPTION_EGLIBC_FSTAB
 1

	)

27 
	#__OPTION_EGLIBC_FTRAVERSE
 1

	)

28 
	#__OPTION_EGLIBC_GETLOGIN
 1

	)

29 
	#__OPTION_EGLIBC_IDN
 1

	)

30 
	#__OPTION_EGLIBC_INET
 1

	)

31 
	#__OPTION_EGLIBC_INET_ANL
 1

	)

32 
	#__OPTION_EGLIBC_LIBM
 1

	)

33 
	#__OPTION_EGLIBC_LIBM_BIG
 1

	)

34 
	#__OPTION_EGLIBC_LOCALES
 1

	)

35 
	#__OPTION_EGLIBC_LOCALE_CODE
 1

	)

36 
	#__OPTION_EGLIBC_MEMUSAGE
 1

	)

37 
	#__OPTION_EGLIBC_NIS
 1

	)

38 
	#__OPTION_EGLIBC_NSSWITCH
 1

	)

39 
	#__OPTION_EGLIBC_RCMD
 1

	)

40 
	#__OPTION_EGLIBC_RTLD_DEBUG
 1

	)

41 
	#__OPTION_EGLIBC_SPAWN
 1

	)

42 
	#__OPTION_EGLIBC_STREAMS
 1

	)

43 
	#__OPTION_EGLIBC_SUNRPC
 1

	)

44 
	#__OPTION_EGLIBC_UTMP
 1

	)

45 
	#__OPTION_EGLIBC_UTMPX
 1

	)

46 
	#__OPTION_EGLIBC_WORDEXP
 1

	)

47 
	#__OPTION_POSIX_C_LANG_WIDE_CHAR
 1

	)

48 
	#__OPTION_POSIX_REGEXP
 1

	)

49 
	#__OPTION_POSIX_REGEXP_GLIBC
 1

	)

50 
	#__OPTION_POSIX_WIDE_CHAR_DEVICE_IO
 1

	)

	@/usr/include/pthread.h

18 #iâdeà
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<ã©u»s.h
>

22 
	~<’dŸn.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<b™s/±h»adty³s.h
>

27 
	~<b™s/£tjmp.h
>

28 
	~<b™s/wÜdsize.h
>

34 
	mPTHREAD_CREATE_JOINABLE
,

35 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

36 
	mPTHREAD_CREATE_DETACHED


37 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

44 
	mPTHREAD_MUTEX_TIMED_NP
,

45 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

46 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

47 
	mPTHREAD_MUTEX_ADAPTIVE_NP


48 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


50 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

51 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

52 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

53 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


55 #ifdeà
__USE_GNU


57 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


62 #ifdeà
__USE_XOPEN2K


66 
	mPTHREAD_MUTEX_STALLED
,

67 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_ROBUST
,

69 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


74 #ià
defšed
 
__USE_POSIX199506
 || defšed 
__USE_UNIX98


78 
	mPTHREAD_PRIO_NONE
,

79 
	mPTHREAD_PRIO_INHERIT
,

80 
	mPTHREAD_PRIO_PROTECT


86 #ifdeà
__PTHREAD_MUTEX_HAVE_PREV


87 
	#PTHREAD_MUTEX_INITIALIZER
 \

88 { { 0, 0, 0, 0, 0, 0, { 0, 0 } } }

	)

89 #ifdeà
__USE_GNU


90 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

91 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0, 0 } } }

	)

92 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

93 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0, 0 } } }

	)

94 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0, 0 } } }

	)

98 
	#PTHREAD_MUTEX_INITIALIZER
 \

99 { { 0, 0, 0, 0, 0, { 0 } } }

	)

100 #ifdeà
__USE_GNU


101 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

102 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0 } } }

	)

103 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

104 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0 } } }

	)

105 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0 } } }

	)

112 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


115 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

116 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

117 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

118 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


124 #iâdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


125 #ià
__WORDSIZE
 == 64

126 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

131 
	#PTHREAD_RWLOCK_INITIALIZER
 \

132 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

133 #ifdeà
__USE_GNU


134 #ifdeà
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


135 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

137 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

139 #ià
__BYTE_ORDER
 =ğ
__LITTLE_ENDIAN


140 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

141 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

142 0, 0, 0, 0 } }

	)

144 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

145 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

146 0 } }

	)

156 
	mPTHREAD_INHERIT_SCHED
,

157 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

158 
	mPTHREAD_EXPLICIT_SCHED


159 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

166 
	mPTHREAD_SCOPE_SYSTEM
,

167 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

168 
	mPTHREAD_SCOPE_PROCESS


169 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

176 
	mPTHREAD_PROCESS_PRIVATE
,

177 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

178 
	mPTHREAD_PROCESS_SHARED


179 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

185 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*è0, 0, 0 } }

	)

189 
	s_±h»ad_ş—nup_bufãr


191 (*
	m__routše
) (*);

192 *
	m__¬g
;

193 
	m__ÿnûÉy³
;

194 
_±h»ad_ş—nup_bufãr
 *
	m__´ev
;

200 
	mPTHREAD_CANCEL_ENABLE
,

201 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

202 
	mPTHREAD_CANCEL_DISABLE


203 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

207 
	mPTHREAD_CANCEL_DEFERRED
,

208 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

209 
	mPTHREAD_CANCEL_ASYNCHRONOUS


210 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

212 
	#PTHREAD_CANCELED
 ((*è-1)

	)

216 
	#PTHREAD_ONCE_INIT
 0

	)

219 #ifdeà
__USE_XOPEN2K


223 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

227 
__BEGIN_DECLS


232 
±h»ad_ü—‹
 (
±h»ad_t
 *
__»¡riù
 
__Ãwth»ad
,

233 cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

234 *(*
__¡¬t_routše
) (*),

235 *
__»¡riù
 
__¬g
è
__THROWNL
 
__nÚnuÎ
 ((1, 3));

241 
	$±h»ad_ex™
 (*
__»tv®
è
	`__©Œibu‹__
 ((
__nÜ‘uº__
));

249 
	`±h»ad_još
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
);

251 #ifdeà
__USE_GNU


254 
	$±h»ad_Œyjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
è
__THROW
;

262 
	`±h»ad_timedjoš_Å
 (
±h»ad_t
 
__th
, **
__th»ad_»tuº
,

263 cÚ¡ 
time¥ec
 *
__ab¡ime
);

270 
	$±h»ad_d‘ach
 (
±h»ad_t
 
__th
è
__THROW
;

274 
±h»ad_t
 
	$±h»ad_£lf
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

277 
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
)

278 
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

286 
	$±h»ad_©Œ_š™
 (
±h»ad_©Œ_t
 *
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

289 
	$±h»ad_©Œ_de¡roy
 (
±h»ad_©Œ_t
 *
__©Œ
)

290 
__THROW
 
	`__nÚnuÎ
 ((1));

293 
	$±h»ad_©Œ_g‘d‘ach¡©e
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

294 *
__d‘ach¡©e
)

295 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

298 
	$±h»ad_©Œ_£td‘ach¡©e
 (
±h»ad_©Œ_t
 *
__©Œ
,

299 
__d‘ach¡©e
)

300 
__THROW
 
	`__nÚnuÎ
 ((1));

304 
	$±h»ad_©Œ_g‘gu¬dsize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

305 
size_t
 *
__gu¬dsize
)

306 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

309 
	$±h»ad_©Œ_£tgu¬dsize
 (
±h»ad_©Œ_t
 *
__©Œ
,

310 
size_t
 
__gu¬dsize
)

311 
__THROW
 
	`__nÚnuÎ
 ((1));

315 
	$±h»ad_©Œ_g‘sched·¿m
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

316 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

317 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

320 
	$±h»ad_©Œ_£tsched·¿m
 (
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

321 cÚ¡ 
sched_·¿m
 *
__»¡riù


322 
__·¿m
è
__THROW
 
	`__nÚnuÎ
 ((1, 2));

325 
	$±h»ad_©Œ_g‘schedpŞicy
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


326 
__©Œ
, *
__»¡riù
 
__pŞicy
)

327 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

330 
	$±h»ad_©Œ_£tschedpŞicy
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__pŞicy
)

331 
__THROW
 
	`__nÚnuÎ
 ((1));

334 
	$±h»ad_©Œ_g‘šh”™sched
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


335 
__©Œ
, *
__»¡riù
 
__šh”™
)

336 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

339 
	$±h»ad_©Œ_£tšh”™sched
 (
±h»ad_©Œ_t
 *
__©Œ
,

340 
__šh”™
)

341 
__THROW
 
	`__nÚnuÎ
 ((1));

345 
	$±h»ad_©Œ_g‘scİe
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

346 *
__»¡riù
 
__scİe
)

347 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

350 
	$±h»ad_©Œ_£tscİe
 (
±h»ad_©Œ_t
 *
__©Œ
, 
__scİe
)

351 
__THROW
 
	`__nÚnuÎ
 ((1));

354 
	$±h»ad_©Œ_g‘¡ackaddr
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


355 
__©Œ
, **
__»¡riù
 
__¡ackaddr
)

356 
__THROW
 
	`__nÚnuÎ
 ((1, 2)è
__©Œibu‹_d•»ÿ‹d__
;

362 
	$±h»ad_©Œ_£t¡ackaddr
 (
±h»ad_©Œ_t
 *
__©Œ
,

363 *
__¡ackaddr
)

364 
__THROW
 
	`__nÚnuÎ
 ((1)è
__©Œibu‹_d•»ÿ‹d__
;

367 
	$±h»ad_©Œ_g‘¡acksize
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù


368 
__©Œ
, 
size_t
 *
__»¡riù
 
__¡acksize
)

369 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

374 
	$±h»ad_©Œ_£t¡acksize
 (
±h»ad_©Œ_t
 *
__©Œ
,

375 
size_t
 
__¡acksize
)

376 
__THROW
 
	`__nÚnuÎ
 ((1));

378 #ifdeà
__USE_XOPEN2K


380 
	$±h»ad_©Œ_g‘¡ack
 (cÚ¡ 
±h»ad_©Œ_t
 *
__»¡riù
 
__©Œ
,

381 **
__»¡riù
 
__¡ackaddr
,

382 
size_t
 *
__»¡riù
 
__¡acksize
)

383 
__THROW
 
	`__nÚnuÎ
 ((1, 2, 3));

388 
	$±h»ad_©Œ_£t¡ack
 (
±h»ad_©Œ_t
 *
__©Œ
, *
__¡ackaddr
,

389 
size_t
 
__¡acksize
è
__THROW
 
	`__nÚnuÎ
 ((1));

392 #ifdeà
__USE_GNU


395 
	$±h»ad_©Œ_£ffš™y_Å
 (
±h»ad_©Œ_t
 *
__©Œ
,

396 
size_t
 
__ıu£tsize
,

397 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

398 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

402 
	$±h»ad_©Œ_g‘affš™y_Å
 (cÚ¡ 
±h»ad_©Œ_t
 *
__©Œ
,

403 
size_t
 
__ıu£tsize
,

404 
ıu_£t_t
 *
__ıu£t
)

405 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

411 
	$±h»ad_g‘©Œ_Å
 (
±h»ad_t
 
__th
, 
±h»ad_©Œ_t
 *
__©Œ
)

412 
__THROW
 
	`__nÚnuÎ
 ((2));

420 
	$±h»ad_£tsched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
, 
__pŞicy
,

421 cÚ¡ 
sched_·¿m
 *
__·¿m
)

422 
__THROW
 
	`__nÚnuÎ
 ((3));

425 
	$±h»ad_g‘sched·¿m
 (
±h»ad_t
 
__rg‘_th»ad
,

426 *
__»¡riù
 
__pŞicy
,

427 
sched_·¿m
 *
__»¡riù
 
__·¿m
)

428 
__THROW
 
	`__nÚnuÎ
 ((2, 3));

431 
	$±h»ad_£tsched´io
 (
±h»ad_t
 
__rg‘_th»ad
, 
__´io
)

432 
__THROW
;

435 #ifdeà
__USE_GNU


437 
	$±h»ad_g‘Çme_Å
 (
±h»ad_t
 
__rg‘_th»ad
, *
__buf
,

438 
size_t
 
__buæ’
)

439 
__THROW
 
	`__nÚnuÎ
 ((2));

442 
	$±h»ad_£Šame_Å
 (
±h»ad_t
 
__rg‘_th»ad
, cÚ¡ *
__Çme
)

443 
__THROW
 
	`__nÚnuÎ
 ((2));

447 #ifdeà
__USE_UNIX98


449 
	$±h»ad_g‘cÚcu¼’cy
 (è
__THROW
;

452 
	$±h»ad_£tcÚcu¼’cy
 (
__Ëv–
è
__THROW
;

455 #ifdeà
__USE_GNU


460 
	$±h»ad_y›ld
 (è
__THROW
;

465 
	$±h»ad_£ffš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

466 cÚ¡ 
ıu_£t_t
 *
__ıu£t
)

467 
__THROW
 
	`__nÚnuÎ
 ((3));

470 
	$±h»ad_g‘affš™y_Å
 (
±h»ad_t
 
__th
, 
size_t
 
__ıu£tsize
,

471 
ıu_£t_t
 *
__ıu£t
)

472 
__THROW
 
	`__nÚnuÎ
 ((3));

485 
	`±h»ad_Úû
 (
±h»ad_Úû_t
 *
__Úû_cÚŒŞ
,

486 (*
__š™_routše
è()è
	`__nÚnuÎ
 ((1, 2));

497 
	`±h»ad_£tÿnûl¡©e
 (
__¡©e
, *
__Şd¡©e
);

501 
	`±h»ad_£tÿnûÉy³
 (
__ty³
, *
__Şdty³
);

504 
	`±h»ad_ÿnûl
 (
±h»ad_t
 
__th
);

509 
	`±h»ad_‹¡ÿnûl
 ();

518 
__jmp_buf
 
__ÿnûl_jmp_buf
;

519 
__mask_was_§ved
;

520 } 
__ÿnûl_jmp_buf
[1];

521 *
__·d
[4];

522 } 
	t__±h»ad_unwšd_buf_t
 
	t__©Œibu‹__
 ((
	t__®igÃd__
));

525 #iâdeà
__ş—nup_fù_©Œibu‹


526 
	#__ş—nup_fù_©Œibu‹


	)

531 
	s__±h»ad_ş—nup_äame


533 (*
__ÿnûl_routše
) (*);

534 *
__ÿnûl_¬g
;

535 
__do_™
;

536 
__ÿnûl_ty³
;

539 #ià
defšed
 
__GNUC__
 && defšed 
__EXCEPTIONS


540 #ifdeà
__ılu¥lus


542 şas 
	c__±h»ad_ş—nup_şass


544 (*
__ÿnûl_routše
) (*);

545 *
__ÿnûl_¬g
;

546 
__do_™
;

547 
__ÿnûl_ty³
;

549 
public
:

550 
	`__±h»ad_ş—nup_şass
 ((*
__fù
è(*), *
__¬g
)

551 : 
	`__ÿnûl_routše
 (
__fù
), 
	`__ÿnûl_¬g
 (
__¬g
), 
	$__do_™
 (1) { }

552 ~
	$__±h»ad_ş—nup_şass
 (è{ ià(
__do_™
è
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); 
	}
}

553 
	$__£tdo™
 (
__Ãwv®
è{ 
__do_™
 = __Ãwv®; 
	}
}

554 
	$__deãr
 (è{ 
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
,

555 &
__ÿnûl_ty³
); 
	}
}

556 
	$__»¡Üe
 (ècÚ¡ { 
	`±h»ad_£tÿnûÉy³
 (
__ÿnûl_ty³
, 0); 
	}
}

566 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

568 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
)

	)

572 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

573 
__şäame
.
	`__£tdo™
 (
execu‹
); \

574 } 0)

	)

576 #ifdeà
__USE_GNU


580 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

582 
__±h»ad_ş—nup_şass
 
	`__şäame
 (
routše
, 
¬g
); \

583 
__şäame
.
	`__deãr
 ()

	)

588 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

589 
__şäame
.
	`__»¡Üe
 (); \

590 
__şäame
.
	`__£tdo™
 (
execu‹
); \

591 } 0)

	)

598 
__ex‹º_šlše
 

599 
	$__±h»ad_ş—nup_routše
 (
__±h»ad_ş—nup_äame
 *
__äame
)

601 ià(
__äame
->
__do_™
)

602 
__äame
->
	`__ÿnûl_routše
 (__äame->
__ÿnûl_¬g
);

603 
	}
}

612 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

614 
__±h»ad_ş—nup_äame
 
__şäame
 \

615 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

616 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

617 .
__do_™
 = 1 };

	)

621 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

622 
__şäame
.
__do_™
 = (
execu‹
); \

623 } 0)

	)

625 #ifdeà
__USE_GNU


629 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

631 
__±h»ad_ş—nup_äame
 
__şäame
 \

632 
	`__©Œibu‹__
 ((
	`__ş—nup__
 (
__±h»ad_ş—nup_routše
))) \

633 ğ{ .
__ÿnûl_routše
 = (
routše
), .
__ÿnûl_¬g
 = (
¬g
), \

634 .
__do_™
 = 1 }; \

635 (è
	`±h»ad_£tÿnûÉy³
 (
PTHREAD_CANCEL_DEFERRED
, \

636 &
__şäame
.
__ÿnûl_ty³
)

	)

641 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

642 (è
	`±h»ad_£tÿnûÉy³
 (
__şäame
.
__ÿnûl_ty³
, 
NULL
); \

643 
__şäame
.
__do_™
 = (
execu‹
); \

644 } 0)

	)

655 
	#±h»ad_ş—nup_push
(
routše
, 
¬g
) \

657 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

658 (*
__ÿnûl_routše
è(*èğ(
routše
); \

659 *
__ÿnûl_¬g
 = (
¬g
); \

660 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

661 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

662 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

664 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

665 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

669 
	`__±h»ad_»gi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

670 dØ{

	)

671 
__±h»ad_»gi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

672 
__ş—nup_fù_©Œibu‹
;

676 
	#±h»ad_ş—nup_pİ
(
execu‹
) \

679 
	`__±h»ad_uÄegi¡”_ÿnûl
 (&
__ÿnûl_buf
); \

680 ià(
execu‹
) \

681 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

682 } 0)

	)

683 
	$__±h»ad_uÄegi¡”_ÿnûl
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

684 
__ş—nup_fù_©Œibu‹
;

686 #ifdeà
__USE_GNU


690 
	#±h»ad_ş—nup_push_deãr_Å
(
routše
, 
¬g
) \

692 
__±h»ad_unwšd_buf_t
 
__ÿnûl_buf
; \

693 (*
__ÿnûl_routše
è(*èğ(
routše
); \

694 *
__ÿnûl_¬g
 = (
¬g
); \

695 
__nÙ_fœ¡_ÿÎ
 = 
	`__sig£tjmp
 ((
__jmp_buf_g
 *) (*) \

696 
__ÿnûl_buf
.
__ÿnûl_jmp_buf
, 0); \

697 ià(
	`__glibc_uÆik–y
 (
__nÙ_fœ¡_ÿÎ
)) \

699 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

700 
	`__±h»ad_unwšd_Ãxt
 (&
__ÿnûl_buf
); \

704 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (&
__ÿnûl_buf
); \

705 dØ{

	)

706 
	`__±h»ad_»gi¡”_ÿnûl_deãr
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

707 
__ş—nup_fù_©Œibu‹
;

712 
	#±h»ad_ş—nup_pİ_»¡Üe_Å
(
execu‹
) \

715 
	`__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (&
__ÿnûl_buf
); \

716 ià(
execu‹
) \

717 
	`__ÿnûl_routše
 (
__ÿnûl_¬g
); \

718 
	}
} 0)

	)

719 
	$__±h»ad_uÄegi¡”_ÿnûl_»¡Üe
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

720 
__ş—nup_fù_©Œibu‹
;

724 
	$__±h»ad_unwšd_Ãxt
 (
__±h»ad_unwšd_buf_t
 *
__buf
)

725 
__ş—nup_fù_©Œibu‹
 
	`__©Œibu‹__
 ((
__nÜ‘uº__
))

726 #iâdeà
SHARED


727 
	`__©Œibu‹__
 ((
__w—k__
))

733 
__jmp_buf_g
;

734 
	$__sig£tjmp
 (
__jmp_buf_g
 *
__’v
, 
__§vemask
è
__THROWNL
;

740 
	$±h»ad_mu‹x_š™
 (
±h»ad_mu‹x_t
 *
__mu‹x
,

741 cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__mu‹x©Œ
)

742 
__THROW
 
	`__nÚnuÎ
 ((1));

745 
	$±h»ad_mu‹x_de¡roy
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

746 
__THROW
 
	`__nÚnuÎ
 ((1));

749 
	$±h»ad_mu‹x_Œylock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

750 
__THROWNL
 
	`__nÚnuÎ
 ((1));

753 
	$±h»ad_mu‹x_lock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

754 
__THROWNL
 
	`__nÚnuÎ
 ((1));

756 #ifdeà
__USE_XOPEN2K


758 
	$±h»ad_mu‹x_timedlock
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

759 cÚ¡ 
time¥ec
 *
__»¡riù


760 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

764 
	$±h»ad_mu‹x_uÆock
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

765 
__THROWNL
 
	`__nÚnuÎ
 ((1));

769 
	$±h»ad_mu‹x_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x_t
 *

770 
__»¡riù
 
__mu‹x
,

771 *
__»¡riù
 
__´ioûšg
)

772 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

776 
	$±h»ad_mu‹x_£rioûšg
 (
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

777 
__´ioûšg
,

778 *
__»¡riù
 
__Şd_ûšg
)

779 
__THROW
 
	`__nÚnuÎ
 ((1, 3));

782 #ifdeà
__USE_XOPEN2K8


784 
	$±h»ad_mu‹x_cÚsi¡’t
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

785 
__THROW
 
	`__nÚnuÎ
 ((1));

786 #ifdeà
__USE_GNU


787 
	$±h»ad_mu‹x_cÚsi¡’t_Å
 (
±h»ad_mu‹x_t
 *
__mu‹x
)

788 
__THROW
 
	`__nÚnuÎ
 ((1));

797 
	$±h»ad_mu‹x©Œ_š™
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

798 
__THROW
 
	`__nÚnuÎ
 ((1));

801 
	$±h»ad_mu‹x©Œ_de¡roy
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
)

802 
__THROW
 
	`__nÚnuÎ
 ((1));

805 
	$±h»ad_mu‹x©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

806 
__»¡riù
 
__©Œ
,

807 *
__»¡riù
 
__psh¬ed
)

808 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

811 
	$±h»ad_mu‹x©Œ_£sh¬ed
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

812 
__psh¬ed
)

813 
__THROW
 
	`__nÚnuÎ
 ((1));

815 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K8


817 
	$±h»ad_mu‹x©Œ_g‘ty³
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__»¡riù


818 
__©Œ
, *
__»¡riù
 
__kšd
)

819 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

824 
	$±h»ad_mu‹x©Œ_£‰y³
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
, 
__kšd
)

825 
__THROW
 
	`__nÚnuÎ
 ((1));

829 
	$±h»ad_mu‹x©Œ_g‘´ÙocŞ
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

830 
__»¡riù
 
__©Œ
,

831 *
__»¡riù
 
__´ÙocŞ
)

832 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

836 
	$±h»ad_mu‹x©Œ_£rÙocŞ
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

837 
__´ÙocŞ
)

838 
__THROW
 
	`__nÚnuÎ
 ((1));

841 
	$±h»ad_mu‹x©Œ_g‘´ioûšg
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *

842 
__»¡riù
 
__©Œ
,

843 *
__»¡riù
 
__´ioûšg
)

844 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

847 
	$±h»ad_mu‹x©Œ_£rioûšg
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

848 
__´ioûšg
)

849 
__THROW
 
	`__nÚnuÎ
 ((1));

851 #ifdeà
__USE_XOPEN2K


853 
	$±h»ad_mu‹x©Œ_g‘robu¡
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

854 *
__robu¡Ãss
)

855 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

856 #ifdeà
__USE_GNU


857 
	$±h»ad_mu‹x©Œ_g‘robu¡_Å
 (cÚ¡ 
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

858 *
__robu¡Ãss
)

859 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

863 
	$±h»ad_mu‹x©Œ_£Œobu¡
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

864 
__robu¡Ãss
)

865 
__THROW
 
	`__nÚnuÎ
 ((1));

866 #ifdeà
__USE_GNU


867 
	$±h»ad_mu‹x©Œ_£Œobu¡_Å
 (
±h»ad_mu‹x©Œ_t
 *
__©Œ
,

868 
__robu¡Ãss
)

869 
__THROW
 
	`__nÚnuÎ
 ((1));

874 #ià
defšed
 
__USE_UNIX98
 || defšed 
__USE_XOPEN2K


879 
	$±h»ad_rwlock_š™
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

880 cÚ¡ 
±h»ad_rwlock©Œ_t
 *
__»¡riù


881 
__©Œ
è
__THROW
 
	`__nÚnuÎ
 ((1));

884 
	$±h»ad_rwlock_de¡roy
 (
±h»ad_rwlock_t
 *
__rwlock
)

885 
__THROW
 
	`__nÚnuÎ
 ((1));

888 
	$±h»ad_rwlock_rdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

889 
__THROWNL
 
	`__nÚnuÎ
 ((1));

892 
	$±h»ad_rwlock_Œyrdlock
 (
±h»ad_rwlock_t
 *
__rwlock
)

893 
__THROWNL
 
	`__nÚnuÎ
 ((1));

895 #ifdeà
__USE_XOPEN2K


897 
	$±h»ad_rwlock_timedrdlock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

898 cÚ¡ 
time¥ec
 *
__»¡riù


899 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

903 
	$±h»ad_rwlock_w¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

904 
__THROWNL
 
	`__nÚnuÎ
 ((1));

907 
	$±h»ad_rwlock_Œyw¾ock
 (
±h»ad_rwlock_t
 *
__rwlock
)

908 
__THROWNL
 
	`__nÚnuÎ
 ((1));

910 #ifdeà
__USE_XOPEN2K


912 
	$±h»ad_rwlock_timedw¾ock
 (
±h»ad_rwlock_t
 *
__»¡riù
 
__rwlock
,

913 cÚ¡ 
time¥ec
 *
__»¡riù


914 
__ab¡ime
è
__THROWNL
 
	`__nÚnuÎ
 ((1, 2));

918 
	$±h»ad_rwlock_uÆock
 (
±h»ad_rwlock_t
 *
__rwlock
)

919 
__THROWNL
 
	`__nÚnuÎ
 ((1));

925 
	$±h»ad_rwlock©Œ_š™
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

926 
__THROW
 
	`__nÚnuÎ
 ((1));

929 
	$±h»ad_rwlock©Œ_de¡roy
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
)

930 
__THROW
 
	`__nÚnuÎ
 ((1));

933 
	$±h»ad_rwlock©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

934 
__»¡riù
 
__©Œ
,

935 *
__»¡riù
 
__psh¬ed
)

936 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

939 
	$±h»ad_rwlock©Œ_£sh¬ed
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

940 
__psh¬ed
)

941 
__THROW
 
	`__nÚnuÎ
 ((1));

944 
	$±h»ad_rwlock©Œ_g‘kšd_Å
 (cÚ¡ 
±h»ad_rwlock©Œ_t
 *

945 
__»¡riù
 
__©Œ
,

946 *
__»¡riù
 
__´ef
)

947 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

950 
	$±h»ad_rwlock©Œ_£tkšd_Å
 (
±h»ad_rwlock©Œ_t
 *
__©Œ
,

951 
__´ef
è
__THROW
 
	`__nÚnuÎ
 ((1));

959 
	$±h»ad_cÚd_š™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

960 cÚ¡ 
±h»ad_cÚd©Œ_t
 *
__»¡riù
 
__cÚd_©Œ
)

961 
__THROW
 
	`__nÚnuÎ
 ((1));

964 
	$±h»ad_cÚd_de¡roy
 (
±h»ad_cÚd_t
 *
__cÚd
)

965 
__THROW
 
	`__nÚnuÎ
 ((1));

968 
	$±h»ad_cÚd_sigÇl
 (
±h»ad_cÚd_t
 *
__cÚd
)

969 
__THROWNL
 
	`__nÚnuÎ
 ((1));

972 
	$±h»ad_cÚd_brßdÿ¡
 (
±h»ad_cÚd_t
 *
__cÚd
)

973 
__THROWNL
 
	`__nÚnuÎ
 ((1));

980 
	$±h»ad_cÚd_wa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

981 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
)

982 
	`__nÚnuÎ
 ((1, 2));

991 
	$±h»ad_cÚd_timedwa™
 (
±h»ad_cÚd_t
 *
__»¡riù
 
__cÚd
,

992 
±h»ad_mu‹x_t
 *
__»¡riù
 
__mu‹x
,

993 cÚ¡ 
time¥ec
 *
__»¡riù
 
__ab¡ime
)

994 
	`__nÚnuÎ
 ((1, 2, 3));

999 
	$±h»ad_cÚd©Œ_š™
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1000 
__THROW
 
	`__nÚnuÎ
 ((1));

1003 
	$±h»ad_cÚd©Œ_de¡roy
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
)

1004 
__THROW
 
	`__nÚnuÎ
 ((1));

1007 
	$±h»ad_cÚd©Œ_g‘psh¬ed
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1008 
__»¡riù
 
__©Œ
,

1009 *
__»¡riù
 
__psh¬ed
)

1010 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1013 
	$±h»ad_cÚd©Œ_£sh¬ed
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1014 
__psh¬ed
è
__THROW
 
	`__nÚnuÎ
 ((1));

1016 #ifdeà
__USE_XOPEN2K


1018 
	$±h»ad_cÚd©Œ_g‘şock
 (cÚ¡ 
±h»ad_cÚd©Œ_t
 *

1019 
__»¡riù
 
__©Œ
,

1020 
__şockid_t
 *
__»¡riù
 
__şock_id
)

1021 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1024 
	$±h»ad_cÚd©Œ_£tşock
 (
±h»ad_cÚd©Œ_t
 *
__©Œ
,

1025 
__şockid_t
 
__şock_id
)

1026 
__THROW
 
	`__nÚnuÎ
 ((1));

1030 #ifdeà
__USE_XOPEN2K


1035 
	$±h»ad_¥š_š™
 (
±h»ad_¥šlock_t
 *
__lock
, 
__psh¬ed
)

1036 
__THROW
 
	`__nÚnuÎ
 ((1));

1039 
	$±h»ad_¥š_de¡roy
 (
±h»ad_¥šlock_t
 *
__lock
)

1040 
__THROW
 
	`__nÚnuÎ
 ((1));

1043 
	$±h»ad_¥š_lock
 (
±h»ad_¥šlock_t
 *
__lock
)

1044 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1047 
	$±h»ad_¥š_Œylock
 (
±h»ad_¥šlock_t
 *
__lock
)

1048 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1051 
	$±h»ad_¥š_uÆock
 (
±h»ad_¥šlock_t
 *
__lock
)

1052 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1059 
	$±h»ad_b¬r›r_š™
 (
±h»ad_b¬r›r_t
 *
__»¡riù
 
__b¬r›r
,

1060 cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *
__»¡riù


1061 
__©Œ
, 
__couÁ
)

1062 
__THROW
 
	`__nÚnuÎ
 ((1));

1065 
	$±h»ad_b¬r›r_de¡roy
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1066 
__THROW
 
	`__nÚnuÎ
 ((1));

1069 
	$±h»ad_b¬r›r_wa™
 (
±h»ad_b¬r›r_t
 *
__b¬r›r
)

1070 
__THROWNL
 
	`__nÚnuÎ
 ((1));

1074 
	$±h»ad_b¬r›¿‰r_š™
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1075 
__THROW
 
	`__nÚnuÎ
 ((1));

1078 
	$±h»ad_b¬r›¿‰r_de¡roy
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
)

1079 
__THROW
 
	`__nÚnuÎ
 ((1));

1082 
	$±h»ad_b¬r›¿‰r_g‘psh¬ed
 (cÚ¡ 
±h»ad_b¬r›¿‰r_t
 *

1083 
__»¡riù
 
__©Œ
,

1084 *
__»¡riù
 
__psh¬ed
)

1085 
__THROW
 
	`__nÚnuÎ
 ((1, 2));

1088 
	$±h»ad_b¬r›¿‰r_£sh¬ed
 (
±h»ad_b¬r›¿‰r_t
 *
__©Œ
,

1089 
__psh¬ed
)

1090 
__THROW
 
	`__nÚnuÎ
 ((1));

1102 
	`±h»ad_key_ü—‹
 (
±h»ad_key_t
 *
__key
,

1103 (*
__de¡r_funùiÚ
) (*))

1104 
__THROW
 
	`__nÚnuÎ
 ((1));

1107 
	$±h»ad_key_d–‘e
 (
±h»ad_key_t
 
__key
è
__THROW
;

1110 *
	$±h»ad_g‘¥ecific
 (
±h»ad_key_t
 
__key
è
__THROW
;

1113 
	$±h»ad_£t¥ecific
 (
±h»ad_key_t
 
__key
,

1114 cÚ¡ *
__poš‹r
è
__THROW
 ;

1117 #ifdeà
__USE_XOPEN2K


1119 
	$±h»ad_g‘ıuşockid
 (
±h»ad_t
 
__th»ad_id
,

1120 
__şockid_t
 *
__şock_id
)

1121 
__THROW
 
	`__nÚnuÎ
 ((2));

1136 
	`±h»ad_©fÜk
 ((*
__´•¬e
) (),

1137 (*
__·»Á
) (),

1138 (*
__chd
è()è
__THROW
;

1141 #ifdeà
__USE_EXTERN_INLINES


1143 
__ex‹º_šlše
 

1144 
	`__NTH
 (
	$±h»ad_equ®
 (
±h»ad_t
 
__th»ad1
,…th»ad_ˆ
__th»ad2
))

1146  
__th»ad1
 =ğ
__th»ad2
;

1147 
	}
}

1150 
	g__END_DECLS


	@/usr/include/wctype.h

23 #iâdeà
_WCTYPE_H


25 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 #iâdeà
__Ãed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__Ãed_wšt_t


	)

33 
	~<wch¬.h
>

37 #iâdeà
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #undeà
__Ãed_iswxxx


46 #iâdeà
__iswxxx_defšed


47 
	#__iswxxx_defšed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	twùy³_t
;

53 
	g__END_NAMESPACE_C99


55 #iâdeà
_ISwb™


60 
	~<’dŸn.h
>

61 #ià
__BYTE_ORDER
 =ğ
__BIG_ENDIAN


62 
	#_ISwb™
(
b™
è(1 << (b™))

	)

64 
	#_ISwb™
(
b™
) \

65 ((
b™
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
b™
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
b™
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (è((1UL << (
b™
)è>> 24))))

	)

73 
	m__ISwuµ”
 = 0,

74 
	m__ISwlow”
 = 1,

75 
	m__ISw®pha
 = 2,

76 
	m__ISwdig™
 = 3,

77 
	m__ISwxdig™
 = 4,

78 
	m__ISw¥aû
 = 5,

79 
	m__ISw´št
 = 6,

80 
	m__ISwg¿ph
 = 7,

81 
	m__ISwbÏnk
 = 8,

82 
	m__ISwúŒl
 = 9,

83 
	m__ISwpunù
 = 10,

84 
	m__ISw®num
 = 11,

86 
	m_ISwuµ”
 = 
_ISwb™
 (
__ISwuµ”
),

87 
	m_ISwlow”
 = 
_ISwb™
 (
__ISwlow”
),

88 
	m_ISw®pha
 = 
_ISwb™
 (
__ISw®pha
),

89 
	m_ISwdig™
 = 
_ISwb™
 (
__ISwdig™
),

90 
	m_ISwxdig™
 = 
_ISwb™
 (
__ISwxdig™
),

91 
	m_ISw¥aû
 = 
_ISwb™
 (
__ISw¥aû
),

92 
	m_ISw´št
 = 
_ISwb™
 (
__ISw´št
),

93 
	m_ISwg¿ph
 = 
_ISwb™
 (
__ISwg¿ph
),

94 
	m_ISwbÏnk
 = 
_ISwb™
 (
__ISwbÏnk
),

95 
	m_ISwúŒl
 = 
_ISwb™
 (
__ISwúŒl
),

96 
	m_ISwpunù
 = 
_ISwb™
 (
__ISwpunù
),

97 
	m_ISw®num
 = 
_ISwb™
 (
__ISw®num
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$isw®num
 (
wšt_t
 
__wc
è
__THROW
;

117 
	$isw®pha
 (
wšt_t
 
__wc
è
__THROW
;

120 
	$iswúŒl
 (
wšt_t
 
__wc
è
__THROW
;

124 
	$iswdig™
 (
wšt_t
 
__wc
è
__THROW
;

128 
	$iswg¿ph
 (
wšt_t
 
__wc
è
__THROW
;

133 
	$iswlow”
 (
wšt_t
 
__wc
è
__THROW
;

136 
	$isw´št
 (
wšt_t
 
__wc
è
__THROW
;

141 
	$iswpunù
 (
wšt_t
 
__wc
è
__THROW
;

146 
	$isw¥aû
 (
wšt_t
 
__wc
è
__THROW
;

151 
	$iswuµ”
 (
wšt_t
 
__wc
è
__THROW
;

156 
	$iswxdig™
 (
wšt_t
 
__wc
è
__THROW
;

161 #ifdeà
__USE_ISOC99


162 
	$iswbÏnk
 (
wšt_t
 
__wc
è
__THROW
;

171 
wùy³_t
 
	$wùy³
 (cÚ¡ *
__´İ”ty
è
__THROW
;

175 
	$iswùy³
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
è
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 cÚ¡ 
	t__št32_t
 *
	twù¿ns_t
;

187 
__END_NAMESPACE_C99


188 #ifdeà
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
wù¿ns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wšt_t
 
	$towlow”
 (
wšt_t
 
__wc
è
__THROW
;

197 
wšt_t
 
	$towuµ”
 (
wšt_t
 
__wc
è
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifdeà
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
wù¿ns_t
 
	$wù¿ns
 (cÚ¡ *
__´İ”ty
è
__THROW
;

221 
wšt_t
 
	$towù¿ns
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
è
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifdeà
__USE_XOPEN2K8


226 
	~<xloÿË.h
>

230 
	$isw®num_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

236 
	$isw®pha_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

239 
	$iswúŒl_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

243 
	$iswdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

247 
	$iswg¿ph_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

252 
	$iswlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

255 
	$isw´št_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

260 
	$iswpunù_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

265 
	$isw¥aû_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

270 
	$iswuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

275 
	$iswxdig™_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

280 
	$iswbÏnk_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

284 
wùy³_t
 
	$wùy³_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

285 
__THROW
;

289 
	$iswùy³_l
 (
wšt_t
 
__wc
, 
wùy³_t
 
__desc
, 
__loÿË_t
 
__loÿË
)

290 
__THROW
;

298 
wšt_t
 
	$towlow”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

301 
wšt_t
 
	$towuµ”_l
 (
wšt_t
 
__wc
, 
__loÿË_t
 
__loÿË
è
__THROW
;

305 
wù¿ns_t
 
	$wù¿ns_l
 (cÚ¡ *
__´İ”ty
, 
__loÿË_t
 
__loÿË
)

306 
__THROW
;

309 
wšt_t
 
	$towù¿ns_l
 (
wšt_t
 
__wc
, 
wù¿ns_t
 
__desc
,

310 
__loÿË_t
 
__loÿË
è
__THROW
;

314 
__END_DECLS


	@/usr/include/bits/errno.h

19 #ifdeà
_ERRNO_H


21 #undeà
EDOM


22 #undeà
EILSEQ


23 #undeà
ERANGE


24 
	~<lšux/”ºo.h
>

27 
	#ENOTSUP
 
EOPNOTSUPP


	)

30 #iâdeà
ECANCELED


31 
	#ECANCELED
 125

	)

35 #iâdeà
EOWNERDEAD


36 
	#EOWNERDEAD
 130

	)

37 
	#ENOTRECOVERABLE
 131

	)

40 #iâdeà
ERFKILL


41 
	#ERFKILL
 132

	)

44 #iâdeà
EHWPOISON


45 
	#EHWPOISON
 133

	)

48 #iâdeà
__ASSEMBLER__


50 *
	$__”ºo_loÿtiÚ
 (è
__THROW
 
	`__©Œibu‹__
 ((
__cÚ¡__
));

52 #ià!
defšed
 
_LIBC
 || defšed 
_LIBC_REENTRANT


54 
	#”ºo
 (*
	`__”ºo_loÿtiÚ
 ())

	)

59 #ià!
defšed
 
_ERRNO_H
 && defšed 
__Ãed_Em©h


63 
	#EDOM
 33

	)

64 
	#EILSEQ
 84

	)

65 
	#ERANGE
 34

	)

	@/usr/include/bits/setjmp.h

19 #iâdeà
_BITS_SETJMP_H


20 
	#_BITS_SETJMP_H
 1

	)

22 #ià!
defšed
 
_SETJMP_H
 && !defšed 
_PTHREAD_H


26 
	~<b™s/wÜdsize.h
>

28 #iâdeà
_ASM


30 #ià
__WORDSIZE
 == 64

31 
	t__jmp_buf
[8];

32 #–ià
defšed
 
__x86_64__


33 
	t__jmp_buf
[8];

35 
	t__jmp_buf
[6];

	@/usr/include/sched.h

20 #iâdef 
_SCHED_H


21 
	#_SCHED_H
 1

	)

23 
	~<ã©u»s.h
>

26 
	~<b™s/ty³s.h
>

28 
	#__Ãed_size_t


	)

29 
	~<¡ddef.h
>

31 
	#__Ãed_time_t


	)

32 
	#__Ãed_time¥ec


	)

33 
	~<time.h
>

35 #iâdeà
__pid_t_defšed


36 
__pid_t
 
	tpid_t
;

37 
	#__pid_t_defšed


	)

42 
	~<b™s/sched.h
>

44 
	#sched_´iÜ™y
 
__sched_´iÜ™y


	)

47 
__BEGIN_DECLS


50 
	$sched_£¬am
 (
__pid_t
 
__pid
, cÚ¡ 
sched_·¿m
 *
__·¿m
)

51 
__THROW
;

54 
	$sched_g‘·¿m
 (
__pid_t
 
__pid
, 
sched_·¿m
 *
__·¿m
è
__THROW
;

57 
	$sched_£tscheduËr
 (
__pid_t
 
__pid
, 
__pŞicy
,

58 cÚ¡ 
sched_·¿m
 *
__·¿m
è
__THROW
;

61 
	$sched_g‘scheduËr
 (
__pid_t
 
__pid
è
__THROW
;

64 
	$sched_y›ld
 (è
__THROW
;

67 
	$sched_g‘_´iÜ™y_max
 (
__®gÜ™hm
è
__THROW
;

70 
	$sched_g‘_´iÜ™y_mš
 (
__®gÜ™hm
è
__THROW
;

73 
	$sched_¼_g‘_š‹rv®
 (
__pid_t
 
__pid
, 
time¥ec
 *
__t
è
__THROW
;

76 #ifdeà
__USE_GNU


78 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

79 
	#CPU_SET
(
ıu
, 
ıu£
è
	`__CPU_SET_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

80 
	#CPU_CLR
(
ıu
, 
ıu£
è
	`__CPU_CLR_S
 (ıu,  (
ıu_£t_t
), cpu£)

	)

81 
	#CPU_ISSET
(
ıu
, 
ıu£
è
	`__CPU_ISSET_S
 (ıu,  (
ıu_£t_t
), \

82 
ıu£
)

	)

83 
	#CPU_ZERO
(
ıu£
è
	`__CPU_ZERO_S
 ( (
ıu_£t_t
), cpu£)

	)

84 
	#CPU_COUNT
(
ıu£
è
	`__CPU_COUNT_S
 ( (
ıu_£t_t
), cpu£)

	)

86 
	#CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_SET_S
 (ıu, s‘size, cpu£)

	)

87 
	#CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_CLR_S
 (ıu, s‘size, cpu£)

	)

88 
	#CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
è
	`__CPU_ISSET_S
 (cpu, setsize, \

89 
ıu£
)

	)

90 
	#CPU_ZERO_S
(
£tsize
, 
ıu£
è
	`__CPU_ZERO_S
 (£tsize, cpu£)

	)

91 
	#CPU_COUNT_S
(
£tsize
, 
ıu£
è
	`__CPU_COUNT_S
 (£tsize, cpu£)

	)

93 
	#CPU_EQUAL
(
ıu£1
, 
ıu£2
) \

94 
	`__CPU_EQUAL_S
 ( (
ıu_£t_t
), 
ıu£1
, 
ıu£2
)

	)

95 
	#CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

96 
	`__CPU_EQUAL_S
 (
£tsize
, 
ıu£1
, 
ıu£2
)

	)

98 
	#CPU_AND
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

99 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

100 
	#CPU_OR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

101 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

102 
	#CPU_XOR
(
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

103 
	`__CPU_OP_S
 ( (
ıu_£t_t
), 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

104 
	#CPU_AND_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

105 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, &)

	)

106 
	#CPU_OR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

107 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, |)

	)

108 
	#CPU_XOR_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
) \

109 
	`__CPU_OP_S
 (
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, ^)

	)

111 
	#CPU_ALLOC_SIZE
(
couÁ
è
	`__CPU_ALLOC_SIZE
 (couÁ)

	)

112 
	#CPU_ALLOC
(
couÁ
è
	`__CPU_ALLOC
 (couÁ)

	)

113 
	#CPU_FREE
(
ıu£t
è
	`__CPU_FREE
 (ıu£t)

	)

117 
	$sched_£ffš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

118 cÚ¡ 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

121 
	$sched_g‘affš™y
 (
__pid_t
 
__pid
, 
size_t
 
__ıu£tsize
,

122 
ıu_£t_t
 *
__ıu£t
è
__THROW
;

125 
__END_DECLS


	@/usr/include/bits/sched.h

21 #iâdeà
__Ãed_sched·¿m


23 #iâdeà
_SCHED_H


29 
	#SCHED_OTHER
 0

	)

30 
	#SCHED_FIFO
 1

	)

31 
	#SCHED_RR
 2

	)

32 #ifdeà
__USE_GNU


33 
	#SCHED_BATCH
 3

	)

34 
	#SCHED_IDLE
 5

	)

36 
	#SCHED_RESET_ON_FORK
 0x40000000

	)

39 #ifdeà
__USE_GNU


41 
	#CSIGNAL
 0x000000fà

	)

42 
	#CLONE_VM
 0x00000100

	)

43 
	#CLONE_FS
 0x00000200

	)

44 
	#CLONE_FILES
 0x00000400

	)

45 
	#CLONE_SIGHAND
 0x00000800

	)

46 
	#CLONE_PTRACE
 0x00002000

	)

47 
	#CLONE_VFORK
 0x00004000

	)

49 
	#CLONE_PARENT
 0x00008000

	)

51 
	#CLONE_THREAD
 0x00010000

	)

52 
	#CLONE_NEWNS
 0x00020000

	)

53 
	#CLONE_SYSVSEM
 0x00040000

	)

54 
	#CLONE_SETTLS
 0x00080000

	)

55 
	#CLONE_PARENT_SETTID
 0x00100000

	)

57 
	#CLONE_CHILD_CLEARTID
 0x00200000

	)

59 
	#CLONE_DETACHED
 0x00400000

	)

60 
	#CLONE_UNTRACED
 0x00800000

	)

62 
	#CLONE_CHILD_SETTID
 0x01000000

	)

64 
	#CLONE_NEWUTS
 0x04000000

	)

65 
	#CLONE_NEWIPC
 0x08000000

	)

66 
	#CLONE_NEWUSER
 0x10000000

	)

67 
	#CLONE_NEWPID
 0x20000000

	)

68 
	#CLONE_NEWNET
 0x40000000

	)

69 
	#CLONE_IO
 0x80000000

	)

73 
	ssched_·¿m


75 
	m__sched_´iÜ™y
;

78 
	g__BEGIN_DECLS


80 #ifdeà
__USE_GNU


82 
şÚe
 ((*
__â
è(*
__¬g
), *
__chd_¡ack
,

83 
__æags
, *
__¬g
, ...è
__THROW
;

86 
	$unsh¬e
 (
__æags
è
__THROW
;

89 
	$sched_g‘ıu
 (è
__THROW
;

92 
	$£Šs
 (
__fd
, 
__n¡y³
è
__THROW
;

96 
__END_DECLS


100 #ià!
defšed
 
__defšed_sched·¿m
 \

101 && (
defšed
 
__Ãed_sched·¿m
 || defšed 
_SCHED_H
)

102 
	#__defšed_sched·¿m
 1

	)

104 
	s__sched_·¿m


106 
__sched_´iÜ™y
;

108 #undeà
__Ãed_sched·¿m


112 #ià
defšed
 
_SCHED_H
 && !defšed 
__ıu_£t_t_defšed


113 
	#__ıu_£t_t_defšed


	)

115 
	#__CPU_SETSIZE
 1024

	)

116 
	#__NCPUBITS
 (8 *  (
__ıu_mask
))

	)

119 
	t__ıu_mask
;

122 
	#__CPUELT
(
ıu
è((ıuè/ 
__NCPUBITS
)

	)

123 
	#__CPUMASK
(
ıu
è((
__ıu_mask
è1 << ((ıuè% 
__NCPUBITS
))

	)

128 
__ıu_mask
 
__b™s
[
__CPU_SETSIZE
 / 
__NCPUBITS
];

129 } 
	tıu_£t_t
;

132 #ià
	`__GNUC_PREREQ
 (2, 91)

133 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

134 dØ
	`__butš_mem£t
 (
ıu£
, '\0', 
£tsize
); 0)

	)

136 
	#__CPU_ZERO_S
(
£tsize
, 
ıu£
) \

138 
size_t
 
__i
; \

139 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

140 
__ıu_mask
 *
__b™s
 = (
ıu£
)->__bits; \

141 
__i
 = 0; __˜< 
__imax
; ++__i) \

142 
__b™s
[
__i
] = 0; \

143 
	}
} 0)

	)

145 
	#__CPU_SET_S
(
ıu
, 
£tsize
, 
ıu£
) \

146 (
__ex‹nsiÚ__
 \

147 ({ 
size_t
 
__ıu
 = (
ıu
); \

148 
__ıu
 < 8 * (
£tsize
) \

149 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

150 |ğ
	`__CPUMASK
 (
__ıu
)) \

151 : 0; }))

	)

152 
	#__CPU_CLR_S
(
ıu
, 
£tsize
, 
ıu£
) \

153 (
__ex‹nsiÚ__
 \

154 ({ 
size_t
 
__ıu
 = (
ıu
); \

155 
__ıu
 < 8 * (
£tsize
) \

156 ? (((
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

157 &ğ~
	`__CPUMASK
 (
__ıu
)) \

158 : 0; }))

	)

159 
	#__CPU_ISSET_S
(
ıu
, 
£tsize
, 
ıu£
) \

160 (
__ex‹nsiÚ__
 \

161 ({ 
size_t
 
__ıu
 = (
ıu
); \

162 
__ıu
 < 8 * (
£tsize
) \

163 ? ((((cÚ¡ 
__ıu_mask
 *è((
ıu£
)->
__b™s
))[
	`__CPUELT
 (
__ıu
)] \

164 & 
	`__CPUMASK
 (
__ıu
))) != 0 \

165 : 0; }))

	)

167 
	#__CPU_COUNT_S
(
£tsize
, 
ıu£
) \

168 
	`__sched_ıucouÁ
 (
£tsize
, 
ıu£
)

	)

170 #ià
__GNUC_PREREQ
 (2, 91)

171 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

172 (
	`__butš_memcmp
 (
ıu£1
, 
ıu£2
, 
£tsize
è=ğ0)

	)

174 
	#__CPU_EQUAL_S
(
£tsize
, 
ıu£1
, 
ıu£2
) \

175 (
__ex‹nsiÚ__
 \

176 ({ cÚ¡ 
__ıu_mask
 *
__¬r1
 = (
ıu£1
)->
__b™s
; \

177 cÚ¡ 
__ıu_mask
 *
__¬r2
 = (
ıu£2
)->
__b™s
; \

178 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

179 
size_t
 
__i
; \

180 
__i
 = 0; __˜< 
__imax
; ++__i) \

181 ià(
__¬r1
[
__i
] !ğ
__¬r2
[__i]) \

183 
__i
 =ğ
__imax
; }))

	)

186 
	#__CPU_OP_S
(
£tsize
, 
de¡£t
, 
¤c£t1
, 
¤c£t2
, 
İ
) \

187 (
__ex‹nsiÚ__
 \

188 ({ 
ıu_£t_t
 *
__de¡
 = (
de¡£t
); \

189 cÚ¡ 
__ıu_mask
 *
__¬r1
 = (
¤c£t1
)->
__b™s
; \

190 cÚ¡ 
__ıu_mask
 *
__¬r2
 = (
¤c£t2
)->
__b™s
; \

191 
size_t
 
__imax
 = (
£tsize
è/  (
__ıu_mask
); \

192 
size_t
 
__i
; \

193 
__i
 = 0; __˜< 
__imax
; ++__i) \

194 ((
__ıu_mask
 *è
__de¡
->
__b™s
)[
__i
] = 
__¬r1
[__i] 
İ
 
__¬r2
[__i]; \

195 
__de¡
; }))

	)

197 
	#__CPU_ALLOC_SIZE
(
couÁ
) \

198 ((((
couÁ
è+ 
__NCPUBITS
 - 1è/ __NCPUBITSè*  (
__ıu_mask
))

	)

199 
	#__CPU_ALLOC
(
couÁ
è
	`__sched_ıu®loc
 (couÁ)

	)

200 
	#__CPU_FREE
(
ıu£t
è
	`__sched_ıuä“
 (ıu£t)

	)

202 
__BEGIN_DECLS


204 
	$__sched_ıucouÁ
 (
size_t
 
__£tsize
, cÚ¡ 
ıu_£t_t
 *
__£
)

205 
__THROW
;

206 
ıu_£t_t
 *
	$__sched_ıu®loc
 (
size_t
 
__couÁ
è
__THROW
 
__wur
;

207 
	$__sched_ıuä“
 (
ıu_£t_t
 *
__£t
è
__THROW
;

209 
__END_DECLS


	@/usr/include/linux/errno.h

1 
	~<asm/”ºo.h
>

	@/usr/include/asm/errno.h

1 
	~<asm-g’”ic/”ºo.h
>

	@/usr/include/asm-generic/errno.h

1 #iâdeà
_ASM_GENERIC_ERRNO_H


2 
	#_ASM_GENERIC_ERRNO_H


	)

4 
	~<asm-g’”ic/”ºo-ba£.h
>

6 
	#EDEADLK
 35

	)

7 
	#ENAMETOOLONG
 36

	)

8 
	#ENOLCK
 37

	)

9 
	#ENOSYS
 38

	)

10 
	#ENOTEMPTY
 39

	)

11 
	#ELOOP
 40

	)

12 
	#EWOULDBLOCK
 
EAGAIN


	)

13 
	#ENOMSG
 42

	)

14 
	#EIDRM
 43

	)

15 
	#ECHRNG
 44

	)

16 
	#EL2NSYNC
 45

	)

17 
	#EL3HLT
 46

	)

18 
	#EL3RST
 47

	)

19 
	#ELNRNG
 48

	)

20 
	#EUNATCH
 49

	)

21 
	#ENOCSI
 50

	)

22 
	#EL2HLT
 51

	)

23 
	#EBADE
 52

	)

24 
	#EBADR
 53

	)

25 
	#EXFULL
 54

	)

26 
	#ENOANO
 55

	)

27 
	#EBADRQC
 56

	)

28 
	#EBADSLT
 57

	)

30 
	#EDEADLOCK
 
EDEADLK


	)

32 
	#EBFONT
 59

	)

33 
	#ENOSTR
 60

	)

34 
	#ENODATA
 61

	)

35 
	#ETIME
 62

	)

36 
	#ENOSR
 63

	)

37 
	#ENONET
 64

	)

38 
	#ENOPKG
 65

	)

39 
	#EREMOTE
 66

	)

40 
	#ENOLINK
 67

	)

41 
	#EADV
 68

	)

42 
	#ESRMNT
 69

	)

43 
	#ECOMM
 70

	)

44 
	#EPROTO
 71

	)

45 
	#EMULTIHOP
 72

	)

46 
	#EDOTDOT
 73

	)

47 
	#EBADMSG
 74

	)

48 
	#EOVERFLOW
 75

	)

49 
	#ENOTUNIQ
 76

	)

50 
	#EBADFD
 77

	)

51 
	#EREMCHG
 78

	)

52 
	#ELIBACC
 79

	)

53 
	#ELIBBAD
 80

	)

54 
	#ELIBSCN
 81

	)

55 
	#ELIBMAX
 82

	)

56 
	#ELIBEXEC
 83

	)

57 
	#EILSEQ
 84

	)

58 
	#ERESTART
 85

	)

59 
	#ESTRPIPE
 86

	)

60 
	#EUSERS
 87

	)

61 
	#ENOTSOCK
 88

	)

62 
	#EDESTADDRREQ
 89

	)

63 
	#EMSGSIZE
 90

	)

64 
	#EPROTOTYPE
 91

	)

65 
	#ENOPROTOOPT
 92

	)

66 
	#EPROTONOSUPPORT
 93

	)

67 
	#ESOCKTNOSUPPORT
 94

	)

68 
	#EOPNOTSUPP
 95

	)

69 
	#EPFNOSUPPORT
 96

	)

70 
	#EAFNOSUPPORT
 97

	)

71 
	#EADDRINUSE
 98

	)

72 
	#EADDRNOTAVAIL
 99

	)

73 
	#ENETDOWN
 100

	)

74 
	#ENETUNREACH
 101

	)

75 
	#ENETRESET
 102

	)

76 
	#ECONNABORTED
 103

	)

77 
	#ECONNRESET
 104

	)

78 
	#ENOBUFS
 105

	)

79 
	#EISCONN
 106

	)

80 
	#ENOTCONN
 107

	)

81 
	#ESHUTDOWN
 108

	)

82 
	#ETOOMANYREFS
 109

	)

83 
	#ETIMEDOUT
 110

	)

84 
	#ECONNREFUSED
 111

	)

85 
	#EHOSTDOWN
 112

	)

86 
	#EHOSTUNREACH
 113

	)

87 
	#EALREADY
 114

	)

88 
	#EINPROGRESS
 115

	)

89 
	#ESTALE
 116

	)

90 
	#EUCLEAN
 117

	)

91 
	#ENOTNAM
 118

	)

92 
	#ENAVAIL
 119

	)

93 
	#EISNAM
 120

	)

94 
	#EREMOTEIO
 121

	)

95 
	#EDQUOT
 122

	)

97 
	#ENOMEDIUM
 123

	)

98 
	#EMEDIUMTYPE
 124

	)

99 
	#ECANCELED
 125

	)

100 
	#ENOKEY
 126

	)

101 
	#EKEYEXPIRED
 127

	)

102 
	#EKEYREVOKED
 128

	)

103 
	#EKEYREJECTED
 129

	)

106 
	#EOWNERDEAD
 130

	)

107 
	#ENOTRECOVERABLE
 131

	)

109 
	#ERFKILL
 132

	)

111 
	#EHWPOISON
 133

	)

	@/usr/include/asm-generic/errno-base.h

1 #iâdeà
_ASM_GENERIC_ERRNO_BASE_H


2 
	#_ASM_GENERIC_ERRNO_BASE_H


	)

4 
	#EPERM
 1

	)

5 
	#ENOENT
 2

	)

6 
	#ESRCH
 3

	)

7 
	#EINTR
 4

	)

8 
	#EIO
 5

	)

9 
	#ENXIO
 6

	)

10 
	#E2BIG
 7

	)

11 
	#ENOEXEC
 8

	)

12 
	#EBADF
 9

	)

13 
	#ECHILD
 10

	)

14 
	#EAGAIN
 11

	)

15 
	#ENOMEM
 12

	)

16 
	#EACCES
 13

	)

17 
	#EFAULT
 14

	)

18 
	#ENOTBLK
 15

	)

19 
	#EBUSY
 16

	)

20 
	#EEXIST
 17

	)

21 
	#EXDEV
 18

	)

22 
	#ENODEV
 19

	)

23 
	#ENOTDIR
 20

	)

24 
	#EISDIR
 21

	)

25 
	#EINVAL
 22

	)

26 
	#ENFILE
 23

	)

27 
	#EMFILE
 24

	)

28 
	#ENOTTY
 25

	)

29 
	#ETXTBSY
 26

	)

30 
	#EFBIG
 27

	)

31 
	#ENOSPC
 28

	)

32 
	#ESPIPE
 29

	)

33 
	#EROFS
 30

	)

34 
	#EMLINK
 31

	)

35 
	#EPIPE
 32

	)

36 
	#EDOM
 33

	)

37 
	#ERANGE
 34

	)

	@
1
.
1
/usr/include
206
4244
devices/block.c
devices/block.h
devices/ide.c
devices/ide.h
devices/input.c
devices/input.h
devices/intq.c
devices/intq.h
devices/kbd.c
devices/kbd.h
devices/partition.c
devices/partition.h
devices/pci.c
devices/pci.h
devices/pci_lookup.h
devices/pit.c
devices/pit.h
devices/rtc.c
devices/rtc.h
devices/serial.c
devices/serial.h
devices/speaker.c
devices/speaker.h
devices/timer.c
devices/timer.h
devices/usb.c
devices/usb.h
devices/usb_ehci.c
devices/usb_hub.c
devices/usb_hub.h
devices/usb_storage.c
devices/usb_uhci.c
devices/vga.c
devices/vga.h
filesys/directory.c
filesys/directory.h
filesys/file.c
filesys/file.h
filesys/filesys.c
filesys/filesys.h
filesys/free-map.c
filesys/free-map.h
filesys/fsutil.c
filesys/fsutil.h
filesys/inode.c
filesys/inode.h
filesys/off_t.h
lib/arithmetic.c
lib/ctype.h
lib/debug.c
lib/debug.h
lib/endian.h
lib/inttypes.h
lib/kernel/bitmap.c
lib/kernel/bitmap.h
lib/kernel/console.c
lib/kernel/console.h
lib/kernel/debug.c
lib/kernel/hash.c
lib/kernel/hash.h
lib/kernel/list.c
lib/kernel/list.h
lib/kernel/stdio.h
lib/limits.h
lib/packed.h
lib/random.c
lib/random.h
lib/round.h
lib/stdarg.h
lib/stdbool.h
lib/stddef.h
lib/stdint.h
lib/stdio.c
lib/stdio.h
lib/stdlib.c
lib/stdlib.h
lib/string.c
lib/string.h
lib/syscall-nr.h
lib/user/console.c
lib/user/debug.c
lib/user/entry.c
lib/user/stdio.h
lib/user/syscall.c
lib/user/syscall.h
lib/ustar.c
lib/ustar.h
threads/flags.h
threads/init.c
threads/init.h
threads/interrupt.c
threads/interrupt.h
threads/intr-stubs.S
threads/intr-stubs.h
threads/io.h
threads/kernel.lds.S
threads/loader.S
threads/loader.h
threads/malloc.c
threads/malloc.h
threads/palloc.c
threads/palloc.h
threads/pte.h
threads/start.S
threads/switch.S
threads/switch.h
threads/synch.c
threads/synch.h
threads/thread.c
threads/thread.h
threads/vaddr.h
userprog/exception.c
userprog/exception.h
userprog/gdt.c
userprog/gdt.h
userprog/pagedir.c
userprog/pagedir.h
userprog/process.c
userprog/process.h
userprog/syscall.c
userprog/syscall.h
userprog/tss.c
userprog/tss.h
/usr/include/ctype.h
/usr/include/endian.h
/usr/include/inttypes.h
/usr/include/limits.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/syscall.h
tests/threads/tests.h
/usr/include/alloca.h
/usr/include/bits/byteswap.h
/usr/include/bits/endian.h
/usr/include/bits/posix1_lim.h
/usr/include/bits/posix2_lim.h
/usr/include/bits/stdio-ldbl.h
/usr/include/bits/stdio.h
/usr/include/bits/stdio2.h
/usr/include/bits/stdio_lim.h
/usr/include/bits/stdlib-float.h
/usr/include/bits/stdlib-ldbl.h
/usr/include/bits/stdlib.h
/usr/include/bits/string.h
/usr/include/bits/string2.h
/usr/include/bits/string3.h
/usr/include/bits/sys_errlist.h
/usr/include/bits/types.h
/usr/include/bits/waitflags.h
/usr/include/bits/waitstatus.h
/usr/include/bits/wchar.h
/usr/include/bits/wordsize.h
/usr/include/bits/xopen_lim.h
/usr/include/features.h
/usr/include/getopt.h
/usr/include/libio.h
/usr/include/sys/syscall.h
/usr/include/sys/types.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/asm/unistd.h
/usr/include/bits/byteswap-16.h
/usr/include/bits/libio-ldbl.h
/usr/include/bits/local_lim.h
/usr/include/bits/pthreadtypes.h
/usr/include/bits/stdio-lock.h
/usr/include/bits/syscall.h
/usr/include/bits/typesizes.h
/usr/include/gnu/stubs.h
/usr/include/stdc-predef.h
/usr/include/sys/cdefs.h
/usr/include/sys/select.h
/usr/include/sys/sysmacros.h
/usr/include/time.h
/usr/include/asm/unistd_32.h
/usr/include/asm/unistd_64.h
/usr/include/asm/unistd_x32.h
/usr/include/bits/libc-lock.h
/usr/include/bits/predefs.h
/usr/include/bits/select.h
/usr/include/bits/select2.h
/usr/include/bits/sigset.h
/usr/include/bits/time.h
/usr/include/gconv.h
/usr/include/gnu/stubs-32.h
/usr/include/gnu/stubs-64.h
/usr/include/gnu/stubs-x32.h
/usr/include/linux/limits.h
/usr/include/wchar.h
/usr/include/bits/timex.h
/usr/include/bits/wchar-ldbl.h
/usr/include/bits/wchar2.h
/usr/include/errno.h
/usr/include/gnu/option-groups.h
/usr/include/pthread.h
/usr/include/wctype.h
/usr/include/bits/errno.h
/usr/include/bits/setjmp.h
/usr/include/sched.h
/usr/include/bits/sched.h
/usr/include/linux/errno.h
/usr/include/asm/errno.h
/usr/include/asm-generic/errno.h
/usr/include/asm-generic/errno-base.h
